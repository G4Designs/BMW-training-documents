Table of Contents 


F01 Workbook - Module 4 

Subject Page 

HUD.10 

Projection Distance .11 

Controls .11 

Switch-on .11 

System Components.14 

Cover Glass .15 

Mirrors .15 

LED Array .15 

PCB .15 

Eyebox.15 

Driver Assistance System Control Panel .16 

Instrument-lighting Dimming .16 

Controller .16 

Adjusting the Brightness .16 

Adjusting the Height of the Horizon on the HUD.17 

Vertical Rotation of the HUD .17 

Test Functions.17 

Calling/quitting Test Functions .17 

Night Vision 2.19 

Principle of Pedestrian Detection.20 

Various Forms of Indication.20 

Availability Indicator in CID.22 


Initial Print Date: 01/09 


Revision Date: 11/09 

























Table of Contents 


Subject Page 

Symbols in HUD (Head-up Display) .22 

Warning in Vehicles without HUD.22 

Operation by iDrive.23 

Visibility.23 

System Components.24 

Night Vision 2 Camera .24 

Night Vision 2 Control Unit.25 

Connection of Control Units and Camera .27 

PT-CAN .27 

Adjusting Camera Pivot Position .28 

Replacing Protective Window.29 

Replacing Camera Washer Jet.29 

Displays Indicating Defective System .29 

Programming and Coding.30 

Initializing Software .30 

ACSM3 .34 

Functions .34 

Evaluating the Sensor Signals.35 

Crash and Rollover Detection .35 

Detecting a crash and determining the triggering times and the order .36 

Triggering the output stages of the firing circuits .36 

Output of Crash Telegram .37 

Crash Documentation Entries .37 

System Components.38 

Crash Safety Module .40 

Sensors and Switches .40 





























Table of Contents 


Subject Page 

Central Sensor.40 

Rollover Detection .41 

Digital data transmission by means of current interface .41 

Actuators .42 

Adaptive driver airbag with active vent valve.42 

Vent Valve .43 

Adaptive front passenger airbag with active vent valve .44 

Knee Airbags .44 

Curtain/Head Airbag .45 

Seat-integrated Side Airbag .46 

Active Head Restraint.46 

Triggering in the event of a rear-end collision .46 

Automatic seat belt tensioner with adaptive force limiter.47 

Safety Battery Terminal .47 

Airbag Warning Lamp .47 

Passenger Airbag OFF Light .47 

Electric Motor Driven Reel .48 

EMA Circuit Diagram.50 

Design and function of the electric motor driven reel .52 

Electric motor driven reel, not working .52 

Electric motor driven reel, in operation .53 

Active Blind Spot Detection (SWW) .56 

System Overview .57 

Switching the System On and Off.62 

Informing and Warning .62 

No Necessity for a Warning .63 





























Table of Contents 


Subject Page 

Information Stage.64 

Warning Stage .65 

Warning - Blind Spot Area.66 

System Components.67 

Radar Sensors .69 

Special features of the SWW2 .71 

Special features of the master (SWW).71 

Bus Connections .72 

Voltage Supply.72 

Warning light in the driver's door mirror.74 

Vibration actuator in the steering wheel .74 

Coordinating the activation of the vibration actuator.76 

Instrument Cluster.76 

The Calibration Process .77 

KAFAS.79 

System Components.80 

Circuit Diagram.82 

Lane Departure Warning .84 

KAFAS Control Unit.85 

Warning .86 

High Beam Assistant .86 

Evaluation of Image Data .87 

Control of the Main-beam Headlights.87 

System Limitations .87 

Service Information.88 

Lane Departure Warning .88 





























Table of Contents 


Subject Page 

High Beam Assistant .88 

Low-sensitivity Mode .88 

Check Control Indicator .88 

PDC-TRSVC.91 

Park Distance Control .91 

Rear View Camera Location .91 

Side View Camera.92 

Rear View Camera .93 

Diagnostics Master.101 

Time Master .101 

Centralized Fault Memory.102 

Specification of the Fault Memory Status (pseudo fault reduction) .104 

Vehicle Status Management.105 

Start up and shut down of the onboard communication network.106 

Cascading.106 

Wake-up and Sleep Memory .106 

Wake-up of the Vehicle.107 

Calculation of the Vehicle Status and Control of Vehicle Functions.110 

Control of Operating Modes.110 

Ethernet Access.Ill 

What is Ethernet?.Ill 

Ethernet Port.112 

Activation of the Ethernet Access.113 


























Table of Contents 


Subject Page 

Vehicle Connection to the BMW Shop Network .114 

Definitions.115 

Authentication.115 

Authentification.115 

Digital Signature .115 

Vehicle Configuration Management.116 

Datastorage .116 

Equipment Installation Table (SVT) .117 

Vehicle Order.118 

Vehicle Profile.118 

Integration Levels.119 

l-level Designation.119 

l-levels Container (1C) .119 

Initialization of the Vehicle Configuration Management System.120 

Reading and Writing of Data .120 

Example of Vehicle Configuration Management .120 

SWEEPING Technologies .121 

Activation by Means of Activation Code .121 

Introduction of SWT Hardware Activation.121 

Introduction of SWT Software Activation .122 

Activation of the Voice Recognition System in the CCC: .122 

SWEEPING Technologies in the F01/F02 .123 

Update of map data for the navigation system and input of the activation code .123 

Delivery Process of the Activation Codes Over ASAP.124 

Input of the Activation Code into the BMW Programming System.124 

Planned Expansion Stages .125 





























Table of Contents 


Subject Page 

Vehicle Security.126 

History and Fundamentals .126 

Threat Potential .126 

Vehicle Security Measures .126 

Benefits for Customers.126 

Benefits of the Vehicle Security System for the BMW Group and the BMW Brand .127 

Architecture of the Vehicle Security System.127 

Vehicle Security Operating Principle.128 

Preservation of Function in the Vehicle Security System .128 

Integrated Service Technical Application - Programming.129 

Reasons for introduction of the new programming system .129 

New features when compared with Progman .129 

Release Phases.130 

Phase 1 .130 

Future Phases .130 

Transforming an SSS into an ISSS.131 

Programming.131 

Programming of Control Units.134 

Programming .134 

Coding.134 

Customizing .134 

Personal Profile .134 

Programming Process .135 

Starting Programming .136 

Opening an Existing Programming Session .136 

Starting a New Programming Session.137 





























Table of Contents 


Subject Page 

Selecting Vehicle Interface.138 

Vehicle Access for MOST Bus .139 

Vehicle Access for l-bus/K-bus Vehicles.139 

Vehicle Access from the F01/F02 on .139 

Identifying the vehicle and obtaining a read-out of control unit data.140 

Producing and Configuring the Measures Plan .141 

Preparing for Programming.144 

Carrying out Repair Tasks .144 

Updating the Measures Plan.144 

Carrying Out Programming.145 

Completing Programming Session.146 














Workbook - Module 4 


Model: F01/F02 

Production: From Start of Production 


After completion of this module you will be able to: 

• Understand the new driver assistance systems implemented into the F01/F02. 

• Describe the function of the different driver assistance systems in the F01/F02. 

• Identify the components of the different driver assistance systems. 

• Describe the changes to the ACSM 3 system compared to the E65/66 Passive Safety system. 

• Describe what the Ethernet connection is utilized for on the F01/F02. 

• Understand Sweeping Technologies. 

• Understand the ISTA (Integrated Service Technical Application) and ISTA-P Programming tools. 




F01 Workbook - Module 4 

9 




10 

F01 Workbook - Module 4 


HUD 


The head-up display in the new BMW 7 Series incorporates vari¬ 
ous functions aimed at enhancing road safety and driver conven¬ 
ience. 

That includes display of: 

• Information from the DCC cruise control system 

• Information from the navigation system 

• Check Control messages 

• Road speed. 

Having the displays in the driver’s direct field of view increases 
safety, as the eyes are always on the traffic. 

The HUD can be compared to a projection device. A light source 
is required to project the HUD information. The LED array acts as 
this light source. The image content is created by the TFT projec¬ 
tion display. The TFT projection display can be compared to a fil¬ 
ter which admits or blocks light. 

An optical imaging element determines the shape and size of the 
HUD images. 

The image is projected onto the windshield and appears freely 
suspended over the road surface. 

Note: The HUD system used in the F01/F02 has been 

based on the previous head-up display system. Both 
systems share many components and operating 
principals. 


Principle of the head-up display 



“ I l t “I 

® © 


Index 

Explanation 

Index 

Explanation 

1 

LED array, green 

6 

Curved mirror 

2 

LED array, red 

7 

Windshield 

3 

Transparent mirror 

8 

Observer's point of vision 

4 

TFT projection display 

9 

Projected image 

5 

Plane mirror 

























Projection Distance 

The projected HUD image content appears at a distance of approx¬ 
imately 2.7 m from the observer’s eye. 


Controls 

The following controls are used in the operation of the HUD: 

• ON/OFF button on the BEFAS 

• Dimmer wheel in the light switch cluster 

• Controller. 



Projection distance 


Index 

Explanation 

Index 

Explanation 

1 

Head-up display 

3 

Projected Image 

2 

Windshield 

4 

Projected distance 


Switch-on 

The HUD receives the terminal 30 ON status via the K-CAN. 

The HUD is partially ready for operation from terminal R ON. 

That means that: 

• The HUD can communicate with the other electrical-system 
devices via the K-CAN 

• The TFT projection display is initialized and blanked 

• The LEDs are off. 

The HUD receives the terminal 15 ON status via the K-CAN. The 
HUD is ready for operation from terminal 15 ON. This permits the 
following actions: 

• Switching on of the backlighting by the button on the BEFAS 

• HUD height adjustment 

• Adjustment of HUD brightness 

• Display of information via the HUD. 

When the vehicle is started, the vehicle is set to terminal 50 status. 
In terminal 50, i.e. Lights Off, the HUD goes into a hold status. This 
hold status is maintained until shortly after the end of the terminal 
50 status. 


F01 Workbook - Module 4 

11 











12 

F01 Workbook - Module 4 


Head-up Display System Schematic Circuit Diagram 




K-CAN 




KOMBI 


© 


K-CAN 



® 

BE FAS 

© 

© 





CON 


© 



JB 


® 




































































































Index 

Explanation 

Index 

Explanation 

1 

Central Gateway Module, ZGM 

7 

Car Information Computer, CIC 

2 

Head-up display HUD 

8 

Instrument cluster KOMBI 

3 

Central Information Display CID 

9 

Driver assistance system control 
panel (BEFAS) 

4 

Junction box, JB 

10 

Footwell module FRM 

5 

Front power distribution box 

K-CAN 

Body controller area network 

6 

Controller 

LIN- 

Bus 

Local Interconnect Network bus 


K-CAN signals to HUD control unit 


In/out 

Information 

Source/sink 

Function 

In 

Road speed 

Instrument cluster 

Display in the HUD 

In 

Check control message 

Instrument cluster 

Display in the HUD 

In 

Dimming/ brightness 

Rain and driving light sen¬ 
sor (RLS) via roof function 
Center (FZD) 

Brightness adjustment 

In 

Height adjustment 

CIC 

Height adjustment 

In 

Brightness offset 

CIC 

Brightness adjustment 

In 

DCC 

EHB3 

Display in the HUD 

In 

Function selection 

CIC 

What is displayed in the 
HUD 

In 

On/Off switch 

BEFAS 

Switching the HUD 
On/Off 

In 

Navigation 

CIC 

Display in the HUD 


F01 Workbook - Module 4 

13 








































































14 

F01 Workbook - Module 4 


System Components 

The head-up display is fitted above the steering column, immedi¬ 
ately behind the instrument cluster. It is fastened to the bulkhead 
supporting structure by three hexagon-head bolts. 

Location of head-up display (HUD) in F01/F02 



Index 

Explanation 

Index 

Explanation 

1 

Carrier bracket 

3 

Hexagon bolt 

2 

Head-up display HUD 




The head-up display comprizes the following components: 

• Cover glass 

• Mirrors 

• 2 LED arrays 

• TFT projection display 

• PCB 

• Housing. 

The following components are required in addition to the 
components listed above: 

• Windshield 

• Light module and BEFAS 

• Rain/light sensor 

• Roof function Center and junction box 

• HUD trim. 

The following elements are needed to operate the HUD: 

• On/Off button on BEFAS 

• Light switch in the light switch cluster 

• Instrument-lighting dimmer and 

• Controller. 














Cover Glass 

The cover glass is made from scratch-resistant, coated polycarbon¬ 
ate (PC) and forms the top cover of the HUD. The cover glass pro¬ 
tects the interior of the HUD against dust and objects accidentally 
placed on it. 


The glass combined with the HUD 
trim are curved so that any incident 
light is not reflected back to the driver. 

It also guarantees unobstructed pro¬ 
jection of the display information onto 
the windshield without interference 
from stray light effects, for instance. 



Glass Cover 


Mirrors 

Two mirrors are fitted in the head-up display. They reflect the infor¬ 
mation in the display onto the windshield. 

The concave mirror (1) is responsible for compensating for the cur¬ 
vature of the windshield and for the size and distance of the image. 

The flat mirror (2) is a deflecting mir¬ 
ror to keep the beam in the space 
provided. 

The convex mirror is made of plastic 
while the flat mirror is made of glass. 


Mirrors 



F01 Workbook 

15 


LED Array 

There are two LED arrays. The LED array is an arrangement of 
LEDs in one plane and acts as the back lighting for the TFT projec¬ 
tion display. The LED array generates the light required for the HUD 
brightness. The LED arrays consist of red and green LEDs. The 
LEDs generate the brightness of the 
HUD content as controlled by the 
master PCB. 

PCB 

The following components among 
others are incorporated on the PCB: 

• K-CAN interface 

• Processor (CPU) 

• LVDS controller 

• EEPROM memory 

• Power supply. 

The video signals are passed on to 
the display by the instrument cluster 
via an LVDS lead. 


Eyebox 

The eyebox is the movement space in which the driver can move 
without his view of the image in the HUD being impaired. 

The freedom of movement within the eyebox is roughly: 

• 70 mm vertically plus ± 30 mm range of adjustment 

• 130 mm horizontally. 

The HUD image is not clearly visible outside the eyebox limits. 



PCB 


Module 4 













16 

F01 Workbook - Module 4 


Driver Assistance System Control Panel 

The HUD On/Off button is located on the BEFAS. The button is 
resistance-coded and routed directly to the HUD. The HUD can 
identify the button signals ora button fault using the resistance 
coding. 



ON/OFF button on the BEFAS 


Instrument-lighting Dimming 

The dimmer setting is also used for the HUD with active head¬ 
lights. The dimmer signal is emitted by the light module. 



Instrument-lighting dimming 

Controller 


Adjusting the Brightness 

The brightness of the HUD can be individually adjusted through 
the controller and iDrive in the “Settings” menu. 

The brightness is set as follows: 

• Call up the main menu by pressing the menu button 

• Press the Controller and select the menu option “Settings” 

• Turn the Controller until “Head-up display” is selected on the 
menu bar and then press the Controller to confirm selection 

• Turn the Controller until “Brightness” is selected and then 
confirm 

• Set the desired brightness by turning the Controller and con¬ 
firm by pressing. 



Adjusting the brightness 


The HUD brightness and height settings are adjusted with the 
Controller via the CID. Brightness setting is also termed brightness 
offset. Functions such as e.g. navigation can also be set with the 
Controller in the Function selection menu. Therefore these settings 
have an indirect effect on the HUD display. 







Adjusting the Height of the Horizon on the HUD 

On the BMW 7 Series F01/F02, the driver can adjust the location 
of the image and the eyebox to suit his/her particular requirements 
using the iDrive controller. 

The eyebox can be shifted up to a maximum of ± 30 mm upwards 
or downwards. 

The height setting is adjusted as follows: 

• Call up the main menu by pressing the menu button 

• Press the Controller and select the menu option “Settings” 

• Turn the Controller until “Head-up display” is selected and 
then press the Controller to confirm selection 

• Turn the Controller until “Height setting” is selected and then 
press to confirm 

• Set the desired height by turning the Controller and confirm by 
pressing 



Adjusting the Height 


Note: The height can only be adjusted when the HUD 
is active. 


F01 Workbook 

17 


The height adjustment is in the scope of the PIA. The setting is 
stored in the EEPROM for each key. If the signal “Radio remote 
key status” is received when Terminal 30 is on, the mirror moves 
to the position set for the current key. 

The mirror remains in that position as long as the HUD is 
switched on. 

Vertical Rotation of the HUD 

The HUD is supplied as standard with a defined basic setting. The 
HUD image can be rotated in the horizontal by a service technician 
using vertical rotation, after a change of windshield, for instance. 

The display is adjustable within a range of -° to +3° by means of 
a motor. 

Detailed information may be found in the TIS and ISIS. 

Test Functions 

Calling/quitting Test Functions 

Certain test functions may be also invoked directly on the HUD 
without using a BMW diagnostic system, as follows: 

• Press and hold the button on the BEFAS for approximately 
20 seconds and then release. 

• Call up further test functions by pressing the button again 

• To exit this function, press and hold the button on the BEFAS 
for more than 20 

seconds. 


Module 4 




F01 


1 


Classroom Exercise - Head Up Display 

1. What information can be displayed in the HUD? 

2. Which display settings can be changed via Drive? 

3. Which display settings can be changed via the BMW 
Diagnosis System? 

4. How are the adjustments carried out by the HUD unit? 


Module 4 



5. How much freedom of movement does the driver have with 
in the eyebox. 




Night Vision 2 


The BMW Night Vision 2 system provides the driver with a black- 
and-white image of the driving environment ahead of the vehicle 
in the control display CD or central information display CID. 

BMW Night Vision 2 is a passive system. Objects situated ahead 
of the vehicle are shown in varying degrees of brightness depend¬ 
ing on the temperature of these objects. This enables the driver to 
detect in good time heat-emitting objects such as, for example, 
persons, animals and other vehicles. 

This thermal image is recorded with a Far Infrared camera (FIR) via 
a special imaging sensor which detects the infrared radiation in a 
specific wavelength range. 



F01 Workbook 

19 


In comparison with the previous system, Night Vision 2 employs 
algorithms in the control unit that makes it possible to automatical¬ 
ly detect people in the image. Following an evaluation of distance 
and direction of movement, a symbol on the central information 
display CID and in the head-up display HUD warns the driver of 
any persons at risk. 

The BMW system is distinguished from infrared systems by its 
robust resistance to dazzling, its long range and its clearly struc¬ 
tured image. 

The system offers the customer the following advantages: 

• Highlighting of non-illuminated, heat emitting objects such 
as pedestrians, cyclists, vehicles and animals 

• Better overview of the driving situation thanks to the depic¬ 
tion of the route of the road beyond the headlight cone 

• Improved vision in twilight (dawn/dusk) and darkness 

• Symbol warning of persons at risk in the area ahead of the 
vehicle 

• No dazzle in the screen image caused by the headlights of 
oncoming vehicles 

• Display of dark courtyard and garage entrances. 

Night Vision 2 is designed as a supporting system, which, with a 
modified driving style, affords the driver a better overview of the 
road conditions ahead of the vehicle. 

Note: The driving speed must be adapted to the relevant 
visibility conditions. 


Module 4 














20 

F01 Workbook - Module 4 


Principle of Pedestrian Detection 

The Night Vision 2 control unit is equipped with three processors 
containing software, which, in addition to image processing for dis¬ 
play, execute an automatic person detection function. The software 
searches the image for objects with human shape and classifies 
these objects as persons. 

Their position, speed and distance to the vehicle are then deter¬ 
mined. The risk level is analysed based on these parameters as 
well as on the speed and yaw rate of the vehicle and a warning is 
triggered. 

The warning for the driver, indicating persons at risk, is given in the 
form a corresponding symbol in the central information display CID 
or head-up display HUD. 

These ranges change with increasing vehicle speed and follow the 
direction of the vehicle as a function of the current steering angle 
(yaw rate). 



Symbols in CID 


In order not to unnecessarily distract the driver not all persons iden¬ 
tified in the image are signalled by a symbol. Only persons who are 
in a certain area directly in front of the vehicle are indicated by a 
symbol. 

The system also warns of pedestrians located in an extended area 
to the left and right of the vehicle and are moving towards the cen¬ 
tral area (threat of collision). 



People who are within the central zone are always indicated. 
Persons in the extended area are only indicated if they are moving 
in the direction of the central area. 

Under optimum conditions, the automatic pedestrian detection 
function operates at a distance of up to 100m/109yd. At a driving 
speed in excess of 100 km/h/62 mph, the time between signalling 
and passing the person and therefore the reaction time for braking 
and evasive maneuvers is reduced. 

Various Forms of Indication 

The following table shows the different forms of indication in the 
two display instruments CID and HUD. 














Situation 


Indication in CID 


Indication in HUD 


No pedestrians in the danger zone. 





There is a person at a great distance 
from the vehicle. 


There is a person at a closer distance from the vehicle. 


A person is crossing the road 
from right to left. 


A person is crossing the road 
from left to right. 



F01 Workbook - Module 4 

21 






















22 

F01 Workbook - Module 4 


Availability Indicator in CID 


Symbols in HUD (Head-up Display) 


The availability of the Night Vision 2 system can be restricted by 
environmental conditions such as heavy rain, extreme +/- tempera¬ 
tures or fluctuations in light conditions. 


If a person is detected at a great distance inside the warning range 
of the system the pedestrian figure will be shown distinctly above 
the road symbol. This is refered to as long-distance warning. 



Availability indicator in CID 


The possible situations for the availability indicator in the CID are 
listed in the following table. 


Situation 


The driver has activated the person detection 
function and the system is available 


The driver has activated the person detection 
function but the system is not available, the Night 
Vision 2 image is still shown 


The driver has deactivated the person detection 
function, the Night Vision 2 image is still shown 


Symbol 


Display 


Ay 






Long-distance warning 


If a person is detected in close range, inside the warning zone of 
the system, the pedestrian figure will be shown distinctly on the 
road symbol. This is refered to as short distance warning. 



Short-distance warning 


Warning in Vehicles without HUD 

The warning symbol is shown on the CID in vehicles without HUD 
or with HUD deactivated. In addition, the CID initially flashes yellow 
3 times when the warning comes on in order to catch the driver's 
attention. 

The warning is shown as soon as a person enters the warning 
zone directly ahead of the vehicle or a person crosses the road 
from the left or from the right. 





















Operation by iDrive 

The individual functions and settings can be selected and activated 
through the iDrive. 


The following settings can be selected on the F01/F02: 

• Brightness 

• Contrast 

• Pedestrian detection. 



Visibility 

The illumination range in front of the vehicle with low beam is less 
than 50m/54yd. 

Normal driving light illumination by fitted halogen headlights is 
100m/109yd. 

The high beam illumination range provided by xenon headlights is 
150m/164yd. However, people can only be detected in this range if 
they are wearing reflective clothing. 


Night Vision 2 will detect heat-emitting objects in the image up to a 
distance of about 300m/328yd, regardless of the amount of reflec¬ 
tion their clothing gives off. 

Automatic pedestrian detection has a maximum range of 
100m/109yd. This specified distance is dependent on weather fac¬ 
tors. 

The range of vision is also reduced in the Night Vision 2 image in 
the case of thick fog or heavy rain. Night Vision 2 is designed as a 
supporting system, which provides the driver a better overview of 
the road conditions ahead of the vehicle. 



Night Vision 2 range of vision with different headlights 


F01 Workbook - Module 4 

23 






24 

F01 Workbook 


System Components 


The BMW Night Vision 2 system consists of the camera, control 
unit, camera washer jet, button and the sensor system. 

The BMW Night Vision 2 system consists of the following compo¬ 
nents: 


• Night Vision 2 camera 

• Camera washer jet 

• Night Vision 2 control unit 

• Button in BEFAS 

• Sensor system 



Index 

Explanation 

1 

Night Vision 2 camera 

2 

Night Vision 2 control unit 

3 

Button in control panel of driver assist systems (BEFAS) 


Module 4 


Night Vision 2 Camera 

The Night Vision 2 camera is mounted with a bracket directly 
behind the left kidney grille. The camera is equipped with a sensor 
which detects heat-emitting objects in the far infrared range (wave¬ 
lengths from 8 pm to 14 pm). 

The infrared image camera consists of: 

• a heated optical element 

• an infrared image sensor. 

The camera features: 

• Resolution of 324 x 256 
pixels 

• Maximum angle of view 24° 

• Ambient temperature range 
is -40°C/-40F to 
+80°C/176°F 

• The image can be replaced 
up to 30 times per second. 

• The camera to be calibrated approximately every 120 to 180 
seconds to ensure consistent image quality. This calibration 
can take up to 0.3 seconds. The image may freeze briefly in 
the display while calibration takes place. 

The washer jet is screwed to the camera bracket and is situated 
directly below the protective window. It is directly connected to the 
headlight washer system. 

A heater element is incorporated on the inside of the protective 
window to prevent it from misting over or freezing up. 

The heater is located at the edge of the protective window outside 
the camera's field of vision. 



BMW Night Vision 2 camera 









Night Vision 2 Control Unit 

The control unit is installed behind the compartment in the area of 
the A-pillar directly under the light switch cluster. 



BMW Night Vision 2 control unit 

The Night Vision control is used: 

• to increase the raw pixels from 324 x 256 pixels (camera) to 
720 x 480 pixels 

• to transmit the diagnostics, programming and coding data to 
the camera 


The raw image data from the camera are transmitted through a 
LVDS cable to the control unit. 

The image output by the control 
unit is made available in the head 
unit in the form of a dCVBS signal. 

The camera-housing cover features 
a 6-pin plug connection. 


6-pin plug connection 



The button for switching 
BMW Night Vision 2 on and 
off is integrated in the BEFAS. 



Button in the BEFAS BMW 7 Series 


• to supply power to the camera and the heated optical element 

• to convert the image data from the camera into a dCVBS signal Note: The pedestrian detection function is deactivated at 

Automatic pedestrian detection is executed in the control unit. speeds below 10 km/h/6mph. For more information 

regarding this feature refer to the Vehicle Owner’s 

The diagnosis, programming and coding data are also transmitted Manual. 

to the camera through the control unit. 

The camera and the protective window heater are powered via the 
control unit. 


F01 Workbook - Module 4 

25 






26 

F01 Workbook - Module 4 


System circuit diagram F01/F02 















































































































































































Index 

Explanation 

Index 

Explanation 

1 

Night Vision 2 camera 

11 

Video switch (VSW) 

2 

Central gateway module (ZGM) 

12 

Electromagnetic parking brake (EMF) 

3 

Footwell module (FRM) 

13 

Power distribution box, rear right 

4 

Night Vision 2 control unit (NVE) 

PT-CAN 

Powertrain controller area network 

5 

Control panel, driver assist systems (BEFAS) 

K-CAN 

Body controller area network 

6 

Instrument cluster (KOMBI) 

LIN-Bus 

Local Interconnect Network bus 

7 

Central information display (CID) 

D-Bus 

Diagnosis bus 

8 

Car Information Computer (CIC) 

KI.31L 

Terminal 31, ground 

9 

Controller (CON) 

KI.15N 

Terminal 15, after running (voltage) 

10 

Junction box electronics (JB) 




Connection of Control Units and Camera 

The Night Vision 2 control unit and the night vision camera are 
connected through the following cables: 

• Private CAN-bus; Diagnosis, programming and camera control 

• LVDS-Video; Video signal from the camera 

• CAM_POW; Power supply from control unit to camera, heating 
of camera lens 

• Ground; Common ground of camera and control unit for sup¬ 
pressing interference. 

The video signal is sent via a shielded LVDS cable between the 
camera and control unit. In the control unit the signal is converted 
into an dCVBS (d = differential) video signal and, depending on the 
equipment specification, transmitted to the CIC or the video switch. 


The camera is powered under the following conditions: 

• BMW Night Vision 2 switched on by pressing button in control 
panel of driver assist systems (BEFAS) 

• Rain-driving lights sensor detects twilight or darkness. 

The BMW Night Vision 2 control unit is powered by the rear distri¬ 
bution box via terminal 15N. 

PT-CAN 

The PT-CAN connection of the Night Vision 2 control unit serves to 
transmit the diagnosis and programming data and to read out the 
information from the RLS (brightness), the JB (driving lights status, 
wiper speed) and ICM (road speed and yaw rate). In addition, the 
terminal status and the vehicle identification number (VIN) are 
transferred to the control unit via the PT-CAN. 


F01 Workbook - Module 4 

27 



Adjusting Camera Pivot Position 


28 

F01 Workbook - Module 4 



Camera alignment 


The pivot position of the camera can be adjusted by means of an 
adjusting screw at the bracket. 

The following steps must be taken to adjust the camera on the 
F01/F02: 

• Open hood(1) 

• Remove sealing lip (2) on front panel 

• Open headlight cover (3) 


Position headlight adjustment unit with spirit level in front of 
vehicle 

Insert Allen key (4) through the opening in the front panel and 
set the camera to the required position; the line in the image 
must be parallel to the spirit level 

Reassemble all parts that have been removed in reverse order. 













Replacing Protective Window 

In the event of damage the camera protective window can be 
replaced. 



Replacing front lens 


Follow The procedure below to replace the washer jet: 

• Remove bumper panel 

• Remove left-side kidney grille 

• Undo two recessed cross head screws (1) 

• Release the hose clip on the connecting hose to the headlight 
washer system and remove the washer jet towards the front 

• Reinstall all parts that have been removed in reverse order. 

Note: Camera alignment is only possible with a BMW diag¬ 
nosis system. For detailed information on howto 
service the Night Vision 2 camera, lens or washer jet 
please refer to the Repair Instructions available in TIS 
or ISTA diagnostic equipment. 


Replacing Camera Washer Jet 

A washer jet with a direct connection to the headlight washer sys¬ 
tem for cleaning the protective window is mounted on the camera. 



Displays Indicating Defective System 


In the event of a system defect, the following warnings are shown 
in the F01/F02: 

• Check Control message in 
the instrument cluster 

• The same Check Control 
message in HUD if installed. 



Display indicating defective system 


F01 Workbook - Module 4 

29 


Camera washer jet 






30 

F01 Workbook - Module 4 


Programming and Coding 

Initializing Software 

When replacing the camera, it is always necessary to initialize the 
software by entering an enable code (FSC). 

Note: The vehicle identification number (VIN) must always 
be quoted when ordering a new camera or a new con¬ 
trol unit. 

The camera is programmed and diagnosed through the control 
unit. The control unit receives the programming data for the camera 
through PT-CAN and forwards this data to the camera through the 
"private CAN-bus". 



Workshop Exercise - Night Vision 2 

Using an instructor assigned F01/F02 vehicle, the ISTA diagnostic equipment, perform the following tasks. 
Task 1: Perform the Night Vision 2 Camera Calibration. 


Task 2: List the tools necessary to perform the camera calibration below. 


F01 Workbook - Module 4 

31 




32 

F01 Workbook - Module 4 


Workshop Exercise - Night Vision 2 - Review Questions 


1. What must be done after the Night Vision camera is adjusted to finalize the procedure? 


2. What must be communicated to the customer after the Night Vision camera adjustment has been performed on the vehicle? 


3. Which components of the Night Vision 2 camera are replaceable? 


4. What bus signal pathway is used to program and diagnose the Night Vision 2 camera? 





Hjjl Classroom Exercise - Review Questions 

1. Under what conditions does the Night Vision 2 control unit provide the power supply for the Night Vision 2 camera? 

2. To which vehicle bus system is the Night Vision 2 control unit directly connected? 


3. What is this connection used for? 

4. What conditions affect the maximum visibility range of the BMW Night Vision 2 system? 


5. How far does the maximum visibility range of the BMW Night Vision 2 system extend? 

F01 Workbook - Module 4 

33 




34 

F01 Workbook - Module 4 


ACSM3 


Aversion of the ACSM system has been installed in many 
previous BMW vehicles, starting with the 5 Series as of 9/2005 to 
the E71 from 4/2008. 

The E65/E66 air bag control units are interconnected via an 
ultrafast optical bus system, called the byteflight. On the F01/F02, 
the third generation of ACSM is used as the central airbag control 
unit for the passive safety system. It differs from the previous 
ACSM crash safety modules in that it has no internal sensors. 

The function of the ACSM is to constantly evaluate all sensor 
signals in order to detect a collision situation. As a result of the 
sensor signals and their evaluation, the Crash Safety Module 
identifies the direction of the crash and the severity of the impact. 

Also included is information on the occupants and whether they 
have their seat belts fastened or not. From this information, 
measures are taken to selectively trigger the necessary restraint 
systems. 

The crash safety module monitors the system itself and indicates 
that the system is ready for operation when the airbag warning 
lamp (AWL) goes out. 

If a crash situation is detected, this is communicated to the other 
users in the bus-system network by way of a bus signal. The rele¬ 
vant control units respond to this signal by executing their own 
activities according to the severity of the crash. 

The activities include: 

• Opening the central-locking system 

• Activating the hazard warning flashers 


• Automatic emergency call. 

A function of ACSM is the seat belt reminder function, which uses 
optical and acoustic signals to remind the driver and front passen¬ 
ger to fasten their seat belts. 

The functions of the ACSM are divided into: 

• Crash-relevant functions 

• System monitoring functions 

• Additional comfort functions. 

Functions 

The Crash Safety Module must fulfil the following crash-relevant 
functions: 

• Evaluating the sensor signals 

• Crash and rollover detection 

• Determining the triggering times and order 

• Triggering the output stages of the firing circuits 

• Output of a crash telegram for other users in the 
bus system network 

• Crash documentation 

• Emergency call functions. 


• Switching on the interior lighting 

• Deactivating the fuel pump 





Evaluating the Sensor Signals 



Crash and Rollover Detection 

In addition to the longitudinal acceleration sensor and lateral accel¬ 
eration sensor the central sensor also incorporates rollover detec¬ 
tion. Rollover detection consists of a rate of yaw sensor and two 
low-g sensors. One low-g sensor measures in the Y direction, the 
second sensor in the Z direction. 

Additional airbag sensors are mounted in the B-pillars. These each 
consist of a longitudinal acceleration sensor and a transverse accel¬ 
eration sensor. 


Together with the transverse acceleration sensor in the central sen¬ 
sor, the transverse acceleration sensors serve to detect side-on 
crashes. Pressure sensors are also used in the front doors to 
detect side-on crashes. 

Together with the longitudinal-acceleration sensor in the central 
sensor, the longitudinal-acceleration sensors serve to detect front- 
and rear-end crashes. 

There are two airbag up-front sensors for front-end crash detec¬ 
tion. They are located on the front area of the engine side mem¬ 
bers. 


F01 Workbook - Module 4 

35 




















36 

F01 Workbook - Module 4 


Detecting a crash and determining the triggering 
times and the order 

The Crash Safety Module uses the values transmitted by the sen¬ 
sors to determine the direction and severity of the crash. The 
threshold values of two independent sensors must be exceeded in 
order to detect a crash. In the case of a front-end crash, for exam¬ 
ple, the relevant high acceleration values from the B-pillar satellite 
and from the longitudinal acceleration sensor must be detected in 
the crash safety module. Triggering the output stages of the firing 
circuits 

Based on the acceleration values and crash severity and direction, 
an algorithm determines the triggering (firing) points and the order 
of the restraint systems to be activated. 

A possible imminent rollover is also detected and the appropriate 
protection systems are activated. 

Triggering the output stages of the firing circuits 

The firing-circuit output stages are only triggered if the airbag algo¬ 
rithm detects that the threshold has been exceeded via different 
sensors, e.g. the airbag sensor in the B-pillar and the central sen¬ 
sor. 

The crash safety module is powered by the Car Access System4 
CAS4 using terminal 30b. At terminal 30b the crash safety module 
is in energy-saving mode, which means it is active at the bus and 
can also transmit the belt status to the EMA controller. Airbag func¬ 
tionality is blocked and only ready for operation at terminal 15 on 
completion of the system self-test. 


The firing capacitors, which also serve as an energy reserve, are 
charged up by a switching controller. These capacitors make the 
firing energy available in the event of a crash. If the voltage supply is 
interrupted during a crash, the firing capacitors serve briefly as an 
energy reserve. 

The output stages of the firing circuits consist of a high-side and a 
low-side power circuit-breaker. The high-side power circuit-breaker 
controls the firing voltage, while the low-side power circuit-breaker 
switches to ground. The output stages of the firing circuits are con¬ 
trolled by the microprocessor. 

The high-side and low-side power circuit-breakers also serve the 
purpose of checking the firing circuits during the system self-test. 



Output of Crash Telegram 

In the event of a collision involving triggering of the restraint sys¬ 
tems, the Crash Safety Module sends a crash telegram to the 
users in the bus-system network. Parallel to this, the TCU is 
informed via a direct single-wire line to transmit an emergency call. 

As a result, the respective control units perform the following func¬ 
tions depending on the crash severity: 


The electronic control unit remains capable of firing even after 
three crash entries. 

The crash entries cannot be erased and serve the purpose of sub¬ 
sequent device diagnosis. 

A maximum of three crash entries can be stored. The control unit 
must then be replaced. 


Function 

Control Unit 

Switch off electric fuel pump 

Digital Motor Electronics (DME) 

Switch off the auxiliary heating 

Integrated automatic heating and air condi¬ 
tioning system (IHKA) - Not for US 

Release central locking 

Junction box electronics (JBE) 

Switch on hazard warning lights 

Footwell module (FRM) 

Switch on interior lights 

Footwell module (FRM) 

Transmit emergency call (only 
when airbag triggered) 

Telematics Control Unit (TCU) 


Crash Documentation Entries 

In the event of a collision where one or more actuators are trig¬ 
gered, a crash entry is stored in a non-erasable memory. After 
three crash entries, a non-erasable fault entry is stored in the fault 
memory with the instruction to replace the crash safety module. 

Note: The three crash entries could also be stored during 
the course of an accident. Each crash entry is 
assigned a system time. 


F01 Workbook - Module 4 

37 



System Components 


38 

F01 Workbook - Module 4 


















































































































































































































































































































































































































F01 Workbook - Module 4 

39 




































































40 

F01 Workbook - Module 4 


Crash Safety Module 

The crash safety module in US vehicles is identical to vehicles for 
the rest of the world and is adapted to the law and country-specific 
requirements by programming and coding. 

There are no sensors located in the crash safety module. 

With ACSM 3, the Crash Safety Module is now integrated into the 
PT-CAN. 



The crash safety module has a new installation location for the 
F01/F02 is behind the glove compartment. 



Sensors and Switches 

All of the following sensors and switches were used on the previ¬ 
ous ACSM systems with the exception of the Central Sensor, its 
functions where integrated inside the crash safety module. 

• Central sensor 

• Up-Front sensor 

• OC3 mat 

• B-pillar sensor 

• Door pressure sensor 

• Seat belt buckle switches 

• Emergency call button 


Central Sensor 

The central sensor is located centrally in the vehicle on the trans¬ 
mission tunnel. 

In addition to the longitudinal acceleration sensor and lateral accel 
eration sensor, the central sensor has also been extended to incor 
porate rollover detection. 

The longitudinal and lateral accelera¬ 
tion sensors detect positive and nega¬ 
tive vehicle acceleration in a measur¬ 
ing range of 0-100 g. The longitudinal 
and lateral acceleration sensors detect 
acceleration in the event of a head-on, 
side or rear-end collision. 



Central sensor 

















Rollover Detection 

Rollover detection is provided by a rate of yaw sensor and two addi¬ 
tional low-g sensors. The low-g sensors act in Y and Z directions. 

There are different factors which can cause a car to overturn or roll 
over. Although the most common causes are: 

• The car hits a ramp (e.g. a crash barrier) on one side or the 
vehicle tilts due to the terrain. The car rotates about its longitu¬ 
dinal axis as a result of the high angular velocity. 

• The car skids sideways off the road surface and its wheels 
become buried in soft soil. The kinetic energy could be suffi¬ 
cient to upend and overturn the car. 

• The car skids sideways off the road into the curb and is 
upended. 

The crucial factors which determine whether the car overturns are 
not just the angle of rotation but also the angular velocity or angular 
acceleration at which the car is set into the roll. All these vehicle 
movements can also occur after a front-end, side-on or rear-end 
crash. 

The two Low-g sensors have a small measuring range of 0-2 g and 
can therefore detect small accelerations and decelerations with 
great accuracy. 

For example, when the vehicle skids sideways off the road surface 
and buries itself with its wheels in soft ground. 

The sensors provide a voltage as measured variable. This voltage is 
a measure for the acceleration and is converted directly into digital 
signals in the sensor. The digital values are sent to the crash safety 
module for evaluation. The crash safety module evaluates the sig¬ 
nals from the two Low-g sensors and the rate of yaw sensor. The 
results are compared with the stored algorithm. If the processor 
detects that a rollover situation is imminent, the seat belt preten¬ 
sioners and the head airbags are triggered. 


The sensor cluster is connected via a four-wire lead. A current 
interface which transfers a special report is used for the five sen¬ 
sors, this saves on six leads. This interface is also used for the 
other airbag sensors, so that, here too, savings can be made on 
leads and thereby weight. 

Digital data transmission by means of current interface 

The recorded acceleration values of the micro-mechanical acceler¬ 
ation sensors are converted in an ASIC (Application Specific 
Integrated Circuit) into digital signals. With the aid of a data 
telegram, the digital signals are transmitted unidirectionally to the 
Crash Safety Module. 

The signals are transmitted via a current interface, which supplies 
the electronic circuitry with voltage. 

The electronic circuitry receives a voltage level of approximately 
5-10 mA via the current interface. The level rises at a step of 20 
mA when a data telegram is transmitted so that only two lines per 
measurement channel are reguired. 

The transmitted data is evaluated in the crash safety module. 


F01 Workbook - Module 4 

41 



42 

F01 Workbook - Module 4 


Actuators Adaptive driver airbag with active vent valve 

The crash safety module is used in to control the following actua¬ 
tors: 

• Adaptive driver airbag 

• Adaptive front passenger airbag 

• Driver/front-passenger side knee airbag 

• Curtain/Head airbags, left and right 

• Side airbag, integrated in the left and right front seats 

• Front seat belt pre-tensioner, front left and right 

• Automatic seat belt tensioner with adaptive force limiter 

• Active head restraint, front left and right 

• Safety battery terminal 

The following warning lamps are additionally activated: 

• Airbag warning lamp AWL 

• Seat belt mannikin 

• Passenger Airbag OFF light (POL) 


Index 

Explanation 

1 

Gas generator with exhaust vents 

2 

Actuator for vent valve 


Index 

Explanation 

1 

Connection of the squib for 
the active vent valve 

2 

Connection of the squib 
for the first stage 

3 

Connection of the squib for 
the second stage 




Driver airbag without airbag 


Driver airbag, rear, without retaining plate 




















Vent Valve 

The F01/F02 uses airbags with pyrotechnically activated vent 
valves. 

This measure serves to adapt the hardness of the airbag in possi¬ 
ble accident scenarios with smaller people or persons sitting close 
to the steering wheel. 

On the basis of the crash severity, belt status and seat position 
information, the crash safety module decides whether the vent 
valve is activated or not. 


The vent valve is an exhaust vent incorporated into the airbag, 
which is closed by an arrester band. 

The arrester band ends in a cylinder, in which there is a blade. In 
the event of triggering, the blade is pushed in the cylinder by the 
pyrotechnical actuator and the arrester band is cut through. 

Due to the airbag inner pressure, the exhaust vent opens outward 
and the airbag pressure is controlled by the venting gas. 

The active vent valve is normally activated for smaller, lighter occu¬ 
pants. 



If the system detects a heavy occupant, due to the seat position, a 
reduction of the airbag pressure is not desirable. 



Index 

Explanation 

Index 

Explanation 

A 

Vent valve is closed by 
arrester band 

3 

Cylinder 

B 

Squib triggered, blade is deployed 

4 

Piston with blade 

C 

Blade cuts through retaining 
strap and vent valve opens 

5 

Squib 

1 

Retaining strap 

6 

Squib connection 

2 

Housing 




In this case, the active vent valve remains closed and is activated at 
a later stage for disposal firing, when the occupant is no longer in 
contact with the airbag. 


Vent valve remains closed 



Heavy occupant 


Vent valve is opened 



Smaller, lighter occupant 


F01 Workbook - Module 4 










































Adaptive front passenger airbag with active vent valve 


44 

F01 Workbook 



Front passenger airbag, two-stage with vent valve 


Index 

Explanation 

Index 

Explanation 

1 

Cover for airbag 

4 

Actuator for active vent valve 

2 

First stage squib 

5 

Inflator assembly 

3 

Airbag housing 

6 

Second stage squib 


Knee Airbags 

A knee airbag on the driver and front pas¬ 
senger side are standard equipment for 
the F01/F02. 

In the event of a collision in which the 
driver or front passenger are not wearing 
seat belts, the knee airbag provides sup¬ 
port to protect the knees. This initiates a 
controlled forward displacement of the 
upper body, which is cushioned by the 
deployment on the corresponding airbag. Knee airbag in operation 



Module 4 


The knee airbags are designed as a single-stage airbag with infla- 
tor assembly. 

The airbag volume is approximately 20 liters/ 5.2 Gallons. 

The gas generator is triggered in the event of a crash of sufficient 
severity and the resulting gas fills the airbag. 

When the knees make contact with the airbag, the load is distrib¬ 
uted over the area of the airbag, thus supporting the occupant. 

The knee support results in a controlled forward displacement of 
the upper body that is taken up by the driver or passenger airbag. 

The knee airbag on the driver’s side is located below the steering 
column in the footwell trim while the knee airbag on the passenger 
side is located in the footwell trim. 

F01/F02 driver's side knee airbag 



Note: The driver and front passenger knee airbags are also 
triggered by occupants wearing seat belts, though at 
a higher crash severity than if the seat belts are not 
fastened. 




















Curtain/Head Airbag 

On the F01/F02, the curtain airbag for the driver and front passen¬ 
ger side is used as head airbag. 

The head airbag extends from the A-pillarto the C-pillar and covers 
the entire side section at the level of the side windows. 

It deploys between the occupants, windows and pillar trim panels. 
System features: 

• Extended coverage for front and rear windows 

• Reduction of the risk of glass splinters and objects entering 
the vehicle 

• Optimized coverage even for different sizes of occupant. 

The curtain airbag is housed folded up in the roof frame. It consists 
of the inflator assembly and the curtain. 


In the event of a side impact or rollover, the inflator assembly is trig¬ 
gered and a valve to the pressure tank is opened. The stored gas 
flows through the gas lance into the curtain. 

The head airbag is set in the correct position by it’s mounting on 
the A-pillar and on the C-pillar. In addition, the curtain deploys 
between the side windows, pillar trim panels and the occupants. 

The structural strength and stability is preserved for several sec¬ 
onds by the closed system. 

In connection with the side airbag in the front seat, it provides opti¬ 
mum protection for the occupants in the event of side impact. 

The head airbag reduces the movement of the head and other 
occupant extremities towards the outside during a side impact. 

This results in lower neck shear forces as well as bending 
moments in the cervical vertebrae. It additionally prevents direct 
contact with the side structure or the obstacle thus reducing the 
risk of head injuries. 



Installation location of the curtain/head airbags on the F01/F02 

F01 Workbook - Module 4 

45 














46 

F01 Workbook 


Seat-integrated Side Airbag 

The seat-integrated side airbags are mounted on the F01/F02 for 
the purpose of achieving optimum interior functionality, an appeal¬ 
ing design while satisfying high safety requirements. 

The side airbags are folded, together with the inflator assembly 
(gas generator) in a plastic housing. The airbag module is secured 
into the backrest and concealed by the rear panel. 

The side airbag is triggered in response to a sufficiently strong 
impact from the side. The side airbag emerges between the seat 
backrest and the rear panel and inflates between the door and 
occupant. 

The air cushion between the door and occupant provides con¬ 
trolled impact damping and therefore reduces the load on the 
occupant. 



Side airbag (1) integrated in the seat 


Module 4 


Active Head Restraint 

Used on previous BMW vehicles since 09/2007, the Active head 
restraints are now installed on the F01/F02. 

This Active Head Restraints incorporate a pyrotechnical actuator 
and spring elements for adjustment. 

In the event of a rear-end collision, the active head restraint reduces 
the distance between the head and the head restraint before the 
occupant moves backwards. This reduces the risk of injury to the 
cervical vertebrae, even in the event of a small accident. 

Triggering in the event of a rear-end collision 

The crash safety module detects via sensors whether a rear-end 
collision has occurred. If there is an appropriately severe crash, the 
active head restraints are triggered. This can even occur in the case 
of a slight rear-end collision. 

If the crash safety module detects a massive rear-end collision, 
other safety components, such as e.g. the belt tensioner and the 
safety battery terminal are also activated. 

The crash safety module deploys the active head restraint, by 
igniting the head restraint actuator squib. 

The actuator releases the head restraint spring force by activating 
the release plate. This enables the front section of the head 
restraint to be moved towards the front by means of a spring. 

The head restraint drive springs are only locked again once the 
pyro-actuator has been replaced. 

Note: If the active head restraints have been triggered, the 
pyro-actuators must be replaced. Please refer to the 
repair instructions available in ISTA or TIS for more 
information. 





The active head restraint on the left, normal position, 
The active head restraint on the right, after triggering 


Index 

Explanation 

Index 

Explanation 

1 

Head restraint support 

3 

Head restraint drive 

2 

Front section of the head restraint 




Automatic seat belt tensioner with adaptive force limiter 

The belt force limiter on the F01/F02 works according to the same 
principle as on the one used on the E65/E66. 


Safety Battery Terminal 

The safety battery terminal is triggered at 
different thresholds when the Crash Safety 
Module detects a front-end, side-on or 
rear-end crash of sufficient severity. The 
connection between battery and starter/ 
alternator cable is then separated with the 
use of pyrotechnics. The safety battery ter¬ 
minal is located directly at the positive ter¬ 
minal of the battery. 



Safety battery terminal 


F01 Workbook 

47 



Airbag Warning Lamp 

The airbag warning lamp (AWL) is located in the instrument cluster. 
ACSM system operability is indicated by the AWL lighting up and 
then going out in during the predrive check. The AWL is controlled 
by means of a signal from the 
ACSM to the instrument cluster 
on the PT-CAN. The instrument 
cluster receives a signal on a 
cyclical basis. If the signal fails to 
materialize, the AWL is activated. 


Airbag warning lamp 


Passenger Airbag OFF Light 

In the F01/F02, the passenger airbag OFF lamp is located at the 
front of the roof function center FZD next to the interior lights. 

The Passenger Airbag OFF light is continuously illuminated until 
the OC3 mat detects an object or passenger of adequate mass 
and weight distribution. 

The brightness of the Passenger Airbag OFF light is regulated by 
the automatic display lighting. 



Roof function center with passenger airbag OFF light 


Module 4 




















F01 Workbook - Moc 


Electric Motor Driven Reel 

Debuting in the F01/F02, an electric motor driven reel (EMA) is 
used for the front seat belts. The electric motor driven reel is paired 
with the multifunction seat. 

The electric motor driven reel reduces seat belt slack when fasten¬ 
ing the seat belt using low retracting force as soon as the doors are 
closed. Removing the belt slack ensures that the seat belt fits the 
driver or front passenger. Thus better restraining action can be pro¬ 
vided in the event of a crash. 

Another advantage of the electric motor driven reel is the preten¬ 
sioning to the occupants before a possible accident with increased 
retracting force, thus also reducing the incidence of slipping out of 
the belt and the risk of submarining. 

The dynamic driving control sensors in the ICM (Integrated Chassis 
Management) record data such as longitudinal acceleration and 
lateral acceleration, yaw rate, etc. The ICM passes on the data via 
the PT-CAN to the two EMA control units. The DSC also delivers 
information such as speed and brake pressure. The ACSM sends a 
message about the status of the belt contact to the two EMA con¬ 
trol units. 

From this data, the EMA control units calculate whether there is a 
critical driving situation, e.g. vehicle oversteer and as a result acti¬ 
vates the electric motor, which pretensions the seat belt. 

If there is now an accident with corresponding severity, the belt 
tensioner is also triggered and the seat belt fastened securely to 
the occupants. 

The pretensioning of the seat belt can reduce the force on the 
occupants in the event of an accident. 


4 


Seat belt with electric motor driven reel 



Index 

Explanation 

1 

EMA control unit 

2 

Electric motor 

3 

Automatic reel 

4 

EMA drive unit 
















EMA Circuit Diagram 


50 

F01 Workbook - Module 4 














































































Index 

Explanation 

1 

Dynamic stability control (DSC) 

2 

Central gateway module (ZGM) 

3 

Car Access System (CAS) 

4 

Crash safety module (ACSM) 

5 

Junction Box Electronics (JB) 

6 

Control unit, electric motor driven reel, left 

7 

Electric motor driven reel, left 

8 

Integrated Chassis Management 

9 

Control unit, electric motor driven reel, right 

10 

Electric motor driven reel, right 

11 

Luggage compartment junction box 


Bus Signals 


in/out 

Information 

Source/sink 

Function 

In 

Terminal control 

CAS > EMA LE/ EMA Rl 

Status terminal 30b 

In 

Vehicle speed 

DSC > EMA LE/ EMA Rl 

Vehicle speed 

In 

Braking torque 

DSC > EMA LE/ EMA Rl 

Emergency braking detection 

In 

Yaw speed 

ICM > EMA LE/ EMA Rl 

Detection of skidding tilt 

In 

Steering angle effective at 
the front axle 

ICM > EMA LE/ EMA Rl 

Steering effort 

In 

Longitudinal acceleration 

ICM > EMA LE/ EMA Rl 

Acceleration 

In 

Lateral acceleration 

ICM > EMA LE/ EMA Rl 

Lateral acceleration 

In 

Accelerator pedal angle 

DME > EMA LI/ EMA RE 

Driver power request 

In 

Belt contact status 

ACSM > EMA LE/ EMA Rl 

Information whether the seat belt is fastened. 

In 

Door contact 

FRM > EMA LE/ EMA Rl 

Information whether the doors are closed 


F01 Workbook - Module 4 

51 









































































52 

F01 Workbook - Module 4 


Design and function of the electric motor driven reel 

The electric motor driven reel is an extension of the functions of 
the existing automatic reel. 


Electric motor driven reel, not working 

The following image shows the design of the drive unit in detail. 
Image (A) shows the locking pawls are retracted. 


The automatic reel is combined with the (pyrotechnic) adaptive 
belt force limiter as on E65/E66. 

The electric motor driven reel essentially consists of an electric 
motor, a drive unit and a coupling, which establishes the connec¬ 
tion to the automatic reel. 

Components of the electric motor driven reel 



Image (B) shows the drive unit with ring gear. 

The ring gear and the belt shaft can rotate freely and the seat belt 
can be pulled out or rolled up. 

Drive unit with separate components (A) and freely rotatable ring gear (B) 



Index 

Explanation 

Index 

Explanation 

1 

Electric motor 

4 

Ring gear 

2 

Drive unit 

5 

Automatic reel 

3 

Belt shaft 




Index 

Explanation 

Index 

Explanation 

1 

Drive gear for the electric motor 

3 

Worm gear 

2 

Drive gear for the drive shaft 

4 

Drive wheel with coupling 




































Electric motor driven reel, in operation 

When the driver or front passenger fastens their seat belt or there is 
a critical driving situation in terms of driving dynamics, the electric 
motor is activated, this moves the drive shaft using the worm gear. 

The worm gear turns the drive wheel with the coupling. 

The locking pawls move out and engage in the ring gear (C). 

The ring gear, which is located on the belt shaft, drives the belt 
shaft (D). 

The seat belt is rolled up on the belt shaft and thereby shortened. 
This tensions the seat belt to the occupants. 



Locking pawls move out (C) and the ring gear turns the belt shaft (D) 


F01 Workbook - Module 4 

53 








54 

F01 Workbook - Module 4 



Workshop Exercise - ACSM 3 


Using an instructor assigned F01/F02 vehicle and the ISTA diagnostic equipment, answer the following questions. 


1) What is the purpose for the device shown in the illustration below? 



4) What functions does the EMA motorized seat belt system per¬ 
form in the F01/F02? 


5) Where is the ACSM control unit and why was it relocated? 


2) How many airbag sensors are located in the Central Sensor 
used in the ACSM 3 system? 

Circle the best possible answer. 

Five Seven Three 

3) List all the sensors located in the Central Sensor below 


6 ) Where are the side airbags located in the F01/F02? 
Circle the best possible answer. 

Front Seats Front Door 

7) Which airbags use the active vent valve system on the 
F01/F02? 






























q Classroom Exercise - Review Questions 

1. What is the main difference between the ACSM on the E70 and the ACSM 3 of the F01/F02? 

2. Which control unit gives the signal to activate the EMA motors in a hazardous situation? 


3. How many pyrotechnic actuators are fitted on the F01/F02 ACSM 3 system? 

4. When is the active vent valve opened? 


5. What is the volume of the knee airbags used on the F01/F02? 


F01 Workbook - Module 4 

55 




Active Blind Spot Detection (SWW) 


56 

F01 Workbook 


Active Blind Spot Detection is a new BMW system and It is being 
introduced for the first time in the F01/F02 7 Series . The system 
is designed to assist the driver in making lane change maneuvers 
by monitoring traffic at the rear and sides of the vehicle. 

Using two radar sensors it detects vehicles traveling in the rear 
and along side our vehicle and warns the driver of the position of 
any unseen vehicles around him traveling in his “Blind Spot”. 

The active blind spot detection system can detect traffic situa¬ 
tions that could be dangerous if your vehicle changes lanes. 

The driver is informed and warned in two stages. 

These kinds of traffic scenarios arise, for example, when distant 
vehicles rapidly approach from behind. They are then in the "lane 
change zone" shown in the graphic. 



Index 

Explanation 

1 

Vehicle approaching on the left-hand neighboring lane 

2 

Vehicle in the left-hand neighboring lane travelling at your same speed 

3 

Your own vehicle, with the intention of changing lanes to the left 

4 

Blind spot area (left/right) 

5 

Vehicle in the right-hand neighboring lane travelling at a faster speed 

6 

"Lane change zone" 


Module 4 


These kinds of situations are difficult for the driver to judge, espe¬ 
cially after dark. The radar sensors work completely independent¬ 
ly of the light conditions. 

A second danger can arise if other vehicles are in the blind spot 
area. The driver can only be aware of them if he is particularly 
careful and cautious. However, If he has a lapse of attention, he 
may not see vehicles in this area. 

The radar sensors of the active blind spot detection system detect 
other vehicles in the neighboring lanes right up to about the mid¬ 
dle of your own vehicle. 

The first stage of detection is called "information" and it is provid¬ 
ed as soon as the system is switched on and a hazardous lane 
change situation is present. The information is provided by acti¬ 
vating warning lights in the door mirrors. 

If the driver intends to make a lane change in this scenario and 
uses the turn signal stalk to indicate this, a second, more intense 
stage will then be issued, the "warning". The corresponding 
warning light then flashes with high intensity and the steering 
wheel starts to vibrate. The driver must cancel the lane change 
and if necessary steer back into his own lane to avoid a dangerous 
situation. 

Note: The US marketing term for Lane Change Warning 
System (SWW) is Active Blind Spot Detection. 

These two systems are one and the same and are 
not to be confused with Lane Departure Warning 
























System Overview 



Blind Spot detection system input/output 


Index 

Explanation 

Index 

Explanation 

1 

SWW2 Radar sensor (Secondary controller) 

8 

Steering wheel module and vibration actuator 

2 

SWW Radar sensor (Master) 

9 

Driver's door mirror 

3 

Not for US 

10 

Front passenger door mirror 

4 

Steering column switch cluster 

11 

Instrument cluster 

5 

Footwell module 

12 

"Active Blind Spot Detection 
control unit function" 

6 

Operating unit for driver assistance systems 

13 

"Steering wheel vibration coordination" function 

7 

Integrated Chassis Management 




F01 Workbook - Module 4 

57 




















58 

F01 Workbook - Module 4 


Bus system overview of the lane change warning system in the F01/F02 


o 

GQ 






















































































Index 

Explanation 

ASP_BF 

Front passenger door mirror 

ASP_FA 

Driver's door mirror 

BE_FAS 

Operating unit for driver assistance systems 

FRM 

Footwell module 

ICM 

Integrated Chassis Management 

LRE 

Steering wheel module 

SWW 

SWW radar sensor for the Active Blind Spot Detection system 

SWW2 

SWW2 radar sensor for the Active Blind Spot Detection system 

SZL 

Steering column switch cluster 

ZGM 

Central gateway module 


F01 Workbook - Module 4 

59 

























60 

F01 Workbook - Module 4 


System circuit diagram for the lane 
change warning system in the F01/F02 






































































Index 

Explanation 

1 

Central gateway module 

2 

Vibration actuator 

3 

Steering wheel module 

4 

Steering column switch cluster 

5 

Fuse for the driver/front passenger door mirrors (front fuse carrier, junction box electronics) 

6 

Warning light in the driver's door mirror 

7 

Footwell module 

8 

Operating unit for driver assistance systems 

9 

Warning light in the front passenger door mirror 

10 

Integrated Chassis Management 

11 

(Not for US) 

12 

Fuse for the radar sensors in the Active Blind Spot Detection system 
(rear fuse carrier in the luggage compartment) 

13 

SWW2 radar sensor for the Active Blind Spot Detection system 

14 

Master radar sensor for the Active Blind Spot Detection system 


F01 Workbook - Module 4 

61 
































62 

F01 Workbook - Module 4 


Switching the System On and Off 

How the Active Blind Spot Detection system behaves with regard 
to the driver is ultimately controlled by the Integrated Chassis 
Management. 

This includes: 

• Switching it on and off 

• Checking the operating conditions 

• Checking for faults 

• Distinguishing between information and a warning. 

A button on the operating unit for the driver assistance systems is 
used to switch it on and off. The ICM control unit receives the sig¬ 
nal by keystroke from the footwell module. 

The ICM control unit permits it to be switched on only if no fault is 
present in the interconnected system and all operating conditions 
are satisfied. 

If the ICM control unit carries out the driver's request to switch it 
on, the function illumination on the button is switched on as visual 
confirmation. This is also controlled by the Integrated Chassis 
Management and is executed by the FRM. 

If the request to switch it on cannot be carried out, the function 
illumination remains off. The status (switched on or off) remains 
key specific regardless of power cycles. If the Active Blind Spot 
Detection system is on in the current driving cycle, it will be on in 
the next driving cycle from the start. 

If, after switching on the Active Blind Spot Detection, one of the 
operating conditions is infringed or a fault occurs, it is automatically 
deactivated. In such a case, the driver would not be able to tell if 
only the function illumination had switched off. Therefore, a Check 
Control message is issued. 


Informing and Warning 

The information is issued to the driver in all cases where all of the 
following conditions have been satisfied: 

• The Active Blind Spot Detection system is switched on 

• The road speed is above 50km/h/ 31 mph 

• The master radar sensor has detected a necessity for a warning. 

The second stage, the warning, should, in comparison, be signifi¬ 
cantly more prominent than the information. It should reach the 
driver quickly and directly, if he is still intending to make a lane 
change despite an impending dangerous situation. 

The warning is issued, if the following conditions have been satis¬ 
fied: 

• The conditions for information have been satisfied: 

• The turn signal is switched on the side of the vehicle where 
the master radar sensor detected a necessity for a warning. 

The steering column switch cluster issues the signal about the sta¬ 
tus of the turn signal via the FlexRay to the ICM control unit. 

The only difference in the criteria for information and a warning is 
thus the status of the turn signal. The rear traffic situation or your 
own driving conditions do not influence it. 

The visual aspect of the warning is generated by the respective 
warning light flashing with a high light intensity. In addition, the 
steering wheel begins to vibrate and this produces a very direct 
warning signal to the driver. 



No Necessity for a Warning 

Although another vehicle in the left-hand lane is approaching your 
own vehicle, neither information or a warning is generated. Even if 
at this moment the driver were to carry out a lane change, this 
would not result in a dangerous situation. The time it would take 
for the other vehicle to reach your own vehicle is considerable. 


A sufficient distance will be maintained by accelerating your own 
vehicle slightly or by a slight deceleration of the other vehicle. 

There is no necessity at all for the driver to be informed by the 
Active Blind Spot Detection system. 


Traffic scenario without the a need for a warning 




Index 

Explanation 

A 

Your own vehicle with blind spot detection ON 

B 

Faster vehicle in the left-side neighboring lane outside of the lane change zone 

a 

Lane change zone 

b 

Blind spot area 

1 

Turn signal OFF 

2 

Warning light in the driver's door mirror OFF 

3 

Warning light in the front passenger door mirror OFF 

4 

Steering wheel not vibrating 


F01 Workbook - Module 4 

63 






























64 

F01 Workbook - Module 4 


Information Stage 

The vehicle (B) in the neighboring left-hand lane is already in the 
lane change zone. Because it is still approaching your own vehicle 
(A) at a high speed, the time the driver would have to cancel a lane 
change maneuver is very short. The blind spot detection system 
recognizes the necessity for a warning. Because the driver does 
not show any specific intention of making a lane change (turn sig¬ 
nal off), only the information and not the warning is issued. 


The vehicle (C) in the right-side neighboring lane is at a some what 
shorter distance from your own vehicle than the vehicle in the left 
side neighboring lane. Because it is travelling at the same speed as 
your own vehicle and the distance to your own vehicle is therefore 
not decreasing, there is no need to issue a warning on the right 
side. 

In this case only the warning light in the driver's door mirror lights 
up and it does this with low intensity to just “inform” the driver. 


Traffic scenario with information from the blind spot detection system 



Index 

Explanation 

A 

Your own vehicle with blind spot detection ON 

B 

Fast approaching vehicle in the left-side neighboring lane within the lane change zone 

C 

Equally fast vehicle as your own traveling in the right-side neighboring lane, within the lane change zone 

a 

Lane change zone 

b 

Blind spot area 

1 

Turn signal OFF 

2 

Warning light in the driver's door mirror lights up with low intensity 

3 

Warning light in the front passenger door mirror OFF 

4 

Steering wheel not vibrating 




































Warning Stage 

The vehicle (B) in the left-hand neighboring lane is in the lane 
change zone and is approaching your own vehicle (A). There is a 
necessity for a warning therefore on the left-hand side. 

Because the driver intends to make a lane change to the left, he 
has switched on the left turn signal. A lane change maneuver is 
therefore imminent. In order to attract the attention of the driver 
quickly and directly, a left-side warning is produced. 


This means the warning light in the driver's door mirror flashes 
brightly and in addition the steering wheel vibrates. 

The vehicle (C) in the right-side neighboring lane is also approach¬ 
ing your own vehicle at this point. Therefore, the necessity for a 
warning also exists on the right-hand side. However, because the 
driver has not switched on the right turn signal, just the information 
stage is issued to this side, but no warning. 


Traffic scenario with a warning from the blind spot detection system 



Index 

Explanation 

A 

Your own vehicle with blind spot detection ON 

B 

Fast approaching vehicle in the left-side neighboring lane, within the lane change zone 

C 

Equally fast vehicle as vehicle (B) in the right-side neighboring lane also within the lane change zone 

a 

Lane change zone 

b 

Blind spot area 

1 

Left turn signal ON 

2 

Warning light in the driver's door mirror flashes with high intensity (Warning Stage) 

3 

Warning light in the front passenger door mirror lights up with low intensity (Information Stage) 

4 

Steering wheel is vibrating 


F01 Workbook - Module 4 

65 
























66 

F01 Workbook - Module 4 


Warning - Blind Spot Area 

Both, the vehicle (B) on the left side and the vehicle (C) in the right- 
side neighboring lanes are in your car’s blind spot area. Therefore, 
the necessity for a warning exists on both sides, independently of 
how quickly they are travelling. 


The driver (A) intends to make a lane change to the right and there¬ 
fore switches on the right turn signal. This causes the right-side 
warning to be produced. The warning light in the front passenger 
door mirror flashes brightly and the steering wheel vibrates. 

In this case the “Information stage” is displayed on the left side 
mirror, but no warning issued. 


Traffic scenario with vehicles in the blind spot 



Index 

Explanation 

A 

Your own vehicle with blind spot detection ON 

B 

Vehicle in the left-side neighboring lane in the blind spot area 

C 

Vehicle in the right-side neighboring lane in the blind spot area 

a 

Lane change zone 

b 

Blind spot area 

1 

Right turn signal ON 

2 

Warning light in the driver's door mirror lights up with low intensity (Information Stage) 

3 

Warning light in the front passenger door mirror flashes with high intensity (Warning Stage) 

4 

Steering wheel vibrates 









































System Components 



Index 

Explanation 

1 

Driver's door mirror 

2 

Steering column switch cluster 

3 

Steering wheel with steering wheel module and vibration actuator 

4 

Junction box electronics and front fuse carrier 

5 

Front passenger door mirror 

6 

Integrated Chassis Management control unit 

7 

Operating unit for driver assistance systems 

8 

Central gateway module 

9 

Footwell module 


Note: The US marketing term for Lane Change 

Warning System (SWW) is Active Blind Spot 
Detection. These two systems are one and 
the same and are not to be confused with 
Lane Departure Warning. 


Components of the Active Blind Spot Detection system in the F01/F02 


F01 Workbook - Module 4 

67 

























68 

F01 Workbook - Module 4 


Components of the Active Blind Spot Detection system in the F01 /F02 (rear half of the vehicle) 




Index 

Explanation 

1 

Integrated Chassis Management control unit 

2 

Rear fuse carrier in the luggage compartment 

3 

Bracket for shielding the right-hand radar sensor 

4 

Right-hand master radar sensor (SWW) 

5 

Rear bumper deformation elements 

6 

Center guide 

7 

Bracket for shielding the left-hand radar sensor 

8 

Left-hand SWW2 radar sensor 




















Radar Sensors 

Two radar sensors are fitted in the vehicle for the Active Blind Spot 
Detection system. 

The two parts are different, although visually they look the same. 
There is a main radar sensor (SWW) that is always fitted in the rear 
of the vehicle on the right side, as well as the SWW2 radar sensor 
that is fitted in the rear left-hand side. 

The sensors of the Active Blind Spot Detection system work 
according to the RADAR principle (radio detection and ranging). 
They have some features in common with the short-range radar 
sensors for the ACC Stop & Go function. Although the radar sen¬ 
sors for Active Blind Spot Detection (SWW) and the short range 
radar sensors for ACC Stop & Go use the same frequency of 
24GHz, the bandwidth is different for both systems. SWW uses 
a bandwidth of 100MHz and ACC Stop & Go uses >1 GHz. 

The RADAR principle offers basic advantages with regard to the 
detection reliability of road users in poor weather conditions. Only 
when it is exposed to extreme conditions, for example heavy rain or 
snow, can a reduction in its range occur. If the sensors detect a 
particularly extreme situation, this status is signalled so that the 
function can be switched off and the driver informed. 

Both sensors have the functionality of control units. This means 
that they are compatible with diagnostics and can be programmed 
and coded. 

The sensors are fitted in the rear of the vehicle above the bumper 
bracket. They are fitted to a large plastic component that is referred 
to as the "center guide". From the outside, the sensors are not vis¬ 
ible because they are hidden by the bumper trim. 

Note: For more information, see the F01 “Active Blind Spot 
Detection” training reference material available on 
ICP orTIS. 


F01 Workbook 

69 


Overview and installation location of the radar sensors 



Index 

Explanation 

Index 

Explanation 

1 

Detection zone of the SWW2 radar 

6 

Symmetrical axis of SWW2 

2 

SWW2 

7 

Symmetrical axis of the master 

3 

Center guide 

8 

Vehicle longitudinal axis 

4 

Master (SWW) 

9 

Horizontal angular width of beam 

5 

Detection zone of the master radar 




Module 4 


















70 

F01 Workbook - Module 4 


As you can see from the graphic, the detection zones of the two 
sensors overlap. The data on road users that have been detected 
can therefore not be evaluated separately from each other (for the 
left and right side of the vehicle). Instead the data is first collected 
from both sensors and evaluated. Then a decision is made 
whether the driver must be warned or not. 

The fixtures for the sensors do not permit any mechanical adjust¬ 
ment. Instead of the sensors being mechanically adjusted (as is 
the case with the long-range area sensor in the ACC), they are 
calibrated using software. When this is done, the actual installation 
position and above all the alignment of the center axes of the 
sensors are determined and stored in the sensors. For details 
please see the section entitled "Calibrating the radar sensors". 

Two brackets are fitted to the deformation element of the rear 
bumper that act as a shield for the radar sensors. This prevents 
malfunctions when processing radar signals that could be caused, 
for example, by reflections from the road surface. The material 
used for the bracket was specially selected for this intended use. 
Therefore, in the event of damage to the brackets, they must be 
replaced with the correct new part. 

Emergency repair using a different plastic part is not permitted. 
Both radar sensors have a similar structure. The connector and the 
electronics board are located on the lower section of housing. It is 
used both for electrical shielding and for dissipating heat. 

The board always has a signal processor. This evaluates the radar 
signals and uses them to generate a list of the objects detected by 
the sensor. The list contains the distance to each object in a longi¬ 
tudinal and lateral direction and the relative speed. In addition, 
information is supplied about whether the object is in the blind 
spot area. 


The radar front-end (radome) is used to generate and send radar 
waves. A receive circuit is also integrated in the sensor. Sending 
and receiving is carried out via a planar antenna. The radar waves 
are transformed into the required shape using the so-called 
radome. 

The plastic radome therefore determines exactly the extent of the 
detection zone of the sensors. 

The bumper trim also influences the shape of the detection zone. 
Calibration must therefore always be done with the bumper trim 
mounted. If done without the bumper trim, different values are 
assigned to the measured distances. The measuring result would 
be distorted and the warning for the driver inappropriate. 

The radome and the lower section of housing are cemented 
together. Repairs to the inside of the sensor are not intended. If 
the test plan of the diagnostic system requests it, then the sensor 
must be replaced. 

The mounting holes of the lower housing sections on the main and 
are located in different positions. The fixtures for the mounting 
bolts on the "Center guide" are appropriately positioned. This 
ensures that the master is mounted only on the right and the sec¬ 
ondary unit (SWW2) on the left. Only after installation is complete 
is it recommended to connect the wiring harness to the sensors. 

You can also differentiate between the sensors by using the part 
number and by the labelling on the lower section of the housing. 



Special features of the SWW2 

The SWW2 radar sensor only provides information about the road 
users in its detection zone. This is why it contains only one signal 
processor for controlling the radar and for evaluating the radar sig¬ 
nals. A CAN controller is used to send the data to the master 
(SWW). 

The signal processor is also capable of executing the self-diagnos¬ 
tics of the sensor. If SWW2 faults are detected, they are stored in 
its own EEPROM. They are also transferred to the master and 
stored there in its fault code memory. 

Special features of the master (SWW) 

The master radar sensor performs the same basic tasks as the 
SWW2 with regard to recording and evaluating data from road 
users. In addition, the master calculates whether a traffic scenario 
exists that could be dangerous in the event of a lane change. This 
calculation is based on data about the road users detected and the 


state of motion of your own vehicle. If such a situation is detected, 
the master sends a corresponding signal via FlexRay to the ICM 
control unit. In addition, the master uses the same path to send 
signals about the status of both sensors, for example to determine 
whether they are functioning correctly or there is a fault. 

The master executes self-diagnostics in the same way as the 
SWW2. If, in the process, it detects a fault within itself or a fault is 
registered by the SWW2, an entry is made in the fault code memo¬ 
ry of the master. This makes it possible to read faults with the 
SVWV2 during servicing, even though the diagnostic system is only 
communicating with the master and as a result is only accessing its 
fault code memory. In addition to the signal processor the master 
contains a microprocessor for this purpose. This also carries out 
communication via the FlexRay controller with partner control units, 
and with the ICM control unit in particular. 




Index 

Explanation 

Index 

Explanation 

A 

Outside view of the SWW2 

3 

Lower section of housing, master 

B 

Outside view of the master 

4 

Connector 

C 

Inside view of the SWW2 

5 

Pressure-compensating 
element, SWW2 

D 

Inside view of the master 

6 

Mounting eye for the SWW2 

1 

Radome 

7 

Mounting eye, master 

2 

Lower section of housing, SWW2 

8 

Pressure-compensating 
element, master 


F01 Workbook - Module 4 

71 






















































72 

F01 Workbook - Module 4 


Bus Connections 

The sensors for Active Blind Spot Detection are connected with 
two bus systems: 

• The SVWV is connected to the FlexRay and to the local CAN. 

• The SVWV2 is only connected with the local CAN. 

The SWW2 uses the local CAN to transmit the data of all of the 
road users it has detected to the master. The sensors also utilise 
the local CAN to exchange internal system status and control sig¬ 
nals. 

The local CAN is physically set up like the PT-CAN and therefore 
works at a bit rate of 500 kBit/s. 

The SVWV and SVWV2 each have one of the two terminal resistors, 
each with 120 Q. 

The FlexRay represents the interface between the sensors and the 
whole vehicle. In this way, the sensors, or to be exact, the master 
sensor, receives the data about the state of motion of the vehicle 
(e.g. the road speed and yaw rate). 

The master uses this interface to send information about whether 
the necessity for a warning exists to the ICM control unit. 

The FlexRay is routed to the master and is fitted there with a termi¬ 
nating resistor. The master is therefore a terminal node in the 
FlexRay network. 

A detailed description of new features in the FlexRay network can 
be found in the F01/ F02 bus systems training material in ICP and 
TIS. 


Voltage Supply 

The SVWV sensors is supplied with power via a common fuse with 
terminal 15. The fuse is located in the rear fuse carrier (in the lug¬ 
gage compartment). The voltage supply is routed to the master and 
from there to the SVWV2. 

The wake-up line is therefore not reguired on the SVWV sensors. 

During the overrun of terminal 15 the SVWV sensors save important 
data in the integrated EEPROM. This includes, for example, fault 
code memory entries and values calculated during calibration. 

Only after this is this data permanently stored and available again 
for the next driving cycle. It is therefore important to wait for the 
overrun from terminal 15 when work is carried out on the SVWV 
sensors, before disconnecting the voltage supply (connector, 
battery). 




Bus systems and voltage supply to the radar sensors of the blind spot detection system 




Index 

Explanation 

Index 

Explanation 

1 

SWW2 radar sensor 

5 

FlexRay feed line with a 
terminating resistor 

2 

Master radar sensor 

6 

Voltage supply feed line 
(terminal 15 and ground) 

3 

Feed line and continuation of the 
voltage supply (terminall 5 and ground) 

7 

Fuse for SWW sensors (rear fuse carrier 
in the luggage compartment 

4 

Local CAN feed line with a 
terminating resistor 




F01 Workbook - Module 4 

73 





































74 

F01 Workbook - Module 4 


Warning light in the driver's door mirror 

There is a triangular-shaped warn¬ 
ing light in the left and right door 
mirror. This lights up two-dimen- 
sionally and can be activated in dif¬ 
ferent intensities. 

The ICM sends a request together 
with the requested intensity to the 
footwell module. 



Using the LIN bus, the request is passed on to the electrical 
system of the respective door mirrors. Amplitude-modulated 
control is used to light up the LEDs in the door mirror. 


Vibration actuator in the steering wheel 

The vibration actuator is housed in the six o'clock spoke of the 
steering wheel. It causes the steering wheel to vibrate as a warn¬ 
ing in order to alert the driver of dangerous situations. 

The Lane Departure Warning and Active Blind Spot Detection 
systems use the same vibrating device. 


If the vibration motor is activated, the unbalance mass rotates and 
thus produces the vibrations. 

The vibration actuator in the F01/F02 has undergone a significant 
advancement in comparison with the vibration motor. Instead of the 
unbalance motor, a structural element is used that only oscillates in 
a longitudinal direction. For this reason, it is known as a "longitudi¬ 
nal oscillator". This active principle has the advantage that the 
vibrations are only induced in this one direction. 

The vibration actuator is built into the steering wheel so that the 
direction of its oscillations correspond with the direction of rotation 
of the steering wheel. This provides an ideal expression of the 
warning and the driver is made immediately aware that he must use 
the steering wheel to avert the dangerous situation. In addition, 
this principle to a large extent avoids unwanted side-effects such 
as noises or oscillations that could be transferred in other directions 
to the body. 

The two brackets connect the vibration actuator with the steering 
wheel. However, the brackets on the vibration actuator are not 
screwed to the case, but to the coil carrier. 


The steering wheel module that controls the vibration actuator is 
also housed in the interior of the steering wheel. This produces an 
alternating voltage that causes the vibration actuator to oscillate. 

The frequency of the alternating voltage is not changed during 
operation. 

The amplitude of the alternating voltage can be changed using the 
steering wheel module. Therefore, you have the option of different 
systems with varying oscillating amplitudes available to you for the 
warning. 

The E6x LCI is already equipped with the driver assistance system 
called lane departure warning which uses steering wheel vibration 
to warn the driver in a similar way. Here a vibration motor is used 
as the vibration actuator. An unbalance mass is located on the shaft. 


This means the coil carrier is fixed in place. The permanent 
magnet can move instead. It is set into an oscillating motion in the 
direction shown, when alternating voltage is applied to the coil. 

The longitudinal movement of the permanent magnet is transferred 
to both case sections due to its length. This is why the case sec¬ 
tions also have a long slot in the electrical connection area to the 
coil. 

The springs ensure that the case sections do not hit against their 
end positions and therefore prevent noises. 


Steering wheel with vibration actuator 



Index 

Explanation 

1 

Steering wheel module (LRE) 

2 

Vibration actuator 


Exploded view of the Vibration actuator 





Index 

Explanation 

Index 

Explanation 

1 

Left bracket 

6 

Coil 

2 

Left case section 

7 

Electrical connection 

3 

Permanent magnet 

8 

Spring 

4 

Spring 

9 

Right case section 

5 

Coil carrier 

10 

Right bracket 


F01 Workbook - Module 4 

75 




































76 

F01 Workbook - Module 4 


Coordinating the activation of the vibration actuator 

Like the blind spot detection, the lane departure warning (KAFAS 
control unit) also uses the vibration actuator to produce a warning 
signal for the driver. For this, the systems use different amplitudes 
of vibration. 

This is why these must be a coordinator function for controlling the 
vibration actuator. This is integrated into the ICM control unit. 

The request to activate the vibration actuator is sent from the 
Integrated Chassis Management over the FlexRay to the steering 
column switch cluster (SZL). The SZL guides this request via LIN 
bus further to the steering wheel module (LRE). 


LIN bus subscribers at the steering column switch cluster 

LRE 


Index 

Explanation 

LRE 

Steering wheel module 

SZL 

Steering column switch cluster 



Instrument Cluster 

There are no function displays for the Active Blind Spot Detection 
system in the instrument cluster (different to the lane departure 
warning). Instead Check Control messages are displayed in the 
instrument cluster, when the Active Blind Spot Detection system is 
not available. A distinction is made between two possible causes: 


/<\ 


Active Blind Spot Detection deactivated 
(due to functional peripheral factors such 
as, blindness) 


A 



Active Blind Spot Detection failure 
(due to real faults or defects with 
components) 


Note: The term “Blindness” is used to describe a situation 
where the radar sensors are unable to detect any road 
users in there range. 























78 

F01 Workbook - Module 4 

q Classroom Exercise - Review Questions 

1. Which two BMW systems use the vibration actuator? 

2. How does the design of the vibration actuator used on F01/F02 differ from the previous version? 


3. Where is the fuse for the active blind spot detection radars located? 

4. What is the signal bus path of the “warning” to the mirrors? 


5. What is the signal bus path of the “warning” to the vibration actuator? 




KAFAS 


Depending on the combination of the available options installed, 
the functions in the F01/F02 are implemented as camera-based 
systems, all sharing the same camera and the one control unit, 
the KAFAS control unit. 


KAFAS is the camera-based Driver Assistance System. 


The high-beam assistant option shares the KAFAS camera and 
the KAFAS control unit when the vehicle is equipped with the lane 
departure warning. 



FLA (high beam assistant) is part of the ZDA Driver Assistance 
Package option and will not be available separately on the 
F01/F02 

The ZDA Driver Assistance Package option includes the following: 

• High Beam Assistant 

• Lane Departure Warning 

• Active Blind Spot Detection 


Options/Technical 

specification 

L fm 

M ± | 1 M j 


KAFAS 


1 camera 


1 control unit 


2 functions 

Lane departure 

x 

warning 


High-beam 

x 

assistant 

A 


F01 Workbook - Module 4 

79 









































System Components 


80 

F01 Workbook - Module 4 























































Index 

Explanation 

Index 

Explanation 

1 

Lane departure warning/High Beam Assistant 
forward-pointing video camera 

10 

Instrument cluster 

Function display 

2 

KAFAS control unit 
for evaluation of image data 

11 

Head-up display HUD 

Function display 

3 

Driver assistance systems operating unit 

Lane Departure Warning on/off button 

12 

Controller 

4 

Footwell module FRM 

Main-beam headlights on/off 

13 

Car Information Computer CIC 
navigation system, navigation system data 

5 

Light switch 

High-Beam Assistant function in 
position A or position II 

14 

Central Information Display CID 

6 

High-beam assistant on/off button on the turn 
signal stalk on the steering column 

15 

Junction box electronics 

7 

Steering column switch cluster SZL with turn 
signal stalk on the steering column 

16 

Front distribution box 

8 

Integrated Chassis Management ICM 
Road-speed signal 

17 

Car Access System CAS 

9 

Central gateway module ZGM 




F01 Workbook - Module 4 

81 









































Circuit Diagram 


82 

F01 Workbook - Module 4 















































































































































































Index 

Explanation 

Index 

Explanation 

1 

Lane departure warning/High Beam Assistant 
forward-pointing video camera 

10 

Instrument cluster 

Function display 

2 

KAFAS control unit 
for evaluation of image data 

11 

Head-up display HUD 

Function display 

3 

Driver assistance systems operating unit 

Lane Departure Warning on/off button 

12 

Controller 

4 

Footwell module FRM 

Main-beam headlights on/off 

13 

Car Information Computer CIC 
navigation system, navigation system data 

5 

Light switch 

High-Beam Assistant function in 
position A or position II 

14 

Central Information Display CID 

6 

High-beam assistant on/off button on the turn 
signal stalk on the steering column 

15 

Junction box electronics 

7 

Steering column switch cluster SZL with turn sig¬ 
nal stalk on the steering column 

16 

Front distribution box 

8 

Integrated Chassis Management ICM 
Road-speed signal 

17 

Car Access System CAS 

9 

Central gateway module ZGM 




F01 Workbook - Module 4 

83 









































84 

F01 Workbook - Module 4 


Lane Departure Warning 

In the F01/F02, a video camera for the lane departure warning and 
the corresponding button in the BEFAS control panel for activating 
the lane departure warning system mean that the vehicle is 
equipped with the lane departure warning. 


The image data recorded by the video camera are transmitted to 
the KAFAS control unit along an LVDS data line. 

Although the video camera and the KAFAS control unit are the 
components that are fundamental to the lane departure warning’s 
range of functions, they are also used for the headlight assistant 


Video camera for lane departure warning and high beam assistant 



KAFAS control unit and video camera in the F01/F02 



Index 

Explanation 

Index 

Explanation 

1 

KAFAS control unit with 
PT-CAN 

2 

Video camera for lane departure 
warning and high-beam assistant. 

The image data sent from the video 
camera to the KAFAS control unit 
along the LVDS data line 






















KAFAS Control Unit 




Index 

Explanation 

1 

KAFAS control unit Driver's footwell 

2 

Central gateway module ZGM 


The KAFAS control module is located in the leftfootwell area, 
bolted to the ZGM. 


The lane departure warning causes the steering wheel to vibrate to 
warn the driver that the vehicle is threatening to leave the current 
lane without driver intending it to do so. The prerequisite for this 
function to work is the presence of road or lane markings that can 
be recognized by the control unit based on an evaluation of the 
images recorded by the forward-pointing video camera. 

The system is therefore intended to assist the driver in case of a 
lapse of attention. Nevertheless, the driver continues to bear full 
responsibility for the vehicle. 


The system is designed to assist the driver on highways, major 
roads and well maintained country roads. Warnings are given, 
therefore, only at speeds of over 44 mph. 



F01/F02 Lane departure warning 


The driver activates the system using the lane departure warning 
button in the driver assistance control panel. 



Driver assistance systems control panel in the F01/ F02 


# 

V 

/ 

V 

/ 

\ 


Lane departure warning 
switched on 



% 

/ 

% 

/ 

\ 

Lane departure 


warning ready 


F01 Workbook - Module 4 

85 




















86 

F01 Workbook 


Warning 

The system uses the same vibrating actuator as in Active Blind 
Spot Detection to issue the lane departure warning. 

The active system is ready whenever the prereguisites for a lane 
departure warning have been fulfilled: Lane detected and 
V > 40 mph. 

If the vehicle threatens to drive over the lane marking, the system 
warns the driver by causing the steering wheel to vibrate. 

Based on the detection of one or two lanes, the system first calcu¬ 
lates the position of the vehicle in relation to these lanes. 

Using the vehicle’s steering angle and road speed, the system cal¬ 
culates the time (t) remaining before the vehicle would cross the 
lane marking. 

The warning is output in time before the vehicle crosses the 
marking. 



Index 

Explanation 

Index 

Explanation 

1 

Steering wheel electronics 

2 

Vibration actuator for the lane 
departure warning 


Module 4 


High Beam Assistant 

The high-beam assistant (FLA) assists the customer in the use of 
the high-beam headlights. Depending on the traffic situation, the 
prevailing ambient light conditions and which lights on the vehicle 
have been switched on, the FLA switches on the high-beam head¬ 
lights automatically and thereby relieves the customer of having to 
switch the high-beam headlights on manually. 

High beam can still be switched on and off manually as usual. The 
driver always has the capability, and indeed the obligation, to over¬ 
ride the system whenever the situation reguires it. 


High-beam assistant display and button 




Index 

Explanation 

Index 

Explanation 

1 

Steering column stalk 

3 

Display when high-beam 
assistant activated 

2 

High-beam assistant button 

4 

Display when high-beam 
headlights on 

























Evaluation of Image Data 

The various dots, colors and intensities of light captured by the 
camera are evaluated by the control unit and, based on the control 
unit’s assessment, a switch-on or switch-off recommendation is 
sent from the KAFAS control unit to the footwell module. 

In addition to the switch-on/switch-off recommendation, road 
speed is also taken into account. 

At speeds below 24mph, the FLA is switched off; at speeds higher 
than 31 mph, it may be switched on, depending on all other param¬ 
eters. 

If the vehicle is in an environment with adequate light, the high- 
beam headlights do not switch on. The KAFAS control unit sends 
a switch-off recommendation to the footwell module. 

These conditions could be: 

• Daylight 

• Twilight 

• Road lighting 

• Illuminated places. 

The system is designed to switch off the high-beam headlights 
automatically in response to the following conditions. 

• Oncoming traffic 

• Preceding traffic 

• Detection of background brightness 
(twilight, street lamps, illuminated places, etc.) 

• Driving speed too low. 


Control of the Main-beam Headlights 

At the request of the KAFAS control unit, the actual switching on 
and off of the high-beam headlights is always carried out by the 
footwell module, which is responsible for all of the exterior lighting. 

The decision of the FRM to activate the dipped-beam headlights in 
“A” mode is made in the FRM independently of the FLA function. 
The FRM receives the light signal from the RLSS. 

System Limitations 

In various situations, and under specific environmental conditions, 
the limitations of a camera-based system begin to impact on 
functionality. 

These limitations may be reached in the following situations. 

• Extremely bad weather conditions (e.g. fog or heavy snowfall) 

• Poorly illuminated road users (e.g. riders on small motorcycles, 
cyclists, pedestrians) 

• Individual driving situations (e.g. sharp bends, steep hills, 
traffic coming at right angles from left or right) 

• Differentiation between different light sources, reflective traffic 
signs, etc. 

• No recognition of oncoming traffic is possible if only the cone 
of light is within the video camera’s field of view. 

Recognition is only possible if the light source itself is within 
the field of view of the video camera. 

The driver is able to intervene at any time and override the assis¬ 
tance system by switching the high-beam headlights on and off 
manually. 

The driver always bears sole responsibility for the vehicle and the 
control of the vehicle’s lighting. 


F01 Workbook - Module 4 

87 



88 

F01 Workbook 


Service Information 

Lane Departure Warning 

The lane departure warning has been available: 

• Since 03/07 in the 

-E60 

- E61 and 

• Since 09/07 in the 

-E63 

- E64 

In the event of a replacement of components, the instructions for 
the necessary coding and calibration routines stored in the diag¬ 
nostics and programming system must be observed. 

You will also find information on the lane departure warning in the 
“E60/E61 Lane departure warning” training material” available on 
TIS and ICR 

High Beam Assistant 

The high beam assistant was introduced for the first time in the 
E60, E61, E63 LCI, E64 LCI BMW models from 2007 Model Year. 

The high-beam assistant is not available separately for the F01/F02 
and is part of the ZDA Driver Assistance Package option. 

Low-sensitivity Mode 

A low-sensitivity mode has been implemented in order to comply 
with the US requirements. In this mode, the sensors are less sensi¬ 
tive. 


Module 4 


To activate this mode, the driver must press the turn signal stalk on 
the steering column forwards for 10 s with the vehicle stationary, 
the lights switched off and terminal 15 ON. 

As soon as the high-beam assistant is activated, the driver receives 
a Check Control message indicating that low-sensitivity mode is 
active. 

The high-beam assistant reverts to its basic state following a power 
cycle. 

Check Control Indicator 

The Check Control may display messages under the conditions 
described below. 


Cause 

Condition 

Sending unit 

Hardware/software defect 

"Internal fault" 

FLA orfootwell module 

Sensor field covered 

FLA detects covered 
windshield 

FLA 


Check Control 
message 

Condition 

Information in Central 
Information Display 


10 


High-beam assistant 
not active 

High-beam assistant High beam 
assistant not active. 

Sensor field covered. 

Manual activation 
and deactivation of high-beam 


30 


High-beam assistant 
defective 

High-beam assistant high beam 
assistant defective. 

Have the system checked by 
the nearest BMW Service 


10 


Sensitivity adjusted 

High-beam assistant Sensitivity adjusted for 
automatic high-beam headlights. 
Possible risk of dazzling oncoming vehicles 

















90 

F01 Workbook - Module 4 

q Classroom Exercise - Review Questions 

1. Where is the FLA module located in the F01/F02? 

2. Where is the KAFAS control unit located? 


3. What is included in the in the ZDA Driver assistance Package Option? 

4. What input does the ICM supply to the KAFAS control unit? 


5. Which control module controls the headlights, in the FLA system? 




PDC-TRSVC 


Park Distance Control (PDC) is standard equipment on the 
F01/F02 with the ZCE Camera Package available as an option. 
The Camera Package includes the Rear-view camera (3AG) and 
the Side View Camera (5DK) 

Park Distance Control 

The Park Distance Control of the F01/F02 is identifiable by the 
five ultrasonic sensors on the front bumper. The fifth sensor 
enables a high level of reliability in obstacle recognition to be 
achieved despite the large front end of the F01. 









F01 front bumper with five Park Distance Control ultrasonic sensors 


Note: During installation of the license plates, caution 
must be taken not to cover the center sensor on 
the bumper. 


In the F01, the PDC control unit 
function has been integrated into 
the junction box electronics for the 
first time. 


Index 

Explanation 

1 

Junction box electronics with 
integrated PDC control unit 

2 

Front distribution box 



RearView Camera Location 

In the F01, the optional rearview camera requires the vehicle to 
have been equipped with the PDC option. The rearview camera is 
located at the right of the recessed handle on the luggage com¬ 
partment lid. 



F01 Workbook - Module 4 

91 


Rearview camera location 




















92 

F01 Workbook - Module 4 


Side View Camera 

The F01/F02 is the first of BMW’s vehicles to feature the new Side 
View Camera. 

The function is realized by two digital cameras, one on the front 
right wheel housing and one on the front left wheel housing. They 
make it easier for the driver to pull into roads and junctions in which 
the driver’s view to the side is obstructed. 


Index 

Explanation 

1 

Bumper, front wheel housing 

2 

Side View camera, left 



The driver can activate the Side View cameras using a button in 
the control panel next to the gear selector lever. 



Index 

Explanation 

1 

PDC and rear view camera on/off button 

2 

Side View button 


The camera images are shown in the CID in split screen view up to 
a road speed of 30 km/h/19mph. 

Like the rearview camera, the two Side View cameras send their 
signals to the TRSVC control unit along LVDS data lines. 

The signals are forwarded along CVBS lines to the video switch 
VSW and CIC. The CIC sends image data to the CID along LVDS 
data lines. 

The CID is where the image data are displayed. 



Index 

Explanation 

Index 

Explanation 

1 

Split screen images from the 
Side View cameras 

4 

Projected front of vehicle, 
view to left 

2 

Split screen images from the 
Side View camera on the left-side 

5 

Projected front of vehicle, 
view to right 

3 

Split screen images from the Side 
View camera on the right-side 
























RearView Camera 


With the PDC and rearview camera equipment combination, the 
controller and the operating menu can be used to toggle between 
the basic PDC display and the rearview camera image with PDC. 


Distance warning PDC display and option to select rearview camera image with PDC 



Index 

Explanation 

Index 

Explanation 

1 

Distance warning PDC display with option to 
select rearview camera image 

2 

Rearview camera image and 
distance warning PDC 


F01 Workbook - Module 4 

93 














F01 Workbook - Module 4 



PDC system circuit diagram 



































































































































































































































































































































































































































F01 Workbook - Module 4 

95 






































96 

F01 Workbook - Module 4 



System circuit diagram for rearview and side view camera 









































































































































































































































































































F01 Workbook - Module 4 

97 






























98 

F01 Workbook - Module 4 



Workshop Exercise - System Components 

































































































100 

F01 Workbook - Module 4 

q Classroom Exercise - Review Questions 

1. What must be kept in mind while mounting license plates in a F01/F02? 

2. How many PDC sensors in total are installed on the F01/F02? 


3. What is the road speed that the side view camera stop working? 

4. Where are the side view camera located? 


5. Where is the PDC control unit located? 




Diagnostics Master 


The Diagnostics Master function is a function distributed through¬ 
out the vehicle. It is divided into the following subfunctions: 

• Time Master 

Includes the centralized specification of a system time for 
all control units in the vehicle, and the application as a time 
stamp for fault messages from control units. 

• Centralized fault memory 

Includes the saving of fault and Check Control messages 
with centralized ambient conditions. 

• Specification of the fault memory status 

Includes the centralized specification a fault memory block 
for network fault memory entries in specific situations as 
well as the evaluation/application of the block in the client 
control units. 

One task is often divided over multiple computers in a computer 
network (this also includes control units with bus connections). It 
is important to specify the computer (or control unit) that has the 
main function. This control unit is then described as the main con¬ 
trol unit or "master". All other computers (control units) are called 
“peripherals” or "secondary controllers". 

Each subfunction of the diagnostics master includes a master 
portion and a secondary portion. The master portion is always 
implemented in a single control unit, but the secondary controller 
portion in all participating control units. 


Subfunction 

Master 

Time master 

KOMBI 

Centralized storage of fault messages 

ZGM 

Specification of the fault memory status 

Junction Box 


F01 


Time Master 

The Time Master is located in the instru¬ 
ment panel and cyclically transmits the 
system time to all other control units in 
the vehicle every second. 

This system time is set to zero only once 
in the life cycle of the vehicle while in the 
factory at the end of the production pro¬ 
cess. The system time expresses the 
time in seconds that have passed since 
initialization in the factory. 

The counter for the system time is not reset when the battery is 
disconnected or when the power to the instrument panel is 
switched off. 

When the battery is disconnected the time value is actually initially 
lost, but it is updated when the power supply is again available. 
This is achieved by reading the last value stored in the non-volatile 
memory (EEPROM), increasing it by one time unit, and applying it 
in the Time Master as a new system time. The counter for the sys¬ 
tem time can map a time of approximately 136 years. 

The system time is received by all control units, and used it as a 
time stamp when fault messages are stored. 

To allow retention of the system time even after replacement of 
the instrument panel, it is stored redundantly in the CAS similar 
to the mileage reading. 



)Ook - Module 4 












102 

F01 Workbook - Module 4 


Centralized Fault Memory 

This subfunction has the task of centralized storage of 
fault and Check Control messages in addition to the local 
fault memories for each of the control units and the stor¬ 
age of CC messages in the instrument panel. The central 
gateway module (ZGM) is the master for this function and 
it is also called the Diagnostics Master. 

Whenever faults occur, all control units locally save the 
fault along with at least the two mandatory environmental 
conditions of kilometer reading and system time. A new 
function is that the control units additionally signal the 
fault code and the system time at which the fault occurred 
(time stamp) to the Diagnostics Master (ZGM). 

The fault memory concept and fault memory process of 
the control units have not been changed by the additional 
reporting to the Diagnostics Master. This means a control 
unit "very normally" makes a self-defined fault memory 
entry. The local fault memory entry remains untouched in 
the local fault memory of the secondary control unit. 

The Diagnostics Master then additionally centrally stores 
the fault code and a fixed set of 26 ambient conditions at 
the same time that it indicated in the time stamp. 


Storage of faults in the F01/F02 



Index 

Explanation 

Index 

Explanation 

1 

Two local ambient conditions for fault 1 

7 

Fault message 2 (FM2) 

2 

Fault 1 and 2 local ambient conditions are 
stored in the fault memory of the control unit 

8 

Fault message 1 (FM1) 

3 

Fault message 1 (FM1) and the "time 
stamp" are sent to the Diagnostics Master 

9 

Fault message 2 (FM2) and the "time 
stamp" are sent to the Diagnostics Master 

4 

Central ambient conditions at the 
time when fault 1 occurred 

10 

Fault 2 and 2 local ambient conditions are 
stored in the fault memory of the control unit 

5 

Ambient conditions at the time 
when fault 2 occurred 

11 

Two local ambient conditions for fault 

6 

Diagnostics Master in the ZGM 















































The ambient conditions stored on the fault message by the 
Diagnostics Master include different information on the global sta¬ 
tus of the vehicle such as the: 

• Standard time (year, month, day, hour, minute and second) 

• Terminal status 

• Vehicle system voltage 

• Kilometer reading 

• Outside temperature 

• Vehicle driving speed. 

The central fault memory in the ZGM has a size of 18 kB. Between 
250 and 1000 fault events and Check Control messages can be 
stored centrally in the ZGM dependent upon how many faults 
occur simultaneously. When the fault memory is full no new faults 
or Check Control messages are stored. The fault and Check 
Control messages in the central fault memory can then only be 
deleted via the BMW diagnostic system. 

Each fault code and each Check Control message is accepted up 
to 10 times. Without this limit, a constantly occurring fault would 
very quickly fill the entire central fault memory. 

These ten entries are sufficient for analysis of the fault. 

All central fault memory entries are lost when the ZGM is replaced. 


Note: Primary fault analysis continues to be performed by 
using the fault memory entries in each of the control 
units. The data from the central fault memory of the 
Diagnostics Master serve to supplement and allow a 
more precise diagnosis. Functions for using this data 
are integrated in the new workshop system. 


Advantages: 

Previously (without Diagnostics Master), only the kilometer reading 
and system time (mandatory environmental conditions) and possi¬ 
bly a few additional ambient conditions could be found in the local 
fault memories. 

The ZGM stores 26 additional ambient data items for each fault 
memory entry from each of the control units. 

Additionally, up to 10 time instances at which the fault occurred are 
recorded in the ZGM for a fault code. 

The time stamp with second-precision permits a statement upon 
the time sequence of fault events, which was previously not possi¬ 
ble based solely upon the kilometer reading. For the first time it is 
possible to the name the cause and effect with greater clarity for 
distributed functions, e.g. the control unit that firstly entered a fault, 
the control unit that in consequence only entered a fault as a reac¬ 
tion, etc. 

The Check Control messages at the time of the fault are also 
stored in the Diagnostics Master and are also provided with the 26 
ambient conditions. "Customer complaints" can be assigned better 
to a vehicle situation because of the Check Control messages and 
above all also corresponding fault memory entries. 

These measures have made a more precise diagnosis possible. 


Note: Up to 55 fault codes (also without time stamp or 

ambient conditions as is currently the case) can still 
be stored In the CAS and in the identification sensor 
of the F01/F02. 


F01 Workbook - Module 4 

103 



Specification of the Fault Memory Status 
(pseudo fault reduction) 

In certain vehicle operating situations invalid fault 
memory entries (pseudo faults) are made as the con¬ 
trol units do not behave synchronously in these situa¬ 
tions. The critical operating situations occur during: 

• Wake-up of the vehicle 

• Start of the combustion engine 

• Under/Overvoltage. 

To prevent pseudo faults in these operating situa¬ 
tions, a centrally communicated signal forbids specific 
faults from being entered in the local fault memories 
of the control units. 

These will simultaneously actively prevent these faults 
being signalled to the master of the "storage system 
context" function and from being entered in the cen¬ 
tral fault memory. 

The fault memory block is not only effective for net¬ 
work fault memory entries, however not for control 
units-fault memory entries. 

The fault memory entries for control units relevant for 
exhaust gas and safety are not affected by this func¬ 
tion and they will always be written. 


104 

F01 Workbook - Module 4 


Saving of faults is prevented under certain circumstances 




J 




Index 

Explanation 

1 

Under/Overvoltage 

block condition: 10.5 V < U < 16 V 

Unblock condition: U > 11 V or U < 15.5 V 

2 

Junction Box (master for the subfunction specification of fault memory status) 

3 

Bus message "status - block fault memory" 

4 

All control units 

5 

Wake-up of the vehicle 

Block condition: wake-up signal 

Unblock condition: three seconds after wake-up signal tw > 3 s 

6 

Engine start (Terminal 50) block condition: Terminal 50 active 


inillli* 













































Vehicle Status Management 


Vehicle status management is a system function with the task of 
implementing standardized system behavior in different operating 
conditions for all future BMW vehicles. 

For instance, the different switch-on behavior of the radio. To 
switch on the radio in the E65, the START-STOP button must be 
pressed (Terminal R is switched on). In the E90, on the other 
hand, the radio can also be switched on without inserting the 
key's remote control into the insertion slot. 

The vehicle status management system calculates a single vehicle 
status from the terminal status, vehicle movement, battery condi¬ 
tion and status of the combustion engine. This status is then used 
to define when a customer function ora group of customer func¬ 
tions (e.g. all entertainment functions) has to be available. 



F01 on the production line 


Furthermore, the vehicle status management system controls the 
operating mode the vehicle or specific modules are in. Those 
functions that are to be available in a mode are controlled. 
example : No radio operation while in the transportation mode. 


Distinction is drawn between the following operating states: 

• Standby 

• Basic control mode 

• Ready to drive 

• Engine start 

• Driving. 

A further vehicle status management task is the simultaneous start 
up and shut down of the on-board communication network. 


F01 Workbook - Module 4 

105 








106 

F01 Workbook - Module 4 


Start up and shut down of the onboard 
communication network 

The vehicle status management system describes the start up 
and shut down of the onboard communication network. In addition 
to general requirements, that are binding for all control units, the 
cascading, wake-up and sleep memories are defined. 

Cascading 

The cascading function ensures that all buses in the vehicle 
electrical and bus systems startup in coordination and shut down 
or "sleep" simultaneously. This function is made possible by a 
master function of the central gateway module (ZGM) that specifies 
whether the vehicle electrical and bus systems may sleep. This 
master function controls the secondary control units, each of which 
is responsible for the start-up and sleep for one bus. Secondary 
controllers are located in the following control units: 

• ZGM (for K-CAN, K-CAN2, PTCAN, FlexRay and MOST) 

• DME (for the PT-CAN2) 

Wake-up and Sleep Memory 

In the event that the vehicle should not correctly wake-up or sleep, 
this often results in an increased power requirement for the com¬ 
plete vehicle, which may cause an empty battery and therefore a 
broken-down vehicle. 


Should a faulty wake-up exist, it is logged in the ZGM (fault memo¬ 
ry entry that includes also the waking control unit and the wake-up 
reason as ambient conditions). The time and current kilometer 
reading are always saved as further ambient conditions. In this 
instance, the ZGM initiates countermeasures by transmitting the 
diagnostic command "powerdown". Should faulty wake-up events 
continue to occur after this, a reset of terminal 30F and then a per¬ 
manent switch-off of terminal 30F is required. Just as with wake- 
up, faults may also occur for sleep. For such a fault, the wake-up 
and sleep memory creates a fault memory entry and initiates the 
same measures as for faulty wake-up. 


All control units that may wake-up the vehicle are defined and 
assigned an identification number (hexadecimal number). Two sec¬ 
onds after each control unit has completed the wake-up process it 
transmits the bus message "wake-up registration FZM" to the 
ZGM and notifies the reason for the wake-up. 


Example: 

Wake-up by opening the 
driver's door FRM transmits 
the following message two 
seconds after the wake-up: 




• Message ID: 0x5F2 (identification number for FRM) 

• Byte 0: 0x27 (bus message "wake-up registration FZM") 


With the wake-up and sleep memory, the vehicle status manage¬ 
ment makes functions available for detection of faulty wake-up and 
sleep processes and initiation of countermeasures. For this pur¬ 
pose, the vehicle status management system has firstly recorded 
all possible reasons that could allow a control unit to wake-up the 
vehicle. When such a reason exists, the waking control unit must 
signal this reason to the wake-up and sleep memory that is con¬ 
tained in the ZGM. 


• Byte 1: 0x72 (identification number FRM) 

• Byte 2: 0x10 (Wake-up cause "door contact, front left") 






Wake-up of the Vehicle 

The bus overview of the F01/F02 with wake-authorized and wake- 
capable control units is shown below. 


Wake-authorized control units may wake-up the vehicle electrical 
and bus systems. 



The wake-authorized control units are shown on the bus 
diagram on the following page by a rising-edge symbol. 


The wake-authorized control units include: 


• K-CAN2: FRM, FZD, JB, 

• K-CAN: IHKA 

• MOST: RSE High, ULF-SBX High, ULFSBX and TCU 


Wake-capable control units are woken up via a wake-up line. 



The wake-capable control units are identified with a "W" 
These control units are woken up via a wake-up line. 


These include: 


• ZGM 


• PT-CAN: DME, ACSM, EMA LI, EMA RE, EGS 

• FlexRay: DSC and ICM 

Additionally, there is a group of control units that are “wake-author¬ 
ized” as well as wake capable: 

• K-CAN2: CAS 

• MOST: Kombi 

• PT-CAN: GWS and EMF 

• FlexRay: SZL 

The remaining control units are then woken up via the bus systems 
or via switching on the power supply. 


F01 Workbook - Module 4 

107 




108 

F01 Workbook - Module 4 


Bus overview F01/F02 with wake-authorized/capable control units 


0 


si 


FRM 


FZD 



FKA 









E 




TOPHiFi 


SOARS 





UtF-SBX 

High 


OVD 


TPMS 


TCU 



HKL 


SMFA 


r 




SMBF 


SMFAH 


SMBFH 


EMA Ll 


EMARE 


EG 5 


ows 


|w) 

[wj 

m 


NVE 


KAFAS 


EMF 


m 


K-Awi 

L1N‘Im 




D«AN “ 
FI*.Hi* ~~ 


UC5T 

ftfiO 


EKPS 




0 









SWW 

























































































































































































































































Index 

Explanation 

Index 

Explanation 

ACSM 

Advanced Crash Safety Module 

EKPS 

Electric Fuel Pump 

AL 

Active Steering 

EMA LI 

Electrically motorized reel, left 

CAS 

Car Access System (CAS 4) 

EMA RE 

Electrically motorized reel, right 

CIC 

Car Information Computer 

EMF 

Electromechanical Parking 
Brake 

CID 

Central Information Display 

FD 

Rear Display, left 

CON 

Controller 

FD2 

Rear Display 2, right 

DME 

Digital Motor Electronics 

FKA 

Rear compartment, 
heating/air conditioning 

DSC 

Dynamic Stability Control 

FLA 

High Beam Assistant 

DVD 

Digital Video Disc 

FRM 

Footwell Module 

EDCSHL 

Electronic Damping Control 
(Satellite rear left) 

FZD 

Roof Functions Center 

EDCSHR 

Electronic Damping Control 
(Satellite rear right) 

GWS 

Gear Selector Lever 

EDC SVL 

Electronic Damping Control 
(Satellite front left) 

HiFi 

HiFi Amplifier 

EDC SVR 

Electronic Damping Control 
(Satellite front right) 

HKL 

Trunk Lid lift 

EGS 

Electronic Transmission Control 

HSR 

Rear axle drift angle control 
(Rear Steering Control Module) 

EHC 

Electronic Height Control 

HUD 

Head-up Display 


F01 Workbook - 

109 


Index 

Explanation 

Index 

Explanation 

ICM 

Integrated Chassis 
Management 

SMFA 

Seat module, driver 

IHKA 

Integrated Heating and Air 
Conditioning, automatic 

SMFAH 

Seat module, driver side rear 

JB 

Junction Box Electronics 

SWW 

Lane Change Warning 
(Active Blind Spot Detection) 

KAFAS 

Camera-assisted Driver 
Assistance Systems 

SZL 

Steering column switch cluster 

KOMBI 

Instrument Cluster 

TCU 

Telematics Control Unit 

NVE 

Night Vision Electronics 

TOP-HIFI 

TOP-HiFi Amplifier 

PDC 

Park Distance Control 

TPMS 

Tire Pressure Monitoring 
System 

OBD 

On Board Diagnostic 
Connector 

TRSVC 

Top Rear Side View Camera 
Module for rear/side view cam 

RSE 

Rear Seat Entertainment 
(Mid) 

ULF-SBX 

High 

Interface Box, high version 

SDARS 

Satellite Radio 

VDM 

Vertical Dynamics 
Management 

SMBF 

Seat module, passenger 

VSW 

Video Switch 

SMBFH 

Seat module, passenger rear 

ZGM 

Central Gateway Module 
























































































































110 

F01 Workbook - Module 4 


Calculation of the Vehicle Status and 
Control of Vehicle Functions 

The vehicle status management system calculates a single vehicle 
status from the terminal status, vehicle movement, battery condi¬ 
tion and status of the combustion engine. This status is then used 
to describe when a customer function or a group of customer 
functions (e.g. all entertainment functions) has to be available. 

For instance, all functions for geometric adaptation are to be avail¬ 
able in the basic control mode/stationary operation statuses. The 
operating states defined through vehicle status management are 
summarized in the following table: 


Operating State 

Identifying Feature 

Function 

Driving 

Engine running 

Active steering 

Engine start 

Starter motor running 

Radio mute 

Ready to drive 

Engine OFF, driver present, 
ignition switched ON 

This is where those functions are 
activated that are required for the 
driving mode, e.g. Park Distance 
Control, air-conditioning system, 
passive safety systems 

Basic control mode 

Engine OFF, driver present, 
ignition switched OFF 

Radio, seat adjustment 

Standby 

Driver's absence identified by: 

• Secure vehicle, or 

• Non-initiation of driver 
interaction for 30 minutes. 

Functions that have to exist when 
the driver is absent, e.g. DWA, 

CAS (read-in remote control) 


Control of Operating Modes 

Those functions that are to be available in an operating mode are 
defined (e.g. no radio operation in transportation mode) via the 
vehicle status management system. There are three operating 
modes: manufacture, transportation, flash, which are abbreviated 
in German as FeTraFla mode. 

FeTraFla mode replaces the former manufacture, transportation, 
workshop or FeTraWe mode. Workshop mode has rarely been 
used to date and has been replaced by flash mode. 

Flash mode offers the advantage that communication between 
the control units is reduced to a minimum during programming, 
and therefore higher data transfer rates are achieved from the 
BMW Programming system into the vehicle. Additionally, the 
control units are notified that programming is taking place. 

This prevents the control units from going into emergency opera¬ 
tion (e.g. the windscreen wiper does not start). 

Flash mode is activated via a diagnostic command. The control 
units permanently save this mode. This has the advantage that the 
control units still know that they are in flash mode after a reset. In 
earlier vehicles a reset often had the consequence that a control 
unit had interrupted communication and this had consequently 
caused a flash termination. 

It is also possible to use the "extended operating modes" to 
further subdivide a mode in order, for instance, to suppress or 
activate functions only at specific conveyor belt sections during 
manufacture. 




Ethernet Access 


The increasing number and complexity of functions in the vehicle 
cause a constantly increasing rise in the number of control units 
and consequently the data volume in the vehicle. When these data 
are to be updated the vehicles must be programmed over the 
BMW programming system. The number of BMW vehicles that 
can be programmed has constantly increased since the introduc¬ 
tion of the E65 in 2001. 

The challenge facing the Service Department is the programming 
of ever increasing data in increasing numbers of vehicles. 

In order to accelerate the programming procedure in the work¬ 
shop, an Ethernet access has been integrated in the diagnostic 
socket of the F01/F02 in addition to the OBD access (D-CAN). 

It is Fast Ethernet compliant with IEE802.3 2005 100 base TX. 

This standardized interface provides a centralized, standardized 
access in the vehicle. This access permits IP-based communica¬ 
tion with the vehicle. 

The vehicle is therefore uniquely identifiable as a communication 
partner in an IP-based network, and BMW diagnosis and program¬ 
ming systems can be used in the workshop for the data exchange 
with the vehicle. 


Note: The previously used MOST 
direct access is not installed 
in the F01/F02. 



F01 Workbook - 

111 


What is Ethernet? 


Ethernet is a cabled data network technology for local area net¬ 
works (LANs). It facilitates the data exchange in the form of data 
frames between all devices (computers, printers,...) connected in 
a local network (LAN). Earlier the LAN only extended over one 
building. 

Today the Ethernet technology uses fiber glass or radio to also 
connect devices over long distances. 

Ethernet was invented over 30 years ago. A protocol was used as 
a transmission protocol that was in use at that time for radio-based 
networks. 

Consequently the name Ether, that had been assumed historically 
to be the medium for propagation of radio waves. 

In an Ethernet network, the users in the common cable network 
transmit messages via high-frequency signals. 

Each network user has a unique 48-bit key that is called the MAC 
address. This ensures that all systems in an Ethernet have differ¬ 
ent addresses. 

MAC is an acronym for Media Access Control. 

The MAC address is required because a commonly used medium 
(network) can not be used simultaneously by multiple computers 
without data collisions, and therefore communication faults or data 
losses occur in the short or long term. 


Module 4 








112 

F01 Workbook - Module 4 


Different data transfer speeds were defined during development of 
Ethernet. Since 1995 the 100 Mbits/s standard has been used and 
it is called Fast Ethernet. 

In the F01/F02, Fast Ethernet compliant with standard IEEE 802.3 
2005 100 base TX with 100 Mbits/s data transfer rate is used. 

100 Mbit/s Ethernet is also used today as the LAN connection for 
PCs. 



Ethernet connection for a PC 

In addition to a higher data rate, the 100 Mbits/s Ethernet offers the 
following advantages: 

• All BMW dealers have an Ethernet infrastructure 

• Ethernet is future-proof 

• Standard IT technologies can be used inside and outside of 
the vehicle 

• Ethernet allows a cable length of 100 m (cable length today in 
the workshop = 10 m). 


Ethernet Port 

As there were enough free pins in the diagnostic socket it was 
possible to integrate the Ethernet port in this socket. 

This installation location is the optimal solution for the vehicle 
access. The further advantage lies in that D-CAN as well as 
Ethernet can be connected to BMW diagnostic and programming 
systems via one connection (ICOM A). 












Five pins are used for the Ethernet port in the diagnostic socket. 

Diagnostic socket 



Index 

Explanation 

Index 

Explanation 

1 

Not assigned 

9 

Engine speed 

2 

Not assigned 

10 

Not assigned 

3 

Ethernet Rx+ 

11 

Ethernet Rx- 

4 

Terminal 31 

12 

Ethernet Tx+ 

5 

Terminal 31 

13 

Ethernet Tx- 

6 

D-CAN High 

14 

D-CAN Low 

7 

Not assigned 

15 

Not assigned 

8 

Ethernet activation 

16 

Terminal 30F 


Ethernet connection between the diagnostic socket and ZGM 



>- tfa ** ® 


These five lines are routed from the diagnostic socket to the central 
gateway module (ZGM). 

One of the five lines transmits the activation signal. The remaining 
four lines are twisted pair and are used for data transmission. 


F01 


1 


Activation of the Ethernet Access 


The Ethernet access is switched off in normal operation. It must be 
activated prior to every usage and then deactivated after it has 
been used. 

Upon connection of the ICOM A, the activation line (Pin 8) is con¬ 
nected to terminal 30B (Pin 16) and this activates the Ethernet 
access. 

The Ethernet module in the ZGM receives the signal (voltage level 
of terminal 30B) via the activation line. When the ICOM A is discon¬ 
nected from the diagnostic socket the Ethernet access is deacti¬ 
vated. When the customer is in driving mode the Ethernet access 
is always deactivated. 

Each user in an Ethernet is assigned an identification number that 
is unique throughout the world, the MAC address (Media Access 
Control). A user in a network is uniquely identifiable via the MAC 
address. The MAC address of the vehicle is located in the ZGM 
and can not be changed. 

The VIN (Vehicle Identification Number) identifies the vehicle to the 
BMW programming system. Before communication with the vehi¬ 
cle can take place, just the same as for a computer network in the 
office it is necessary for each device in an IP-based network to 
have received a logical identification, called the IP address. The IP 
address is only unique in the respective network segment (subnet¬ 
work) and it can be assigned dynamically or statically. 

After activation of the Ethernet connection and establishment of 
the physical connection the central gateway module is assigned 
the IP address from the ICOM A. Through a special process, the 
so-called "vehicle identification", the IP address, VIN and MAC are 
exchanged between the BMW diagnosis or programming systems 
and the ZGM. This allows unique identification of the vehicle in the 
workshop network and therefore a communication connection can 
also be established. 


< - Module 4 

3 










































114 

F01 Workbook - Module 4 


The function of an IP address in a network corresponds to a phone 
number in the telephone network. Assignment of this IP address is 
performed per DHCP (Dynamic Host Configuration Protocol). This 
is a process for automatic allocation of IP addresses to new end 
devices in a network. Merely the automatic reference to IP address 
must be set on the end device. 

It must be possible to assign the IP address dynamically (DHCP 
server) for operation in a changing workshop network infrastructure. 

The vehicle should adapt to the network and not the network to the 
vehicle. After disconnection of the ICOM A the assigned IP address 
is released upon expiry of the time set in the DHCP server. 

Data enters into the vehicle and is distributed in the vehicle via the 
Ethernet access over the central gateway module. 

The Ethernet connection does not have any effect upon the opera¬ 
tion and time response of the D-CAN connection. 

Note: Simultaneous operation of the D-CAN and Ethernet 
access must be prevented, as this makes collisions 
of diagnostics commands within the vehicle proba¬ 
ble and therefore communication via both accesses 
can become faulty. 


Vehicle Connection to the BMW Shop Network 

An example of connection of the F01/F02 to the BMW workshop 
network is shown in the diagram below. 

An IP address is automatically assigned to the vehicle after con¬ 
nection of the ICOM A. This allows unique identification of the 
vehicle (the ZGM) in the BMW workshop network, and a communi¬ 
cation connection is established. 

Authentication must be completed, and a signature is necessary 
for writing (programming) data into the vehicle. As opposed to this, 
it is possible to read (diagnosis) data immediately after a data line 
has been connected to the vehicle. The authentication and signa¬ 
ture prevent third parties from changing data records and memory 
values. 

Programming is carried out using the Software Service Station and 
ISTA-R 

The ICOM A must always be connected to the workshop network 
over LAN cable to allow programming to be carried out. 

Programming is always performed over the Ethernet access. Only 
the diagnosis and no programming is performed over D-CAN. 

The connection to the vehicle must be retained until programming 
has been fully completed. The ZGM assumes the gateway function 
and distributes data over the buses to the other control units. 



Definitions 



Index 

Explanation 

Index 

Explanation 

1 

Integrated Service Information 
Server ISIS1 

7 

Integrated Service Information 
Display ISID 

2 

Gigabit switch 

8 

Battery charger 

3 

Printer 

9 

LAN cable 

4 

Integrated Software 

Service Station ISSS 

10 

Integrated Measurement 
Interface Box IMIB 

5 

BMW Group server 

11 

Workshop trolley 

6 

Workshop PC 

12 

Integrated Communication 
Optical Module ICOM A 


Authentication 

Authentic from the Greek work "authentikos" = valid, real, credible. 

Authentication = confirmation of authenticity 

To authenticate = to make valid, make credible. 

Nowadays the conformation of authenticity is often stated in con¬ 
nection with rights of use e.g. for PCs or access to buildings. 

Authentification 

The process of proving the identity (authenticity) upon request. 

For instance, check of the user password by the PC system. 

To avoid confusing authentification, authentication and authoriza¬ 
tion, the following example: 

A user wants to log on to his PC. He authenticates himself. 

The PC system wants to check whether the user is entitled to log 
on to the system: It authentifies. 

After it has completed the check, the PC grants access: It authoriz¬ 
es the user. 

Digital Signature 

= Digital acceptance 

From the Latin "Signum" the sign. 

A digital signature in an encryption procedure with the purpose of 
ensuring the trustworthiness of a person. 

In this case, the authorship and affiliation of data to a specific per¬ 
son is checked. 

Simultaneously the completeness, genuineness and intactness of 
the signed electronic data are checked. 


F01 Workbook - Module 4 

115 
























































































































































116 

F01 Workbook - Module 4 

Vehicle Configuration Management 


The vehicle configuration management system (VCM) is a system 
function and has the primary task of centralized storage of data 
structures in the vehicle. The VCM integrated in the central gate¬ 
way module ZGM as a system function. 

The vehicle order and the l-levels in addition to the security are 
stored in the CAS. This ensures that the information can be 
restored after the ZGM has been replaced. The information stored 
in the vehicle configuration management system can be called by 
diagnostic commands upon request from the diagnosis system or 
internal vehicle system functions. 

This means that the current vehicle configuration is saved central¬ 
ly at precisely one place and a consistent information status is 
assured. This configuration knowledge only needs to be main¬ 
tained at only one place. As this information is stored in the vehi¬ 
cle it is available at all times to all systems outside of the vehicle 
(diagnosis, programming) and the systems inside of the vehicle 
(system functions). 

A further primary task of the vehicle configuration management 
system is the query, cyclic or upon request, of the configuration of 
the currently installed control units, and to use this to generate an 
equipment installation table that represents the current status, 
SVT-current. A comparison between SVT-nominal and SVT-cur- 
rent then takes place in order to determine whether the configura¬ 
tion installed in the vehicle is the same as the configuration that 
the vehicle should have. A fault memory entry is saved in the VCM 
if this reveals any discrepancies. 

Additionally, upon request the vehicle configuration management 
system generates lists of control units that have specific charac¬ 
teristics. 

Finally, the vehicle configuration management system has the task 
of determining those control units that have different serial num¬ 
bers since a reference time (writing of SVT nominal). 


The Service Department can use this to determine those control 
units that have been replaced since this time. 

After replacement or changes to hardware or software, for 
instance, it is much easier to reestablish a consistent and working 
status for the vehicle electrical and bus systems. 

Furthermore, the required configuration must not be maintained 
by each system function itself. This produces savings in compo¬ 
nent development as well as in system integration and logistics as 
compared to previous systems. Additionally, faults due to inconsis¬ 
tent configuration information are prevented. 

Deviations from the specified configuration (SVT-nominal) and the 
current configuration (SVT-current) queried by the control units are 
identified. 

Data Storage 

The vehicle configuration management system provides detailed 
information on the hardware and software installation status of the 
vehicle. To the outside, the VCM makes available that, and only 
that, which is relevant for its users. Direct access to internal struc¬ 
tures is prohibited and is instead achieved via defined interfaces. 

The vehicle configuration management system administers the 
following data for all electrical components in the vehicle: 

• Specified equipment installation table (SVT-nominal) 

• Vehicle order (FA) 

• Vehicle profile (FP) and 

• l-levels. 




Storage of data by the vehicle configuration management system 





SVK2 


SW: xx.yy.77 
HW: xx,yy.zz 
SN: x xxx >:kx 


SVT 




Fafrrzeiagauftrag (js) 


FahrieugprofiF(7 



Index 

Explanation 

1 

Control unit 1 

2 

Equipment installation identification list 1 (SVK1) 

3 

Data structure in the vehicle configuration management system 

4 

l-levels 

5 

Equipment installation table (SVT) 

6 

Vehicle order (FA) 

7 

Vehicle profile (FP) 

8 

Equipment installation identification list 2 (SVK2) 

9 

Control unit 2 


Equipment Installation Table (SVT) 

The equipment installation table (SVT) contains all equipment 
installation identification lists (SVK) of all users installed in the vehi¬ 
cle electrical and bus systems. 

The equipment installation identification list (SVK) is a list of all 
components (software and hardware). The component is not to 
be confused with the control unit as a control unit may be made 
up of several units. For instance, a CCC comprizes several software 
units such as: user interface (BO), antennas (ANT), audio system 
controller (ASK), gateway (GW) as well as the hardware unit. 

The vehicle configuration management system checks the current 
configuration 10 seconds after the engine start. This creates the 
current-equipment installation table. The nominal configuration 
(SVT nominal) is also saved in the vehicle configuration manage¬ 
ment system. If discrepancies are determined between SVT cur¬ 
rent and SVT-nominal a fault memory entry is saved in the ZGM. 

New nominal values are written into the VCM during vehicle 
programming and coding. 


F01 Workbook - Module 4 

117 




















118 

F01 Workbook - Module 4 


Vehicle Order 

The vehicle order contains all the important equipment features of 
the vehicle in addition to the type code. 


The assembly numbers of the drive control units are stored in the 
vehicle during assembly and can no longer be changed. It is there¬ 
fore possible at any time to identify which part numbers of the con¬ 
trol units were allocated to the vehicle during production. 


Vehicle order data 




\D 







■iTpijgfcqri 


FPWBADR41030GT70375E 


-Produkticmsort; 

Work 10.0 

Produktionszeit: 

17.04.2000 

12.00 


Typschlussel: 

AM34 

Baustand: 

0302 

Baureihe: 

E65 

Lackcode: 

0609 

-Polstercode: 

A6C9 

ISA: 

210 


534 


630 


690 

ZusBau-DMEI: 

1234567 

Zu$Bau-DME2: 

1234566 

ZusBau-EGS: 

7654321 


Index 

Explanation 

Index 

Explanation 

1 

Vehicle identification number 

7 

Paint code 

2 

Production location 

8 

Upholstery code 

3 

Production time 

9 

Options (SA) 

4 

Type code 

10 

Assembly number DME-1 

5 

Build date 

11 

Assembly number DME-2 

6 

Model series 

12 

Assembly number 7654321 


Vehicle Profile 

The vehicle profile contains additional data that precisely describe 
the vehicle. In addition to the development model series and 
design they include, for instance, the gearbox type, engine, version 
etc. 


Vehicle order data 












Fahrzeugprof i I 


E n twicki u ngsbaur e ihe; 

F0D1 

Batterieklasse: 

B080 

□swart: 

LIMOUSINE 

Landervariante: 

Deutschlancl 

Lenkseitei 

LL 

Sonderausstattung: 

Treib&toff: 

BENZIN 

Leistungsklasse: 

(1B5)UL 

Motor: 

N63644 

Getriebetyp: 

AUTOMATIK 

Zylinderzahl: 

e 

Hubraum: 

44D0DCCM' 

Baustand: 

MAERZ..2008 


Index 

Explanation 

Index 

Explanation 

1 

Vehicle profile 

8 

Fuel 

2 

Development model series 

9 

Performance class 

3 

Battery class 

10 

Gearbox type 

4 

Design, e.g. Saloon 

11 

Number of cylinders 

5 

National-market version 

12 

Cubic capacity 

6 

Steering side 

13 

Version 

7 

Optional extra (SA) 

14 























































































Integration Levels 

In order to keep the testing controllable for the theoretically 
extremely high possibility of combinations for the installed states of 
the control unit versions (hardware state, program and data status), 
so-called integration levels (llevels) are defined during the develop¬ 
ment process of the vehicle electrical and bus systems and during 
model upgrading. 

Extensive tests assure the perfect interplay of all states for the 
hardware, program data and data of the control unit versions in an 
integration level. 

An integration level (l-level) is a defined vehicle configuration from 
the electrical standpoint (hardware, software, data, documentation 
and configuration knowledge) that is fully present at a defined time 
and which is integrated and accepted compliant with the system 
acceptance process. 

The l-level is therefore a basis, i.e. a reference configuration, for 
subsequent processes. The most important planned l-levels are 
defined in development and are scheduled and finalized over the 
l-level planning for each model series. 

For the Service Department, an l-level represents the combination 
of electronic components for a vehicle in all of its authorized ver¬ 
sions with the authorized old states of electronic components. This 
avoids an unnecessary replacement of control units during pro¬ 
gramming. 

The vehicle configuration management system administers three 
l-level states: 

• l-level ex works 

• Current l-level, and 


l-level Designation 

The l-level designation consists of the system reference, 

SOP date (SOP = Start of Production) and the l-level. 

Example: "F001 -08-09-500" 

F001: System reference 

08: Year of series introduction 

09: Month of series introduction 

500: l-level of the system reference for the series introduction. 

l-levels Container (1C) 

An l-levels container contains, for instance, the entire software for 
the control units that is valid in an l-level. 

The state of knowledge for each model series is stored in the CIS 
database. 

CIS = Configuration Information System 

The CIS database replaces the former KMM database and is used 
for determination of the vehicle ideal equipment installation status. 


• Last l-level. 


F01 Workbook - Module 4 

119 



120 

F01 Workbook - Module 4 


Initialization of the Vehicle Configuration 
Management System 

Initialization of the VCM means the first writing of data. All data 
(SVT-nominal, vehicle order, vehicle profile and the l-levels) is writ¬ 
ten into the central gateway module through the initialization. 

Initialization takes place in the factory and must always be per¬ 
formed when the ZGM is replaced. 

Initialization is automatically performed by the programming sys¬ 
tem. Data from the vehicle order (FA) and l-levels on security are 
always stored in the CAS. The programming system firstly collects 
these data from the CAS and then writes them into the ZGM. 

Reading and Writing of Data 

The SVT-current, SVT-nominal, vehicle order, vehicle profile and 
the l-levels can be read out from the VCM via diagnosis. These 
data are written in the VCM during vehicle programming and cod¬ 
ing. SVT nominal, FA, FP and l-levels can be written independently 
of each other. 

For data security reasons, signatures are used in the data exchange 
between the diagnosis or programming systems and the VCM. 

Example of Vehicle Configuration Management 


Further system functions that revert to information from the VCM 
are, for instance: 


• Personal profile (needs information on changes to the vehicle 
configuration) 


• Diagnostics Master (needs list of the actively signalling control 
units). 


Query to VCM on installed control units 



Upon request by other system functions (e.g. integrated Owner's 
Handbook), the VCM extracts a control units list, e.g. a list of all 
installed control units, from the SVT-current. 

All the contents of the integrated Owner's Handbook are stored in 
the CIC, but only the vehicle-specific contents are shown. For 
instance, the CIC queries whether the high beam assistant is 
installed. If it is, the contents on the high-beam assistant are shown 
(graphic illustration on the next page). 


Index 

Explanation 

1 

Integrated Owner's Handbook is called up 

2 

CIC (queries the VCM on installed control units 
and makes vehicle-specific contents available) 

3 

Query to the VCM on installed control units 
e.g. high-beam assistant or KAFAS 

4 

VCMin the ZGM gives information on installed control units 

5 

The high-beam assistant or KAFAS is installed in this vehicle 

6 

The appropriate notes on this topic are shown in the CID 































SWEEPING Technologies 


SWEEPING technologies allows protection against copying, 
usage and manipulation of IT components and their software. 

The abbreviation SWEEPING stands for Software Enabled 
Electronics Platform for Innovative Next Generation Technologies. 



SWT logo 

SWT is based upon an encryption process that uses a key specif¬ 
ic to a vehicle and control unit, the activation code as it is called, 
to activate a software function or application for a control unit. 

The activation code (Freischaltcodes - FSC) is input in the Service 
Department or by the customer. 

This occurs either by an input in the controller or through the 
import from CD/DVD or USB stick as an import medium for the 
BMW programming system. 

The activation code is then subsequently input in the respective 
vehicle via the BMW programming system. 

The required software is operable only after input of the activation 
code. 


Activation by Means of Activation Code 

Introduction of SWT Hardware Activation 

The first activation code for a BMW vehicle was used in March 
2006 for activation of the night vision camera following a replace¬ 
ment. 

The hardware component was activated and therefore made 
operable. 

A legal requirement was the background for this. Strict conditions 
applied for the night vision camera that was developed especially 
for military purposes. 

They could only be installed in registered vehicles. This allowed 
the vehicles with SA 611 (night vision) to be recorded and 
accounted for in strict conformity with license conditions. 

Furthermore, usage of a FSC allowed clear allocation of the hard¬ 
ware component (night vision camera) to the vehicle in which it 
was installed. 

An activation code for the night vision camera following a replace¬ 
ment was enclosed in the form of a CD. This so-called "subpart" 
had to be ordered by the parts technician over the EPC by giving 
the vehicle identification number. 

The activation code located on the CD was requested by the 
BMW programming system during the programming. It was then 
transferred into the BMW programming system and imported into 
the vehicle. 

If a FSC was not entered during programming or coding, it was 
not possible to activate BMW Night Vision. This was displayed 
after programming/coding by a Check Control message in the 
instrument panel. 


F01 Workbook - Module 4 

121 




122 

F01 Workbook - Module 4 


Introduction of SWT Software Activation 

In March 2007 the activation of single software components was 
commenced at BMW. This laid the foundation stone for the busi¬ 
ness model "software as a product". 

It allowed functions already installed in the vehicle to be made 
usable for the customer and to activate them by means of an acti¬ 
vation code. 

This in turn created the opportunity to invoice software licenses 
individually with the supplier and only after its activation. In addition, 
copy protection was hugely improved by activation code activation, 
an asynchronous encryption method. 

Activation of the Voice Recognition System in the CCC: 

An activation code for the voice recognition system (SA 620) in 
connection with CCC (SA 609) became necessary when program¬ 
ming a vehicle from Progman V25.0, as the voice recognition sys¬ 
tem could no longer be used without this. 

This applied for the retrofit of software for the voice recognition sys¬ 
tem as well as for replacement of the CCC. 

Savings in license costs was the background, as invoicing could 
now be carried out with the software manufacturer separately for 
each vehicle instead of a general license. 

When programming of the CCC (SA 609) was carried out on vehi¬ 
cles up to March 2007 fitted with the voice recognition system (SA 
620) or voice recognition system preparation (SA 6UB), the BMW 
Programming system requested an activation code. 

This activation code was located on a separate DVD or in the 
ASAP portal (only available in the ASAP portal after prior comple¬ 
tion of an order). 


On vehicles with a production date from March 2007 (l-level 07- 
03-5XX or higher) the activation code was contained in the CCC. 

In the event of a hardware replacement for the CCC however, it is 
not possible to import the code from the SWT disc. The data does 
not exist on the CD. 

The necessary code has to be ordered together with the replace¬ 
ment module via EPC and will be delivered via the ASAP portal 
(see page 124). 



SWT CD for input of the activation codes 
* only for vehicle produced before 3/2007 


Note: Vehicles produced from 3/2007 require an activation 
code acquired from the ASAP portal. 




SWEEPING Technologies in the F01/F02 

From the F01/F02 the activation of software applications and func¬ 
tion has been increasingly expanded. 

It is now possible to activate the following applications or software 
functions via FSC: 

• Software for voice recognition (SA 620) 

• Navigation system application software (SA 609) 

• Navigation system map data (activation code required from the 
second half of 2009). 

The activation code for the software applications and software 
functions named above is loaded over the BMW programming sys¬ 
tem into the vehicle in nearly all cases. The CD is still necessary for 
activation of the camera for the night vision camera following a 
replacement. 



Navigation system map data 


F01 


1 


Update of map data for the navigation system and input of 
the activation code 

Since 09/2008 with introduction of the Car Information Computer, 
the navigation system map data is stored on a hard disk in the CIC. 

Input of the map data is currently possible from the DVD drive and 
in later production vehicles over the programming system. 

The activation code can also be entered over the programming 
system or via the controller of the iDrive system. An input aid 
(speller) is available in the iDrive display for this purpose. 

This activation code along with the current navigation software 
(Navigation DVD) is handed to the customer when the customer 
purchases the map update. 

When the order is placed for the activation code, the parts techni¬ 
cian states the vehicle identification number of the vehicle for which 
the navigation map is to be updated. 

A special activation code is consequently created in the BMW AG 
headquarters, in which the vehicle identification number becomes 
an element of the FSC. 

This means the issued FSC and navigation DVD can only be used 
for the vehicle requested. 

The initial filling of the hard disk integrated in the CIC with map 
data can, if this manufacturer has not already filled it, only be carried 
out over the BMW programming system. 

For the update of map data, only the cash sale variant with activa¬ 
tion code input via the speller is subsequently available. 


nok - Module 4 











F01 


Delivery Process of the Activation Codes Over ASAP 

The majority of software functions and applications are not activat¬ 
ed by customers, rather by BMW Service employees over the 
BMW programming system. 

A special process was created for BMW employees to request the 
activation code from the BMW AG headquarters, to download it to 
the workshop PC and then to import it into the corresponding vehi¬ 
cle over the BMW programming system. 

The part number for the activation code is available after input of 
the vehicle identification number in the EPC (Electronic Parts 
Catalogue). 

Upon request from the BMW Service employee, the parts techni¬ 
cian orders the activation code over the appropriate Dealer 
Management System. 

The activation code is now created in the BMW AG headquarters. 

It is normally available to the Service employee in the ASAP portal 
within a very short time. 

Note: The delivery time for the activation code may be 

delayed for up to one workday due to country-specif¬ 
ic circumstances and the world-wide time difference. 

The activation code is now ready for download as a ZIP folder 
(content = 3 files) in the ASAP portal and is shown after input 
of the corresponding vehicle identification number. 

This ZIP folder must be saved in a temporary directory for subse¬ 
quent extraction of the contents. 

These "unzipped" contents are now to be saved in on a CD/DVD 
or via the use of a USB stick as long as it has been formatted as a 
removable disc. 

Note: No external USB hard drives will be supported. Not 
all USB devices are compatible with the sytem. 



)Ook - Module 4 


Note: Cancellation of the activation code is only possible 
before the start of the download. Therefore, a check 
should be made before the download of whether the 
vehicle identification number of the customer's vehi¬ 
cle is correct. The activation code is invoiced when 
the download starts even though it has not been 
installed in the customer's vehicle. 

Cancellation after the download is therefore no 
longer possible. 

Input of the Activation Code into the BMW Programming 
System 

The medium containing the three unzipped files is inserted into the 
ISSS so that the BMW programming system can access these 
FSC data. 

After the import button has been pressed, follow the on screen 
instructions to complete the import process. 

ISSS 


Import of the activation code 
into the BMW programming 
system 

















Planned Expansion Stages 

In the expansion stage of the BMW programming system planned 
for the future, the data import of the activation code is to happen 
automatically. 

This would mean that after the request by the parts technician, the 
activation code, would be directly available to the BMW program¬ 
ming system after a short waiting time. 

This process, called "SWT-Online", plays an important role particu¬ 
larly for repairs. Because after replacement of a Car Information 
Computer, for instance, work can be carried out on a repair without 
an activation code having to be ordered. It is made directly available 
to the BMW programming system by "SWT-Online". 

However, it is still necessary to place an order over the parts techni¬ 
cian and the Dealer Management System for software that has to 
be paid for, such as the voice input system. 

"SWT-Online" or the ASAP portal can be selected afterwards as 
the delivery channel. 

Cancellation of the activation code is however only possible over 
the ASAP portal. 

The channel over the ASAP portal, with download onto the work¬ 
shop PC and subsequent import into the BMW programming sys¬ 
tem, should therefore continue to be used as the backup-solution. 

Should problems occur during the download or data import into the 
vehicle, technical support of the respective market should be con¬ 
tacted or a PuMA instance created. 


F01 Workbook - Module 4 

125 



126 

F01 Workbook - Module 4 


Vehicle Security 


History and Fundamentals 

Vehicle security protects the vehicle electrical and bus systems 
against unauthorized manipulative external access. 

The topic of vehicle security experienced its beginnings with the 
introduction of the E28. 

On this 5 Series, an instrument panel with encoding connector 
(coding plug) was installed from 1980. 

When a new instrument panel was installed, the encoding con¬ 
nector of the old one had to be used. If this was not done a 
manipulation dot lit up to indicate that the kilometer reading had 
been manipulated. 

The kilometer reading was only reset to the correct reading with 
the old encoding connector. The manipulation dot was no longer 
displayed. 

A new era in manipulation protection begins with introduction of 
the master security module (MSM) as a module in the central 
gateway module in the F01/F02 and the client security module 
(CSM) in some selected control units. 

The basis for the requirement for the vehicle security system is 
formed by the growing amount of electronics and the interlinked 
networking installed in the vehicle. 

Mention must also be made of the increase in driver-based 
services. 

Threat Potential 

As electronics increase in vehicles, the possibilities also increase 
of disrupting and infiltrating this sensitive system through manipu¬ 
lation, imitation of hardware and software, and tuning measures 
(blackbox tuning). 


Data storage in the vehicle (e.g. 
Contacts menu) also means that 
adequate data protection must be 
provided. 


Vehicle Security Measures 

The measures below are carried out to be able to ensure vehicle 
security in the F01/F02: 

• Periodic check of software signatures 
(signature = digital, electronic signa¬ 
ture used for checking the complete¬ 
ness, genuineness and intactness 
of data) 

• Individual stamping of control units 
on the vehicle in which they have 
been installed 

• Cryptographic protection of the 
teleservice access 

• Encryption of personal data 

• Periodic checking of memory ranges. 

Benefits for Customers 

The vehicle security system actively protects the personal data of 
the customer and actively guards the vehicle electrical and bus 
systems against attempted manipulation from outside. 








Benefits of the Vehicle Security System for the BMW Group 
and the BMW Brand 

For the BMW Group, the vehicle security system contributes 
towards unjustified liability and to warranty costs not being accrued 
for manipulation. 

Furthermore, vehicle security has the purpose of preventing vehi¬ 
cles damaged by manipulation giving a bad public image to the 
BMW brand and therefore damage to our reputation. 


Secondly, the vehicle security system comprizes the client security 
modules located in the control units below that are monitored by 
the master security module: 

• CIC - Car Information Computer 

• KOMBI - Instrument Cluster 

• HUD - Head-up Display 

• CON - Controller 


Architecture of the Vehicle Security System Overview of the MSM and the individual client security modules 


The vehicle security system is comprized primarily of the master 
security module. 

This master security module (abbreviated as MSM) is located in 
the central gateway module of the F01/F02. 

Master security module in the ZGM of the F01 /F02 

D 

ED 



FT-CAN 


O 

CQ 



f) i 



Index 

Explanation 

1 

Master security module in the central gateway module 

2 

Client security module in the individual control units 


F01 Workbook - Module 4 

127 


































































































































128 

F01 Workbook - Module 4 


Vehicle Security Operating Principle 

The master security module periodically transmits queries to the 
individual client security modules. 

Any faults and discrepancies are documented and notified to the 
BMW AG headquarters during transmission of the FASTA data via 
Jetstream during a service visit. 

It is not possible for Service Department employees to use BMW 
diagnosis systems for accessing the information regarding manipu¬ 
lation stored in the control unit. 

Possible faults and discrepancies in the vehicle security system are: 

• A control unit was replaced without authority 

• A control unit was manipulated through a change of software 
or data status 

• Communication to the MSM was interrupted or manipulated 
for a control unit with a CSM. 

Preservation of Function in the Vehicle Security System 

Any manipulation found in the vehicle security system must not 
have a negative impact of functions relevant for security within the 
vehicle electrical and bus systems. 



Data transmission via JETstream 














Integrated Service Technical Application - Programming 


Reasons for introduction of the new 
programming system 

Due to the constantly growing complexity and ongoing develop¬ 
ment of functions over the life of vehicles, adaptation of the soft¬ 
ware on the control units is unavoidable. 

The launch of the F01 brings with it a new generation of vehicles 
which have not only new functions but also a new control unit 
architecture and a new electrical system configuration. 

In order to ensure that those technologies can be supported by 
the dealer organization today and in the future, a new workshop 
system is being introduced alongside them. 

The new workshop system incorporates an extensive workshop 
network with a central server for data storage and provision of the 
applications. It also introduces new hardware components for 
diagnosis and programming. 

The existing programming system, Progman, is being replaced by 
the Integrated Service Technical Application for Programming, 
ISTA/R 

ISTA/P contains the present vehicle field programming functions 
plus new functions and is thus designed for the future content and 
requirements of vehicle programming in the field. 

The introduction of ISTA/P will result in the following new features 
as compared with Progman: 


New features when compared with Progman 

• Reduction and combination of input demands. 

• Configurable measures plan viewable as a graphical chart 
ora table. 

• Detailed display of control unit status. 

• Automatic repetition of programming in the event of control 
unit programming or coding errors within the programming 
process. 

• Importing of enabling codes/vehicle order from any location in 
the workshop provided there is access to the workshop sys- 
tem/ISTA/R 

• Measures plan can be subsequently extended and adapted. 

• Programming takes place first followed by automatic coding 
of all control units. 

• Proactive saving of customization and CBS data and re¬ 
importing into control units from F01 on. 

• Saving of personal profile settings such as phone book or 
navigation destinations, depending on control units fitted. 

• Generation of a control unit order list if hardware needs to be 
replaced. 

• Session can be saved if parts are not immediately available. 

• Display of the Progman or ISTA/P version that was last used 
to program the vehicle. 

• Timely/faster updates. 


F01 Workbook - Module 4 

129 





130 

F01 Workbook - Module 4 


Release Phases 


ISTA/P is capable of programming and coding all models. 


The new programming system ISTA/P is to be introduced in sever¬ 
al phases. 


Phase 1 

Phase 1 requires the transformation of the Software Service 
Station, SSS, into the Integrated Software Service Station, ISSS. 
This “Phase 1 ”, allows the ISSS to be integrated in the ISIS 
network. 


The actual data/software (ISTA/P application) needed to program 
the vehicles is installed in the will be on the ISSS. Updates will be 
applied to the ISIS via Jetstream or from DVD and then passed on 
to the ISSS during the maintenance cycles (off-business hours). 



Initially, the interface and control for programming can only take 
place by using keyboard and mouse on the ISSS. Soon after, 
programming control can take place via each individual ISID in 
the workshop. 

The ICOM A and the ICOM B will be used as vehicle interface for 
programming. The ICOM B will be used exclusively for program¬ 
ming MOST control units. 

From the introduction of the ethernet connection in the OBD2 
interface, ICOM B will not be used, (example: F01/F02) 


Future Phases 

It is planned to integrate the programming system ISTA/P entirely 
in the ISIS workshop server. A precise timetable for integration of 
ISTA/P in ISIS has not yet been finalized. 



Illustration of Phase 1 


Illustration of development planning 






















































Transforming an SSS into an ISSS 

The technical requirements for conversion demand that the SSS is 
at least the 2nd generation (release 2). The 1st generation SSS can 
not be converted. 


A starter pack containing the following items will be needed: 

• ISSS - basic DVD (1 disc) 

• ISIS - ISTA/P client (1 disc) 

• ISIS ISTA/P data/software (2 disc) 


First, the basic DVD is placed in the DVD drive on the SSS and the 
operating system installed on the SSS. In the process, the previous 
application, Progman, is completely deleted. From this point on, 
future, updates and installation of the ISTA/P application on the 
ISSS will take place exclusively via the ISIS. 


The ISTA/P client and then application software are installed on the 
ISIS. The ISSS is updated/supplied with the application software by 
the ISIS via the network during the maintenance cycle. 



Transformation of SSS into ISSS 


F01 


1 


Programming 


As a fundamental rule, a vehicle may only be programmed in the 
following circumstances: 

• If a diagnosis system test module instructs that programming 
is to be carried out 

• As part of a technical campaign 

• In the course of conversions or retrofits 

• If the BMW Group technical support (e.g. via PuMA) specifical¬ 
ly instructs that a vehicle is to be programmed. 

Similar to An important factor for error-free programming is proper 
preparation of the vehicle and observance of the instructions during 
programming. There are special requirements that may apply to 
individual vehicle models. The actions that are required for all mod¬ 
els are described in the following pages. 


Note: Programming must always be preceded by carrying 
out a diagnosis on the vehicle and making sure that 
there are no faults on the vehicle. Programming must 
not be started before faults in the vehicle electrical 
system are ruled out. Always refer to the latest bul¬ 
letins and information on currently known issues 
involving software releases. 

>ok - Module 4 

31 







132 

F01 Workbook - Module 4 


Preparatory Measures 



Engine 

Turn off engine, ignition key turned to terminal 0 


11 j 

I 


\ VlP 


I. " 

■n 

l 


Manual gearbox/SMG/DKG 

- Transmission in neutral 

- Parking brake applied 


Automatic transmission 

- Transmission in position P 

- System temperature below 80 °C 


Parking brake 

On vehicles with electromechanical parking brake, apply the parking brake by means 
of the parking brake button, otherwise use the handbrake. 


Electric loads 

All electric loads, lights and turn indicator switched off. 

Wiper/washer system switched off. Make sure that the wipers can move freely. 

The wipers may be activated during programming. On no account block the wipers, 


























w 

£j 

n 

o 

1 



F-. 

r~i 


Battery and Battery charger 

The battery should be sufficiently charged at the start of the programming procedure (>13 V). 

Connect a BMW-specified and approved battery charger and set to external power supply mode 
(FSV mode). Do not connect or disconnect the charger during programming. The electrical system 
voltage must not drop below 13 volts during the programming procedure. 


Diagnosis 

Carry out a vehicle test on the ISTA workshop system. 

Using the ISTA diagnosis system, rectify any problems before programming and delete stored fault codes, 



LB 

3 


Interfaces 

Programming is performed exclusively via the ICOM devices. 

Any vehicle equipped with a MOST bus manufactured before the F01/F02, 
ICOM A and an ICOM B. 


require the use of an 


H 


m 


U I 




.. ■.. 


Programming 

CKM data is automatically saved by ISTA/P and written back to the control unit after programming, 
The data status of the ISSS must always be up to date. 


F01 Workbook - Module 4 

133 



































134 

F01 Workbook - Module 4 


Programming of Control Units 

The programming system ISTA/P ensures updating of the data 
statuses on all vehicles by automatically generating a measures 
plan that should be implemented on vehicles that are bound to an 
i-level status. 

In this context, a distinction is made between three different 
options. Each of these options represents a change or adaptation 
to the software and functions. A distinction is made between three 
measures: 

• Programming 

• Coding 

• Customizing. 

Programming 

Programming (also known as flash programming) loads a new pro¬ 
gram or data in the control unit. A distinction can be made between 
control units with: 

• Program status and 

• Program and data status. 

The program status of the control unit corresponds to the operat¬ 
ing system and controls the computer program in the control unit. 
The data status involves the characteristic maps and characteristic 
curves specific to the vehicle, engine and transmission. The ISTA/P 
programming application automatically takes that into account 
when programming the control unit concerned. 

With ISTA/FJ the control unit has been programmed, any necessary 
coding procedures are performed automatically. 


Coding 

Coding involves adapting the control units to the specific vehicle. 
That means that functions and data maps already in the control 
modules are enabled or activated in accordance with the vehicle 
order for the vehicle. 


Customizing 

On older vehicles, the car and key memory (CKM) option located 
under the Vehicle option is used to enter the customer-specific 
settings for the car and key memory functions on certain electrical 
systems. 


Lili^ulvJ iirvici 

Trvhrir.il .' pmnwvnri: 

Suv Vf£ 4 felL' 


[fP ft / 


u.Im'i t 


n ij .1 - :■ i:h h!",' ■ :n irr 





L'j.-j 

V LV." '.»1 

Hi up uin rip 

l,‘ 

riir,ipiiT.Jirr 




Personal Profile 

On vehicles with the Personal Profile function, the customization 
settings are entered directly by the customer. For such vehicles, 
there is no Customize button on the Vehicle menu. 

















Programming Process 

The programming process consists of various procedures, some 
of which require manual intervention although most are automatic. 

The individual procedures are illustrated here and described in 
detail below. 



Programming process sequence 


Index 

Explanation 

1 

Identify vehicle and obtain read-out of control unit data 

2 

Produce and configure measures plan 

3 

Prepare for programming, export CBS/CKM data 

4 

Carry out repairs and replace control units where necessary 

5 

Re-check vehicle identification after repairs. Update measures plan. 

6 

Carry out programming 

7 

Carry out programming follow-up, import CBS/CKM data 

8 

Programming successfully completed. 


F01 Workbook - Module 4 

135 






























136 

F01 Workbook - Module 4 


Starting Programming 

Essentially, ISTA/P is an independent external application that will 
run on the ISSS in Phase 1. 

Although in a latter stage ISTA/P can be started from the ISID, it is 
entirely independent of the ISTA diagnosis application. That means 
that before programming can be started, diagnosis must be ended 
or interrupted. 

Starting and management of a new programming session can only 
be carried out by means of ISTA/R 

When ISTA/P is started, the user has a choice of three different 
actions: 

• Cancel and exit ISTA/P 


Integrated Service Information 
Display 




BMW ScTvrL-u 

Startup P^qc For Launchinq Applications 




Mini Senrit* 



integ ServIceTfcchtiicaa AppHc-aUon 

K F(|frtKfc-| rtuj-ji ijiji. .tfcraiKMli 



'■■Vj.i him| Sv-Lrji-i Mflii-ap^intMi 1 

S IimTiwiriiL Ves is? r; 





Fi v r? , 1 1 1-1 rliTuxiV.h-jK il^nVr rrtJ-'-r 
!iMv 


r«:iip.i5ai ApcaNwilionr Proa^mmlnQ 

VijiJ'f'ri •’! IVwCri dJVri i'J ■c'Jr’r 



Start screen for ISID (not enabled initially) 


• Open an existing programming session 

• Start a new programming session. 



Start screen on the ISSS Integrated Software Service Station 


Opening an Existing Programming Session 

If the user decides to open an existing programming session, all the 
programming sessions currently in progress are listed and the user 
can select the session required. 

On the toolbar there are various buttons for opening more menus. 

On the options bar, you can select the session or the vehicle that 
is to be programmed or the Integrated Software Service Station 
(ISSS) that is to be used for programming. Depending on the 
vehicles models connected, each ISSS can carry out up to five 
programming sessions at the same time. 

On the function bar is the button for selecting the vehicle access 
method. 

The information panel shows the details of the sessions or avail¬ 
able ICOMs. 

The control buttons are used to navigate through the programming 
process, e.g. the "Next" button takes you to the next screen. 





































@ 




List of current sessions 


Index 

Explanation 

1 

Toolbar 

2 

Options bar 

3 

Function bar 

4 

Information pane 

5 

Control buttons 


Starting a New Programming Session 

When a new programming session is to be started, the program¬ 
ming server on which the vehicle is to be programmed must first be 
selected. 

The ISSS used for the session can be selected manually or auto¬ 
matically. Because the ISSS can only program one F01 at a time 
or 5 other vehicles at a time, it is recommended that the automatic 
ISSS selection is carried out. 

. 

Mrm g i h 11■ ■ I II I■ ■ I, l I 9 



O f i# p*| 


K\-m* n 

Selecting ISSS to be used for session 


li id n i LA % r i 1 ' BBjihv m | 

i ft > 

i-i "? 

X 


:£h ■ V i S IV Bill ill 



Selecting ISSS to be used for session 


F01 Workbook - Module 4 

137 





























































138 

F01 Workbook - Module 4 


The connection manager on the ISIS establishes all the ICOMs 
that are available and displays the details. The user can select the 
desired ICOM or vehicle from the list displayed. ISTA/P then estab¬ 
lishes the vehicle data. If that is not possible for any reason, the 
vehicle must be selected manually. 


frllUTKid 

TieFikebJ n icr inviiF 

F] 


£j 171 £| [?1 fx| 


UiNeLi IVim-n.il If.- T>niinl in 



Selecting ICOM 

The user then has the opportunity to give the session any individ¬ 
ual name, but the system automatically enters the model of the 
vehicle along with the chassis number as an identifier (example: 
E60_EE12345). 

Selecting Vehicle Interface 

The same vehicle interfaces are used for programming with the 
new workshop system as for diagnosis. 

From the F01 on, all control units can be programmed using only 
the ICOM A. Even though the F01/F02 is equipped with a MOST 
bus, ICOM B is not necessary due to the ethernet connection via 
the OBD2 connector. 


For CAN-bus vehicles the ICOM A 
is used. MOST control units are pro¬ 
grammed directly using the ICOM B. 

The ICOM B is connected to the 
ICOM A and the workshop network 
by a USB cable. 

For older l-bus/K-bus vehicles with the 
round diagnosis connector, the ICOM C 
(C) is used in conjunction with the 
ICOM A. 

Vehicle interfaces 


























Vehicle Access for MOST Bus 

When programming vehicles with MOST bus from E65 to E9X, 
vehicle access is established as shown in the photograph below. 


Vehicle Access from the F01/F02 on 

All control units will be programmed exclusively using the ICOM A. 



Vehicle access for programming MOST-bus vehicles 


Vehicle Access for l-bus/K-bus Vehicles 

On older vehicles without OBD II connection, programming is car¬ 
ried out via the round diagnosis connector in the engine compart¬ 
ment. That reguires connecting the ICOM C to the ICOM A and 
to the workshop network. 



Vehicle access from F01/F02 on (only ICOM A needed) 



Vehicle access for l-bus/K-bus vehicles 


F01 Workbook - Module 4 


139 



































140 

F01 Workbook - Module 4 


Identifying the vehicle and obtaining a read-out 
of control unit data 

ISTA/P checks the vehicle electrical system, the central gateway 
and the vehicle-order control units (FRM/CAS/light module). The 
vehicle order is read and a consistency check carried out between 
the actual status and the required status. 

If the central gateway does not respond, a software routine for 
restoring it to working order is attempted before the service techni¬ 
cian is instructed to replace the ZGW. 

First of all, the basic details of the vehicle are established such as 
VIN number, model, type code, etc. 

Then, all control units fitted and the current l-level of the vehicle 
is determined. In addition, the programming system establishes, 
if possible, the software version last used to carry out servicing 
operations on the vehicle. 

That makes it possible to avoid unnecessary programming if the 
vehicle already has the latest software version. 

Afterwards, the details of the ex-works equipment options for the 
vehicle stored on the BMW programming system are retrieved. 

Next, the control units identified and the equipment options fitted 
are compared (comparison of required vs. actual status). 

For example, it is established whether the list of control units 
obtained actually matches those fitted on the vehicle and whether 
the llevel matches the current required status. 

That ensures that all control units on the vehicle communicate 
properly with one another within the network. An l-level is a combi¬ 
nation of networked control units validated and approved by BMW 
Development. 


Establishing vehicle details 


©- 1 



© 



imgrpwi mrwir 
T*i hnrj^ 




•••- 1 . i. 


FBF 






Vri 

H 


nil 


Vrr*i 3 a 
4 * 1 P ‘f 

van 
mn 
f r«k -mi rn Mt 


& 


iflurilarfl |rui 

U|jfriju-hf p Lida 

Mffli S-1-M I*ii. *li-r 


ru 

tpf iMm rM/ll 'll 

nvh 

IWW 

t nsEnn un sin- 


.1 h i- 


1 M 


Ihnanri! 


NAj'vf 

^MBr Mil jllnn 

A 

?m 

*■ p ■“ rl n >rrwiH>p 

0 

in 

A. nW .Ir-lHiMta 

DM 

HuWwirtm hj' »'nr"Hi “'■+ ¥ ! 


m 

i >v*ri Pltaf whvrii pw w— m-r 


?W1 

1 FI I 1 ™* 1 _HI y.ir.P r 


□ Tl 

tahiBibJIrA imrir -Lirtiiil 


171 

f II.MU f |..di i m t.i.ii r i riiLii 


in 

AHW 



I Ifr At F 1 ! ApAilfil fllfftNP 

fl-b’ r r*111-. i il p i I IHr*i 


'r-lJ'M 


::u-H 


: i riuto iFAturaA 


MU* 


I huilsr 1 ■ 


Index 

Explanation 

1 

Vehicle data 

2 

l-level with which the vehicle left the factory 

3 

Current l-level of the vehicle 

4 

System and version last used to program the vehicle 

5 

List of all optional equipment fitted on the vehicle 








































Producing and Configuring the Measures Plan 


Before programming can be carried out, the measures plan is pro¬ 
duced and can also be configured by the user. For example, it is 
now possible to program refits or conversions at the same time as 
the software update. The configuration for that is done now so that 
no further manual input is required later on during the programming 
sequence and it can then run automatically. 


After the identification process, the user is asked if any control units 
have been replaced on the vehicle. If the answer is YES, ISTA/P 
checks whether an enabling code is required for the replaced con¬ 
trol unit and, if so, requests it from the user if it has not already 
been entered on the system. 


hJa|i ii l Jii&i 

liThanri .^1 r ■'■ ■■ i i n iijt i ■ r 

■■ ■ i ": i: : 


lYha i K-T.' 


t i*j ■£ ihi y 7} in 


■ ■■■vi ■ ! "i II HIV I i!ii ill IX KFV 


.|F C |.l^ll 




vu>.k £. ij * 

Tvn ■ :T5S 

Prit: ivj*: 

I I'll ■ ll !P. I I 11 L 1 

L ■ i; T+¥*K ■irl 

I | I HI I IlllJI 

r 


H *1 i ill narin I ■ i mi r 


■Y-hri IbXM’S IjJ i II J JlhJ;' 


U. ■ I n 

Ml 

an 

X-13 
KH 
¥*M 

XII 




* i>c:c 




t 

i 

I ■ ■ i ill uJi ni ii lyflii l Lb I hi In i ■ |i Ll i J til bill iikLbi - i £ ijih l° 1'I|Lh.lbi i 
* iri n 141 ' 

L 

I Yius Hi 

>i 

Ea:+rlxcini t aati'cJ-pjr 

!'•■ rii i. I. 


JJ X I I I 1 i ■ ■■ •rim i I ■■ j I I 





:■ i;iii Lrij ■> 




Control unit replacement check 


Associated customization data such as settings for the air condi¬ 
tioning are backed up and the action "Follow up control unit 
replacement" added to the list of actions. 


In general it is advisable to manually back up the customer's indi¬ 
vidual settings. If the control unit is defective, they can not be read 
and, therefore, can not be written back to the control unit after pro¬ 
gramming either. 


F01 


1 


The necessary actions, such as "Update control unit software", are 
established and added to the list of actions. 

Then for the first time ISTA/P produces an measures plan based on 
the tasks in the list of actions at that point. 

The user has the option of editing the measures plan. The user can 
add further actions to the measures plan but not remove them. The 
following actions can be added to the measures plan: 

• Carry out conversion 

• Prepare control unit replacement 

• Program control unit 

• Code control unit 

• Set CKM data 


• Enter enabling code 

• Import vehicle order. 


b. i*i > m y ii x] 


xi--bii ■! : viiii i-r . 1 iunn ! i 1 s :av imii! n bmii'.- 



j JWmIk 



Note: Required service functions such as initializations 
and clearing of fault codes are only indicated; they 
must be carried out on the ISTA diagnosis system. 


)ok - Module 4 




































142 

F01 Workbook - Module 4 


Inl vqiulH'i k'.i V.:H 

TDEtirlE ai appiiEafeton{prnpr aum rg 
S«vl -.ii VFE4B3D Vihiu-k- EBE 


<n m m w « l? 


JiHKIlim 

| -iii;i -inrr. rij 

'■'rf-JMlH 

Djr.j 


Vifitk Jl'I-jiI'. 



jfif 



C-ffr-J.SK 






GW 


no 


rr^-AHT 


nnc^-A 


■ZtX-Apj, 


TCin.lI : I JWI' 

PC 


■BGC 


EOnRS 


UL! 'JKf 


1 11 ■ -: m. ■ tnnhul 
ni.>J jk'i 


EilmHlinl nm dji J.nu. I'M t3 53 


/il^jIi lilt 


■ms 


wHU 

HUC 





i~A 






F7R 

KfAJFI 



HDD 

CUH 





!WT A 

!iUPI 





F=W 

OS 

MIKA 



UPHdDDE 
P C 


M 


P C 



Fr? 


L GllKNHi 





DUC 

H I. 


Xj 


7w ■ i 13 l5 WV " L'lrmiiij! 3D: t ; : B+V 






Rvhuyu 

pic-KurE-s- 

ShIueL tum|jk!;H 
0H( DdinQ 

DiAhi ni'w 

tf'E-RSU^-; plan 



Display of action plan as graphical chart 

The measures plan can now be confirmed, rejected or cancelled. 


The measures plan indicates which control units do not require any 
action - they are marked green. 


The other control units, on which action is required, are marked 
yellow or red. The actions that are required are indicated by the let¬ 
ters) shown on the control unit. The letters stand for the following: 


P = Program 


C = Code 


InLvqiuluO! htykh 

tce+iMe a I applkotion if prDnramv*rg 
>.m VFE^BBG 


El lily ^ 


^■HKiiiin 


Vlfitk Jl'I-jiI'. 


I riii;i '■nn. r, j 


:r 1 1 r. 1 - dj^ 

Lruu 


Vkhh • EBE 




Prccc 1 ^; fnntral 





[XJ 


1C IS. WV ~ l-i iiri.il 3D. tiBiV 


Ojr.j 

jTWMiBpnr'prJ 1 


/■L'.'J'! lilt 




I ! illll.lK 

hi.rl nkTin 


11 l nqjnrYi l nrj]| 

hnrrri j-.q 


JDL 

■JunEnsp clmranpL-s 

□ 

□ 

□ 


HRS 

taulli|ik- ivalruiiiL iYiUii 

□ 

□ 

:□ 

Ifj 

iMf-n'HQF 

1 1 1 ■ 11 ::i 1 Hrrlnr 1 Irnin ‘vl'i*|i-..l IIiiikhI 1 li-rt 

m 

El 

□ 

111 

AJ 

A:Iiyh k! ii hi r-q 

E 

[SI 

□ 

■1-K.P 

1!i 1 .]i. 1:i:i 1 11 hunl |■ 11 iv-“■ 

□ 

□ 

□ 


EQHfSH Ij 

FiramnltslDn cnnltralfacquEivtlal nrcflual irifi .. 

□ 

□ 

□ 

FEC 

T rr> pyiDMurn CHPUm! 

□ 

□ 

a 


CA. 

Cuill'u'l A.'. LV.TJ 

□ 

□ 

□ 

111 

DSC: 

I'JvimniE "rll it -»ilv Cimlml 

m 

El 

□ 

(9 

ItlAiLf 

1 nl^j-il-nr^- / Llmvnrr.il hr.]^rr.r.ri h.irvdMr 

El 

m 

□ 

fiMW 

AnplHatr 

□ 

□ 

□ 


CCt AUK 

CCC audio rDnh’^icr 

a 

□ 

□ 

CAS 

CiJi Aelvjm Sy^Iliii 

□ 

□ 

□ 


f j .n:.!i:'l run Pi! Vr. E3 


Display r Deplete 

FiMuvu 

rncxiurE-^ 

ShIueL L.niik'.r 
OP^DdiRQ 

Dufui-ni-ai 

rriDn^xc-: plan 


Measures plan shown as a table 


The measures plan can be viewed as a graphical chart by pressing 
the button "Control unit tree" or as a table by pressing the button 
"Edit control units". 


I = Initialize 

R = Replace 

M = Mount (i.e. fit/install) 

U = Unmount (i.e. remove). 






























































InLvqiulH'J mrvniH 

Tci^irk Di applicofrofl i nrc-nranm ng 

S«VL -.11 VFE4B3E V^Ni-k EBE 


[*L |Aj H M * [? 


X 


Tvrim-iJ 1j IS HIV r L -, m iiiul 3 D. 13.51V 


MHXRIlin 

1‘riiijranmrg 

___ d 

'■'i4-ji:In 

Vtfrtk' Jl-I-iiL 

■: ■: r 1 ■ ill nv-'dj — 

Lruu 

k'n:r:HKi •:nnl-:r:l 

nuduk.'! 


Djr.j 

iTL%-inr|nn'iT> 




Ljv: ;jr l^-.v-s CiJSS BO SB SIS 


inrT-rjr |r^nl (i.nrgnii DTS* 00 AS 3JQ- 


SUUi 

/■I ill'll 

E?ll.'l'. 'lilTIU 

'.'.hijni'.l 

Is! 

Shvh mill iilii.il i: 

uMH.'ltflf 

xft.'ihuc-: 

n 

PrugraitTrlng 

CJMI./UDL 


M 

k'rnrjriinrTmij 

H 

ifamuim 

m 

Pragrar«mnti 

DEC 

OAEBU3 

@ 

Wi Kh imliHidmii 

DklE/CDF 

CtADBUS 

m 

Ln^'uUiiiH 

NELrtltl- 

ix/hiiPJS 

lil 

dFni:uding 

fifrtr 

EfcASBUS 

11 

1 nrnrimp 

ijmi /mi 

IWh:.;iP.IN 

R 

Encoding 

jU_ 

DA3DU3 

ig 

Mrpgranmng 

TCLAAr 

WJS1 


EjlinuluJ run duiirtiui. DD.I 3 . S 3 

Action list 


DlsfAy/ cnnpf*rt': 


O^HITli'H 

roraso^-s plan 


The Action list contains all information relating to the control unit 
concerned and which via channel (D-CAN/MOST) it is pro¬ 
grammed. 


inlwq:HlHu: lurvrjH 

TcEnrkal apphc-anot f praatuniw-rq 

3u-jhhm1. VF2IB3B VihJcH 


xr 


A '/• 



c nr: 


9 

T'-tiim 




ixi 


It!. 15 REV “uimkiul 3 D. tS B 2 V 


Hirin': S-iiYlnm rinriimj nr.: iiiti-r plnn (’wrnl.fr 


jnr 


i.-W 




flfi 


| Niih- riiiwn h-in rrmniriE-i^ mlnnqnr: .■ hJWTj^t rlnhc-x HvrIIMI /mil. 

~ Nulv duiYii LTrw 1 i kniukiriq n: I ■; u; | 'j .' Ld’^jirf ddL'.-j {.<• DSC 1 
Aitunfinrf 

I Dm iiih |ji uni ynrriii!; y : If v |JS(:. lim wi|iiii iruii In: ^iKiulKii juImii-u.iliiIIj ’ll-', wj.-r" ^nuiL 

he b: mnvc- lr<r thi-:- purpDW 


CUC 


Tiitruir 


■BGC 


Ounliim pfDMplL Mild LliLt. Or.'. AlLiflidlk-dy.. u-iL 'Cilr-jL l plUfi' lu Ounuul L-ittUlitiii <S llv 
Ujp rr -■ i 11 r. r - ■: j, Vi 

C dML’.l pTJHl 



111 f ulmn Hxlnnitfd i-iihe jih i pl»r 


Tirau ruiv 111111111 ill! 1 . 3 . T 2 


Guidance notes 

Furthermore, additional guidance notes can be shown, e.g. on not¬ 
ing the remaining life of DME or conversion instructions for replac¬ 
ing control units. 

Note: The guidance notes must be acknowledged by tick¬ 
ing the checkboxes and confirmed by clicking OK. 


F01 Workbook - Module 4 

143 







































144 

F01 Workbook - Module 4 


Preparing for Programming 

After confirming the measures plan, the flash programmability of 
the control units is first checked and a notification message dis¬ 
played if there is a problem. Then the customization data and the 
CBS data is read and backed up for rewriting later on. 

If a control unit requires replacing, ISTA/P displays a message to 
the user indicating that the control unit should now be replaced. 

After replacement is confirmed, the action "Follow up control unit 
replacement" is flagged for attention later on in the process. 

ISTA/P then shows all required notifications, which must be 
acknowledged by the user before the actual programming starts. 

That simultaneously starts the automatic programming process 
which requires no further interaction on the part of the user. 

Note: As always, please keep in mind that the CAS is 
programmed first with the key removed. After 
successfully programmed, the ignition has to 
be switched on again. 

Carrying out Repair Tasks 

If it was established in the process of identifying the vehicle that 
repair tasks are required, e.g. due to updating hardware or replacing 
a control unit, they are now carried out before the actual program¬ 
ming/coding process. 

If the spare part is not available or the wrong part has been ordered, 
the session can be saved and ended at this point. As soon as the 
right part is available, the session can be retrieved and continued. 

ISTA/P establishes from the measures plan which repair tasks are 
required and displays them. After successful completion of a repair 
task, the vehicle must be re-identified and any necessary software 
updates added to the measures plan. 


In that way the possibility of inconsistencies on the vehicle after a 
repair is avoided. If a repair task fails, the programming process is 
cancelled. 

Updating the Measures Plan 

After a repair task has been carried out, ISTA/P performs the vehi¬ 
cle identification process again. If it identifies irregularities, e.g. that 
a control unit with an older l-level status has been fitted, appropri¬ 
ate actions are automatically set on the system or indicated to the 
user. 

If there are irregularities, ISTA/P establishes which software 
updates are required based on compatibility management and 
adds them to the action plan. The measures plan is then updated 
and programming automatically started. 

To prevent vehicles with inconsistencies being created, the user 
has no means of stopping the programming sequence. 



Carrying Out Programming 


This stage of the process involves the programming and subse¬ 
quent coding of the control units. 

In the process of programming or coding a particular control unit, 
the system checks in each case whether the operation has suc¬ 
ceeded before continuing with the programming of further control 
units. A particular version of ISTA/P distributes only one l-level. 
Programming of the vehicle as a whole (meaning all control units 
on the vehicle) is always performed to the latest l-level (target I- 
level). 

The next step is to write the enabling codes to the relevant control 
units if required and modifying the vehicle order if conversions have 
been carried out. The programming of control units can also be 
performed simultaneously if they are on different bus systems, e.g. 
MOST and CAN. 

The progress of the programming process is indicated 
by a progress bar. 


Ivm f.-j hp:^Ehlfj> ■ .■■LyirTTFi; 

-■P 1 

L- 1 

Lid 1 

[7] si i 

|B |T| x 


VrJHHJL WtiF. 1 * b it: 



LP-F"I*I 

ij. Vi-tlK iLiniii'WI 1 L.P.i- 

nMf jru pm 


i e: 



I fa i ■ it.i ■■iikiai 
Ini 


Carrying out programming 


l-miri-id sirvavi 

Th 1 ill >ri .1 11a i .•inai 1 

■ ■■■ i ii ■■ 

iaipj 

H fa 

3 



U 

^1 

Ur iilti VI "-IIUL- 


vmii v t.m 



Inti ihI In 

I5.IMV 

1 ir.Tir.il JU 

HHHV 





AlUjii Irji 


■Alt 




lcc-a: k 




ID 

VH -lihj 


CCCwihT 




«^*ll 


._L 


vr: 






nzc 


s. 

■/ 


h.OJD 









ii+Hiurc. 


HCLiUlF 



fHCM 



:>n: 







>:■ -. 



L%HK 

hi 



IHI 











cys- 




nr.c v 




i<r.» 





k'i" I - .1 vM£irty. aim 


III! 


iTi i ii .y iiinp< IIL.UL I >1 


View after completion of programming 

If programming/coding/initialization has been completed success¬ 
fully, there is a green tick by every control unit on which an action 
has been performed. 

If an action has failed or not been completed, the 
control unit concerned is marked with a red X. 

By clicking the control unit concerned, you can 
obtain information as to why programming failed. 


HM E/D DF 

UK 




M 

UK 




F01 Workbook - Module 4 

145 






























146 

F01 Workbook - Module 4 


Completing Programming Session 


The last stage of the programming process is importing the cus¬ 
tomization, CBS and CKM data. The data is written back to the 
control units and checked. Afterwards, the automated initialization 
sequences are performed where required (electric win¬ 
dows/slide/tilt sunroof). 

The automatic programming process is them complete. The initial¬ 
ization sequences that require user interaction are then carried out. 


Inl«rq:uluu iutv-kh 

Tct-hnca! application f prnaravirvOT'Q 

Vr^iD3 r j Vtlik-i 


E BE 


l*n A 1/j I & 

T-.tiiii J It;. 1 i BSV 


!T '-'i xj 

vlmkial an. 93V 


? --_l.il! 'IIUJ'. J l '.'n (--J> 


jnr 


L-YY 


■L-fli'-ARK 


an 


cue 


iL i n.i. i 


■BGC 


ut r 


Nnlnt arttnr rinirp^hr.n rirunrnr. pln-i im® rnh rr 


.-."I i’ r i nrrpJi"h ■' '•■" |irngrknm rvg / nnuiriing. n<r.M Kin .-idnplnhiin ■•■.ilimr. nl t~i r - IIUI /! > 1 1 1 
j— . vi -j IIik VHhiulv Iks', i:i itiv IKTA vmluiliup jyii.r-n C-m|iniH iHii rTin;: riKluu^wn ■' I ■ ■ ■ |■ 

' dote-5 <r DMEQ3DC *Th fre- ncacd dawn dots M rcqukcd. rc-sor and" correct chr rrn-MPipp 

iii iHHiir 1 1 ■' I.■ r11 hI iIhIhc 

A'Mnr rniYpJnhvv^ nf prngr-inm ng / nnrjiriiriq. rnn-miiuiin J niij■ ■ <Tfr Khn hI vin Hvfi v#-Kieln hurt 
— in LEih I5TA wuikihup iY^'.hi; 

■I 'jiiil 1 ji'.- ivi-jiiii niltiuHiJLi fluff dC duL'j-j ill D3C n *.Ii U ■. nuLud duvn duUi IT ".'^ji'. d. 

rnp.*i1 .ire mrrrrir-hi' rniMinn^ m f hrgnl ri^ni Ahinr r rmplnhnn nh prrajr.vnmrir] i' 

iinuiiiliiiH. rfd|Uil l'ii' DEC IiAiii uI-ml’uhIhi hIiiiii Mmmr vi i liw wtiulH I.mxI iii L!ih I5TA 
_oAhf tytfDia-. 

I — j AIL'ji 'juirp-l'ji.’.vi uf pi Li || ■ uniii i j j S liil L'driii.. ■j'.-'i'j-jL U".- ^■.L-L-iiii:^ uimJ'j l-l-iij'.'- j-iJ DSC 
?.nnw vin hhn yrhir.lr- tvirt ir shn |!j I A wnrkrJvyj r.yrfnn 

j— AIIht i:iiit p £hI mn f t jinir|i Hum ivj ) mii:ndmg. i:miy I'lil ■ Ih:-:I iImvn :■ I i .. V:hi IhHii 

" QG ■jil'Ii Tli'.'i i : ■ i 11 ■: I.. -liiviLfli uIT U»>. mjiiiImmi fur ul I'j-jl'. IQ -jullimiJ:/ 


I' 111 ■ 1 11 ii pmmftfi -mil eIiu! 'OH 1 


111 h ■ jlrii| kiIiifi:—: d nHHUiHi pirn - 


Tinu ruiinimiiii IIIMii.il 


Notes on follow-up 


Finally, the actual status is checked once again and the final report 
produced. ISTA/P provides the user with the final report. 

The user can print out the final report or else it is stored for a cer¬ 
tain period on the ISIS. 

The entire programming log is sent to BMW AG as part of the 
FASTA data. This allows BMW to retrace how the vehicle program¬ 
ming was carried out from the user actions, either for accounting 
purposes or if there is a subsequent fault. 

Furthermore, that data is automatically analysed so that software 
errors can be detected at an early stage and suitable measures ini¬ 
tiated. As a result, BMW is able to continuously monitor and 
improve software quality. 


After completion of the initialization sequences, ISTA/P establishes 
from the measures plan what service functions are required, e.g. 
setting steering angle. They are shown to the user. They have to be 
carried out as part of the diagnosis after programming. That is car¬ 
ried out by way of the vehicle test on the ISTA workshop system 
and afterwards all fault memories must be cleared. 
































Final Report 



FinaJ report 


hHVnHFl. 
i -aaJ A.-'vfcn 



[ J ‘ _.f jWU 

du n 

^■■1 • tm iav 




HKi j m- - « - 


- ii ■ 


** mf >+-a svfc* 




Index 

Explanation 

1 

Final report 

2 

Current programming data: data, time, ISTA/P version 

3 

Vehicle data: mileage and VIN number 

4 

l-levels: factory, last, current 

5 

SA numbers 

6 

Programming actions indicating success or failure over MOST 

7 

Programming actions indicating success or failure over l/K bus 

8 

Coding actions indicating success or failure 

9 

Data saving actions indicating success or failure 

10 

Additional actions, e.g. whether updating of l-levels was successful or failed. 

11 

End notes 




F01 Workbook - Module 4 

147 














































