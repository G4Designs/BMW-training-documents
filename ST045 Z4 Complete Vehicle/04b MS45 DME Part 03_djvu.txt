Table of Contents 


MS45 - E85 with M54 Engine 

Subject Page 


Emissions Management .60 

Evaporative Emissions .60 

Exhaust Emissions.64 

Principle of Operation.70 

Workshop Hints.81 

Tools and Equipment.83 









Emissions Management - M54B2.5 Low Emission Vehicle (LEV) 

- M54B3.0 Ultra Low Emission Vehicle (ULEV) 

Evaporative Emissions: The control of the evaporative fuel vapors (Hydrocarbons) from 
the fuel tank is important for the overall reduction in vehicle emissions. The evaporative sys¬ 
tem has been combined with the ventilation of the fuel tank, which allows the tank to breath 
(equalization). The overall operation provides: 

• An inlet vent, to an otherwise “sealed” fuel tank, for the the entry of air to replace the fuel 
consumed during engine operation. 

• An outlet vent with a storage canister to “ trap and hold” fuel vapors that are produced 
by the expansion/evaporation of the fuel in the tank, when the vehicle is stationary. 

The canister is then "purged" using the engine vacuum to draw the fuel vapors into the 
combustion chamber. This "cleans" the canister allowing for additional storage. Like any 
other form of combustible fuel, the introduction of these vapors on a running engine must 
be controlled. 

The ECM controls the Evaporative Emission Valve which regulates purging of evaporative 
vapors. The evaporative system must be monitored for correct purge operation and Leak 
Detection. 


1. Fuel supply line 


2. Evaporative purge line 


3. Evaporative vent line (to carbon canister) 

4. Atmospheric vent line with filter 


5. Carbon canister with DM TL pump 



60 

MS45 Emissions Management 





1. Overpressure protection valve 

2. Filling vent valve (rollover valve) 

3. Operating vent valve 

4. Ventilation line 

5. Mushroom valve (“T” fitting) 

6. Carbon canister 

7. DM TL (leakage diagnosis pump) 

8. Filter 


9. Atmospheric vent line 

10. DM TL (electrical control circuit) 

11. ECM (DME) 

12. Evaporative emission (purge) control valve 

13. Evaporative emission (purge) line 

14. Intake manifold 

15. Engine air filter 

16. M54 engine 


On-Board Refueling Vapor Recovery (ORVR - DM TL Equipped Vehicles): The ORVR 
system recovers and stores hydrocarbon fuel vapor that was previously released during 
refueling. Non ORVR vehicles vent fuel vapors from the tank venting line back to the filler 
neck and in many states reclaimed by a vacuum receiver on the filling station’s fuel pump 
nozzle. 


When refueling an ORVR equipped vehicle, the pressure of the fuel entering the tank forces 
the hydrocarbon vapors through the Filling Vent Valve (2) and the large tank ventilation line 
(4) into the Carbon Canister (6). The HC is stored in the Carbon Canister and the system 
can then “breath” through the DM TL (!) and the filter (8). 

Note: A small diameter connection to the filler neck is provided by the Mushroom Valve “T 
fitting” (5). This is necessary for checking the filler cap/neck during Evaporative Leak 
Testing. 


61 

MS45 Emissions Management 




































































The ventilation continues until the rising fuel level lifts the float in the Filling Vent Valve (2) and 
closes the outlet. When the ventilation outlet is closed, a pressure cushion (vapor area) is 
created in the fuel tank. This creates a backup of fuel into the filler neck and the tank is full. 

This leaves a vapor area of approximately 6 liters above the fuel level. This area provides 
integral liquid/vapor separation. The vapor condensates separate and drain back into the 
fuel. The remaining vapors exit the fuel tank (when sufficient pressure is present) through 
the Operating Vent Valve (3) to the Carbon Canister. 

Note: The Operating Vent Valve is also equipped with a protection float in the event of an 
“overfill” situation. 


Carbon Canister: As the hydrocarbon vapors enter the canister, they will be absorbed by 
the active carbon. The remaining air will be vented to the atmosphere through the end of 
the canister, DM TL and filter, allowing the fuel tank to “breath”. 

When the engine is running, the canister is 
"purged" using intake manifold vacuum to draw 
air through the canister which extracts the HC 
vapors into the combustion chamber. 

The Carbon Canister with DM TL and air filter 
are located at the right rear underside of the 
vehicle, below the luggage compartment floor. 



Evaporative Emission Valve: This ECM controlled solenoid valve regulates the purge flow 
from the Carbon Canister into the intake manifold. The ECM Relay provides operating volt¬ 
age, and the ECM controls the valve by regulating the ground circuit. The valve is powered 
open and closed by an internal spring. 


If the Evaporative Emission Valve circuit is defec¬ 
tive, a fault code will be set and the “Malfunction 
Indicator Light” will illuminate when the OBD II 
criteria is achieved. 

If the valve is “mechanically” defective, a drive- 
ability complaint could be encountered and a 
mixture related fault code will be set. 


OPERATING POWER 
FROM ECM MAIN RELAY 


VAPORS FROM 

CHARCOAL 

CANISTER 



VAPORS TO VACUUM PORT 
ON THROTTLE HOUSING 


135500038 


62 

MS45 Emissions Management 








































































Evaporative Leakage Detection (DM TL): This com- 1 
ponent ensures accurate fuel system leak detection for 
leaks as small as 0.5 mm by slightly pressurizing the 
fuel tank and evaporative components. The DM TL 
pump contains an integral DC motor which is activated 
directly by the ECM. The ECM monitors the pump 
motor operating current as the measurement for 
detecting leaks. 

The pump also contains an ECM controlled change 
over valve that is energized closed during a Leak 
Diagnosis test. The change over valve is open during all 
other periods of operation allowing the fuel system to 
“breath” through the inlet filter. The DM TL is located 
under the luggage compartment floor with the Carbon ^ 
Canister. 

1. In its inactive state, filtered fresh air enters the evap¬ 
orative system through the sprung open valve of the 
DM TL. 

2. When the DME activates the DM TL for leak testing, 
it first activates only the pump motor. This pumps air 
through a restricter orifice (0.5 mm) which causes 
the electric motor to draw a specific amperage 
value. This value is equivalent to the size of the 
restricter. 

3. The solenoid valve is then energized which seals the 
evaporative system and directs the pump output to 3 
pressurize the evaporative system. 

• A large leak is detected in the evaporative system if the amperage 
value is not achieved. 

• A small leak is detected if the same reference amperage is achieved. 

• The system is sealed if the amperage value is higher than the refer¬ 
ence amperage. 


Since MY 2002, a heating element is integrated in the 
DM TL pumpto eliminate condensation. The heater is 
provided battery voltage with “KL15” and the ECM pro¬ 
vides the ground path. 



13410089 



13410088 


AIR INLET 



13410087 


63 

MS45 Emissions Management 






























































































































































































































Exhaust Emissions: The combustion process of a gasoline powered engine produces 
Carbon Monoxide (CO), Hydrocarbons (HC) and Oxides of Nitrogen (NOx). 


• Carbon Monoxide is a product of incomplete combustion under conditions of air deficiency. CO emissions are 
dependent on the air/fuel ratio. 


• Hydrocarbon are also a product of incomplete combustion which results in unburned fuel. HC emissions are 
dependent on air/fuel ratio and the ignition of the mixture. 


• Oxides of Nitrogen are a product of peak combustion temperature (and temperature duration). NOx emissions are 
dependent on internal cylinder temperature affected by the air/fuel ratio and ignition of the mixture. 


Control of exhaust emissions is accomplished by the engine and engine management 
design as well as after-treatment. 

• The ECM manages exhaust emissions by controlling the air/fuel ratio and ignition. 

• The ECM controlled Secondary Air Injection further dilutes exhaust emissions leaving the engine and reduce the 
catalyst warm up time. 

• The Catalytic Converter further reduces exhaust emissions leaving the engine. 


64 

MS45 Emissions Management 












































































Bosch LSH 25 Oxygen Sensors: The pre-cat 
oxygen sensors measure the residual oxygen 
content of the exhaust gas. The sensors pro¬ 
duces a low voltage (0-1000 mV) proportional to 
the oxygen content that allows the ECM to mon¬ 
itor the air/fuel ratio. 

The sensors are mounted in the hot exhaust str¬ 
eam directly in front of the catalytic converters. 


PRE-CATALYST SENSORS 




The “tip” of the sensor contains a microporous platinum coating (electrodes) which conduct 
current. The platinum electrodes are separated by solid electrolyte which conducts oxygen 
ions. The platinum conductors are covered with a highly porous ceramic coating and the 
entire tip is encased in a ventilated metal “cage”. 

This assembly is submersed in the exhaust stream. The sensor body (external) has a small 
vent opening in the housing that allows ambient air to enter the inside of the tip. 

The ambient air contains a constant level of oxygen content (21 %) and the exhaust stream 
has a much lower oxygen content. The oxygen ions (which contain small electrical charges) 
are “purged” through the solid electrolyte by the hot exhaust gas flow. The electrical 
charges (low voltage) are conducted by the platinum electrodes to the sensor signal wire 
that is monitored by the ECM. 


Notes: 


65 

MS45 Emissions Management 













































12410006 

If the exhaust has a lower oxygen content (rich mixture), there will be a large ion “migration” 
through the sensor generating a higher voltage (950 mV). 

If the exhaust has a higher oxygen content (lean mixture), there will be a small ion “migra¬ 
tion” through the sensor generating a lower voltage (080 mV). 


This voltage signal is constantly changing due to 
combustion variations and normal exhaust pul¬ 
sations. 

The ECM monitors the length of time the sen¬ 
sors are operating in the lean, rich (including the 
time of rise and fall) and rest conditions. The 
evaluation period of the sensors is over a pre¬ 
defined number of oscillation cycles. 


Rest Time 



This conductivity is efficient when the oxygen 
sensor is hot (250° - 300° C). For this reason, 
the sensor contains a heating element. This 
“heated” sensor reduces warm up time, and 
retains the heat during low engine speed when 
the exhaust temperature is cooler. 



66 

MS45 Emissions Management 




































































































































Direct Oxygen Sensor Heating: The oxygen sensor conductivity is efficient when it is hot 
(600° - 700° C). For this reason, the sensors contain heating elements. These “heated” sen¬ 
sors reduce warm up time, and retain the heat during low engine speed when the exhaust 
temperature is cooler. OBD II requires monitoring of the oxygen sensor heating function and 
heating elements for operation. 

The four oxygen sensor heating circuits receive operating voltage from the ECM Relay 
when KL15 is switched “ON”. Each of the sensors heaters are controlled through separate 
final stage transistors. 

The sensor heaters are controlled with a pulse width modulated voltage during a cold start. 
This allows the sensors to be brought up to operating temperature without the possibility 
of thermal shock. The duty cycle is then varied to maintain the heating of the sensors. 

When the engine is decelerating (closed throttle), the ECM increases the duty cycle of the 
heating elements to compensate for the decreased exhaust temperature. 



67 

MS45 Emissions Management 


























































































Catalytic Converter Monitoring: The efficiency of catalyst operation is determined by 
evaluating the oxygen consumption of the catalytic converters using the pre and post oxy¬ 
gen sensor signals. A properly operating catalyst consumes most of the 02 (oxygen) that 
is present in the exhaust gas (input to catalyst). The gases that flow into the catalyst are 
converted from CO, HC and NOx to CO 2 , H 2 O and N2 respectively. 


In order to determine if the catalysts are working correctly, post catalyst oxygen sensors are 
installed to monitor exhaust gas content exiting the catalysts. The signal of the post cat. 02 
sensor is evaluated over the course of several pre cat. 02 sensor oscillations. 


During the evaluation period, the signal of the 
post cat. sensor must remain within a relatively 
constant voltage range (700 - 800 mV). The 
post cat. 02 voltage remains high with a very 
slight fluctuation. This indicates a further lack of 
oxygen when compared to the pre cat. sensor. 


Good 

Signal 



If this signal decreased in voltage and/or 
increased in fluctuation, a fault code will be set 
for Catalyst Efficiency and the “Malfunction 
Indicator Light” will illuminate when the OBD II 
criteria is achieved. 


uj 

Defective < 

Signal ^ 

> 



TIME 165500046 


Secondary Air Injection: Injecting ambient air into the exhaust stream after a cold engine 
start reduces the warm up time of the catalyst and reduces HC and CO emissions. The 
ECM controls and monitors the Secondary Air Injection. 

An Electric Secondary Air Pump and Air Injection Valve direct fresh air through an internal 
channel in the cylinder head into the exhaust ports. The Air Injection Valve is opened by air 
pressure (from the pump) and is closed by an internal spring. 

The E85 uses a higher volume Secondary Air 
Pump (45 kg/hour). The pump contains an inte¬ 
gral air filter element which is maintenance free. 

1. Air filter 

2. Secondary air pump (SLP) 

3. Air injection valve (SLV) 



68 

MS45 Emissions Management 














Misfire Detection: As part of the OBD II regulations the ECM must determine misfire and 
also identify the specific cylinder(s), the severity of the misfire and whether it is emissions 
relevant or catalyst damaging based on monitoring crankshaft acceleration. 

In order to accomplish these tasks the ECM monitors the crankshaft for acceleration by the 
impulse wheel segments of cylinder specific firing order. The misfire/engine roughness cal¬ 
culation is derived from the differences in the period duration of individual increment gear 
segments. 

Each segment period consist of 
an angular range of 90° crank 
angle that starts 54° before Top 
Dead Center. 

If the expected period duration is 
greater than the permissible value 
a misfire fault for the particular 
cylinder is stored in the fault 
memory of the ECM. 


Depending on the level of misfire 
rate measured the ECM will illu¬ 
minate the "Malfunction Indicator 
Light”, deactivate the specific fuel 
injector to the particular cylinder 
and switch oxygen sensor control 
to open-loop. 

In order to eliminate misfire faults that can occur as a result of varying flywheel tolerances 
(manufacturing process) an internal adaptation of the flywheel is made. The adaptation is 
made during periods of decel fuel cut-off in order to avoid any rotational irregularities which 
the engine can cause during combustion. This adaptation is used to correct segment dura¬ 
tion periods prior to evaluation for a misfire event. 

If the sensor wheel adaptation has not been completed the misfire thresholds are limited to 
engine speed dependent values only and misfire detection is less sensitive. The crankshaft 
sensor adaptation is stored internally and is not displayed via DISplus or GT1. If the adap¬ 
tation limit is exceeded a fault will be set. 


CRANKSHAFT 
POSITION 
SENSOR 
(HALL EFFECT) 



| Print 

| Change 

l End 

| Services |” 


BMW Test system Oscilloscope display 




Help 




<1 Oi l ll£L \ 




Print 


Change 


j End j" j Services ^ 


BMW Test system Oscilloscope display 
v 





SMOOTH RUNNING ENGINE 
(NOTE SQUARE WAVE SIGNAL) 


ENGINE MISFIRE DETECTED 


134100101 


69 

MS45 Emissions Management 
















































































































































































































































































































Principle of Operation 


Emissions Management controls evaporative and exhaust emissions. The ECM monitors 
the fuel storage system for evaporative leakage and controls the purging of evaporative 
vapors. The ECM monitors and controls the exhaust emissions by regulating the com¬ 
bustible mixture and after treating by injecting fresh air into the exhaust system. The cat¬ 
alytic converter further breaks down remaining combustible exhaust gases and is moni¬ 
tored by the ECM for catalyst efficiency. 



The MS45 Evaporative Leakage Detection is performed on the fuel storage system by 
the DM TL pump which contains an integral DC motor that is activated by the ECM. The 
ECM monitors the pump motor operating current as the measurement for detecting leaks. 
The pump also contains an ECM controlled change over valve that is energized closed dur¬ 
ing a Leak Diagnosis test. The ECM initiates a leak diagnosis test every time the criteria are 
met. The criteria is as follows: 


• Engine OFF with ignition switched OFF. 

• ECM still in active state or what is known as “follow up mode” (ECM Relay energized, ECM and components 
online for extended period after key off). 

• Prior to Engine/Ignition switch OFF condition, vehicle must have been driven for a minimum of 20 minutes. 

• Prior to minimum 20 minute drive, the vehicle must have been OFF for a minimum of 5 hours. 

• Fuel Tank Capacity must be between 15 and 85% (safe approximation between 1/4 - 3/4 of a tank). 

• Ambient Air Temperature between 4°C & 35°C (40°F & 95°F ) 

• Altitude < 2500m (8,202 feet). 

• Battery Voltage - between 10.95 and 14.5 Volts 


PHASE 1 - Reference Measurement 

The ECM activates the pump motor. The pump 
pulls air from the filtered air inlet and passes it 
through a precise 0.5 mm reference orifice in 
the pump assembly. The ECM simultaneously 
monitors the pump motor current flow. The 
motor current raises quickly and levels off (sta¬ 
bilizes) due to the orifice restriction. The ECM 
stores the stabilized amperage value in memo¬ 
ry. The stored amperage value is the electrical 
equivalent of a 0.5 mm (0.020”) leak. 


Throttle 
Plate 


Purge 

Valve 



0.5mm 

Reference 

Orifice 


j-llA/V 


Canis 

iter 




□i 


Valve 


X 


z 


100000 ) 


rMRjq 



Electric 
Motor LDP 



135500065 


70 

MS45 Emissions Management 














































































































PHASE 2 - Leak Detection 

The ECM energizes the Change Over Valve 
allowing the pressurized air to enter the fuel sys¬ 
tem through the Charcoal Canister. The ECM 
monitors the current flow and compares it with 
the stored reference measurement over a dura¬ 
tion of time. 

Once the test is concluded, the ECM stops the 
pump motor and immediately de-energizes the 
change over valve. This allows the stored pres¬ 
sure to vent thorough the charcoal canister 
trapping hydrocarbon vapor and venting air to 
atmosphere through the filter. 

Test Results 

The time duration varies between 45 & 270 sec¬ 
onds depending on the resulting leak diagnosis 
test results (developed tank pressure “amper- 
age’Vwithin a specific time period). However the 
chart depicts the logic used to determine fuel 
system leaks. 


If the ECM detects a leak, a fault 
will be stored and the “Malfun¬ 
ction Indicator Light” will be illumi¬ 
nated. Depending on the amper¬ 
age measurement detected by 
the ECM, the fault code displayed 
be small leak or large leak. 



Fresh Air 


134100100 



Fresh Air 


13550066 


Current 


Refuelling during the test will 
interrupt the diagnosis and the 
DM TL will be denergized. The 
ECM detects this by: 

• Pressure drop when filler cap is removed 

• Rise in pressure due to refuelling 

If refuelling does not take place 
immediately after opening the 
filler cap (pressure rise missing), a 
large leak is detected. 



13550064 

71 

MS45 Emissions Management 




























































































































































































































If the vehicle was refueled and the filler cap was not properly installed, the 
“Check Filler Cap” message will be displayed in the instrument cluster for 20 
seconds. 

If the filler cap is installed and there is no leakage present the next time the 
leakage test is performed, the “Malfunction Indicator Light” will not be illu¬ 
minated (additional detailed information on page 82 of Workshop Hints). 


CHECK 

FILLER 

CAP 


Evaporative Emission Purging is regulated by the ECM controlling the Evaporative 
Emission Valve. The Evaporative Emission Valve is a solenoid that regulates purge flow from 
the Active Carbon Canister into the intake manifold. The ECM Relay provides operating 
voltage, and the ECM controls the valve by regulating the ground circuit. The valve is pow¬ 


ered open and closed by an internal spring. 
The “purging” process takes place when: 

• Oxygen Sensor Control is active 

• Engine Coolant Temperature is >67° C 

• Engine Load is present 


OPERATING POWER 
FROM ECM MAIN RELAY 


VAPORS FROM 

CHARCOAL 

CANISTER 



VAPORS TO VACUUM PORT 
ON THROTTLE HOUSING 



135500038 


The Evaporative Emission Valve is opened in stages to moderate the purging. 


• Stage 1 opens the valve for 10 ms (milli-seconds) and then closes for 150 ms. 


• The stages continue with increasing opening times (up to 16 stages) until the valve is completely open. 


• The valve now starts to close in 16 stages in reverse order 


• This staged process takes 6 minutes to complete. The function is inactive for 1 minute then starts the process all 
over again. 


• During the purging process the valve is completely opened during full throttle operation and is completely closed 
during deceleration fuel cutoff. 


Evaporative Purge System Flow Check is performed by the ECM when the oxygen 
sensor control and purging is active. When the Evaporative Emission Valve is open the ECM 
detects a rich/lean shift as monitored by the oxygen sensors indicating the valve is func¬ 
tioning properly. 

If the ECM does not detect a rich/lean shift, a second step is performed when the vehicle 
is stationary and the engine is at idle speed. The ECM opens and close the valve (abrupt¬ 
ly) several times and monitors the engine rpm for changes. If there are no changes, a fault 
code will be set. 


72 

MS45 Emissions Management 





























































Fuel System Monitoring is per¬ 
formed by the ECM which verifies 
the calculated injection time (ti) in 
relation to engine speed, load 
and the oxygen sensor signal as 
a result of the residual oxygen in 
the exhaust stream. 

The ECM uses the oxygen sensor 
signal as a correction factor for 
adjusting and optimizing the mix¬ 
ture pilot control under all engine 
operating conditions. 


] 


INTAKE AIR 
MASS „ 


► 




5 , 


WHERE MULTIPLICATIVE ADAPTATION OCCURS 


WHERE 

ADDITIVE 

ADAPTATION 

OCCURS 





O 





□ 


♦ 


ENGINE 

SPEED 




OXYGEN 

SENSOR 

SIGNAL(S) 



ADAPTATION 
OXYGEN INFLUENCE 
SENSOR 
INFLUENCE 

INJECTION TIME 







f 


[ 



M 


& 


% 


ADAPTATION OF 
INJECTION 
TIME DURATION 


135500055 


Adaptation Values are stored by the ECM in order to maintain an "ideal" air/fuel ratio. 
The ECM is capable of adapting to various environmental conditions encountered while the 
vehicle is in operation (changes in altitude, humidity, ambient temperature, fuel quality, etc.). 


The adaptation can only make slight corrections and can not compensate for large 
changes which may be encountered as a result of incorrect airflow or incorrect fuel supply 
to the engine. 

Within the areas of adjustable adaptation, the ECM modifies the injection rate under two 
areas of engine operation: 


• During idle and low load mid range engine speeds (Additive Adaptation). 

• During operation under a normal to higher load when at higher engine speeds (Multiplicative Adaptation). 


These values indicate how the ECM is compensating for a less than ideal initial air/fuel ratio. 


NOTE: If the adaptation value is greater than "0.0" Additive (% Multiplicative), the ECM is 
trying to richen the mixture. If the adaptation value is less then "0.0” Additive (% 
Multiplicative), the ECM is trying to lean-out the mixture. 


73 

MS45 Emissions Management 





















































Catalyst Monitoring is performed by the ECM under oxygen sensor closed loop opera¬ 
tion. The changing air/fuel ratio in the exhaust gas results in lambda oscillations at the pre¬ 
catalyst sensors. These oscillations are dampened by the oxygen storage activity of the 
catalysts and are reflected at the post catalyst sensors as a fairly stable signal (indicating 
oxygen has been consumed). Conditions for Catalyst Monitoring: 


Requirements 

• Closed loop operation 

• Engine coolant temperature 

• Vehicle road speed 

• Catalyst temperature (calculated) 

• Throttle angle deviation 

• Engine speed deviation 

• Average lambda value deviation 


Status/Condition 

YES 

Operating Temp. 

3 - 50 MPH (5 to 80 km/h) 
350°C to 650°C 
Steady throttle 
Steady/stable engine speed 
Steady/stable load 


* Catalyst temperature is an internally calculated value that is a function of load/air mass 
and time. 


As part of the monitoring process, the pre and 
post 02 sensor signals are evaluated by the 
ECM to determine the length of time each sen¬ 
sor is operating in the rich and lean range. 


If the catalyst is defective the post 02 sensor 
signal will reflect the pre 02 sensor signal 
(minus a phase shift/time delay), since the cat¬ 
alyst is no longer able to store oxygen. 


The catalyst monitoring process is stopped 
once the predetermined number of cycles are 
completed, until the engine is shut-off and start¬ 
ed again. After completing the next "customer 
driving cycle" whereby the specific conditions 
are met and a fault is again set, the "Malfunction 
Indicator Light” will be illuminated. 



Good 

Signal 



TIME 


Note: The catalyst efficiency is monitored once 
per trip while the vehicle is in closed loop oper¬ 
ation. 


LL! 


Defective 

Signal 


£ 

< 


LU 

<D 
< 


O 

> 


PRE POST 



74 

MS45 Emissions Management 


TIME 

































Secondary Air Injection is required to reduce HC and CO emissions while the engine is 
warming up. Immediately following a cold engine start (-10 to 60°C) fresh air/oxygen is 
injected directly into the exhaust stream. 


The temperature signal is provid¬ 
ed to the ECM by the Air 
Temperature Sensor in the HFM*. 

The ECM provides a ground cir¬ 
cuit to activate the Secondary Air 
Injection Pump Relay. The relay 
supplies voltage to the Secon¬ 
dary Air Injection Pump. 

The single speed pump runs for 
approximately 90 seconds after 
engine start up. 

* Below -10° C the pump is acti¬ 
vated briefly to “blow out” any 
accumulated moisture. 



Secondary Air Injection Monitoring is performed by the ECM via the use of the pre-cat¬ 
alyst oxygen sensors. Once the air pump is active and is air injected into the exhaust sys¬ 
tem the oxygen sensor signals will indicate a lean condition (up to 16 seconds). 


If the oxygen sensor signals do not change 
within a predefined time a fault will be set and 
identify the faulty bank. 

If the additional oxygen is not detected for two 
consecutive cold starts, the ECM determines a 
general fault with the function of the secondary 
air injection system. After completing the next 
cold start and a fault is again present the 
"Malfunction Indicator Light” will be illuminated 
when the OBD II criteria is achieved. 



75 

MS45 Emissions Management 





























































Misfire Detection is part of the OBD II regulations the ECM must determine misfire and 
also identify the specific cylinder(s). The ECM must also determine the severity of the mis¬ 
fire and whether it is emissions relevant or catalyst damaging based on monitoring crank¬ 
shaft acceleration. 

Emission Increase: 

• Within an interval of 1000 crankshaft revolutions, the ECM adds the the detected misfire 
events for each cylinder. If the sum of all cylinder misfire incidents exceeds the predeter 
mined value, a fault code will be stored and the “Malfunction Indicator Light” will be illu¬ 
minated. 


• If more than one cylinder is misfiring, all misfiring cylinders will be specified and the indi¬ 
vidual fault codes for each misfiring cylinder, or multiple cylinders will be stored. The 
“Malfunction Indicator Light” will be illuminated. 

Catalyst Damage: 


• Within an interval of 200 crankshaft revolutions the detected number of misfiring events 
is calculated for each cylinder. The ECM monitors this based on load/rpm. If the sum of 
cylinder misfire incidents exceeds a predetermined value, a “Catalyst Damaging” fault 
code is stored and the “Malfunction Indicator Light” will be illuminated. 


If the cylinder misfire count 
exceeds the predetermined 
threshold the ECM will take the 
following measures: 

• The oxygen sensor control will 
be switched to open loop. 

• The cylinder selective fault code 
is stored. 

• If more than one cylinder is mis 
firing the fault code for all indi 
vidual cylinders and for multiple 
cylinders will be stored. 

• The fuel injector to the respec 
tive cylinder(s) is deactivated. 




76 

MS45 Emissions Management 


CRANKSHAFT 

POSITION 

SENSOR 





























































Electrically Heated Thermostat 


Model specific variants of the electrically heated thermostat are equipped on all LEV/ULEV 
compliant engines. This thermostat allows the engine to run more efficiently than conven¬ 
tional thermostats improving fuel economy. 


The ECM also electrically activates the thermostat to lower the engine coolant temperatures 
based on monitored conditions. It is both a conventionally functioning and ECM controlled 
thermostat (two stage operation). ECM control adds heat to the wax core causing the ther¬ 
mostat to open earlier than it’s mechanical temperature rating providing increased coolant 
flow. 


Conventional Function: The ther¬ 
mostat begins to open at 103°C. This 
is at the inlet side of the water pump 
and represents the temperature of the 
coolant entering the engine. Before 
the 103°C temperature is realized, the 
coolant is circulated through the 
engine block by the water pump. 

After the temperature reaches 103°C it 
is maintained as the inlet temperature 
by the thermostat. The coolant tem¬ 
perature at the water pump engine 
outlet is approximately 110°C. The 
additional 7°C is achieved after the 
coolant has circulated through the 
block. 


The operating temperature of the 
engine will remain within this range as 
long as the engine is running at part 
load conditions and the engine 
coolant temperature does not exceed 
113°C. 


°c 

115 

110 

105 

100 

95 

90 

85 

80 


▲ 

110°C THERMOSTAT 

_L_ 

- part\ 

FULL LOAD / PART 

- LOAD \ 

/ LOAD 


L 85°C THERMOSTAT 
-► TIME 


COLD COOLANT 



COLD COOLANT 



HOT COOLANT 

▼ RETURNED TO RADIATOR 


77 

MS45 Emissions Management 























































































































































ECM Control 


Electric thermostat activation is based on the following parameters: 

• Engine temperature > 113°C 

• Radiator Coolant Outlet Temperature 

• Load signal “ti” > 5.8 ms 

• Intake air temp > 52°C 

• Vehicle speed >110 MPH 


When one or more of these monitored conditions is determined, the ECM activates 
(switched ground) the thermostat circuit. The activated heating element causes the wax 
core in the thermostat to heat up and open the thermostat increasing coolant circulation 
through the radiator which brings the engine temperature down. 

The temperature of the coolant at the inlet side of the water pump will drop to approximately 
85°C and the temperature at the outlet side will drop to approximately 103°C when acti¬ 
vated . 


COLD OOOLANT 



78 

MS45 Emissions Management 




The “Malfunction Indicator Light” (MIL) will be illuminated under the following conditions: 

• Upon the completion of the next consecutive 
driving cycle where the previously faulted 
system is monitored again and the emissions 
relevant fault is again present. 

• Immediately if a “Catalyst Damaging” fault 
occurs (see Misfire Detection). 

The illumination of the light is performed in 
accordance with the Federal Test Procedure 
(FTP) which requires the lamp to be illuminated 
when: 

• A malfunction of a component that can affect the emission performance of the vehicle 
occurs and causes emissions to exceed 1.5 times the standards required by the (FTP). 

• Manufacturer-defined specifications are exceeded. 

• An implausible input signal is generated. 

• Catalyst deterioration causes HC-emissions to exceed a limit equivalent to 1.5 times the 
standard (FTP). 

• Misfire faults occur. 

• A leak is detected in the evaporative system, or “purging” is defective. 

• ECM fails to enter closed-loop oxygen sensor control operation within a specified time inter¬ 
val. 

• Engine control or automatic transmission control enters a "limp home" operating mode. 

• Ignition is on (KL15) position before cranking = Bulb Check Function. 

Within the BMW system the illumination of the Malfunction Indicator Light is performed in 
accordance with the regulations set forth in CARB mail-out 1968.1 and as demonstrated 
via the Federal Test Procedure (FTP). The following page provides several examples of 
when and how the Malfunction Indicator Light is illuminated based on the "customer drive 
cycle". 



79 

MS45 Emissions Management 






DRIVE 
CYCLE # 1 

DRIVE 
CYCLE # 2 

DRIVE 
CYCLE # 3 

DRIVE 
CYCLE # 4 

DRIVE 
CYCLE # 5 

, 

* DRIVE 
CYCLE # 43 

TEXT 

NO. 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT CODE 

ERASED 

MIL 

STATUS 

CHECK 

ENGINE 

CHECK 

ENGINE 

CHECK 

ENGINE 

CHECK 

ENGINE 

CHECK 

ENGINE 

check) 

ENGINE 







1. 

YES 

YES 

OFF 

















2. 

YES 

YES 

OFF 

YES 

YES 

ON 














3. 

YES 

YES 

OFF 

NO 

NO 

OFF 

YES 

YES 

ON 











4. 

YES 

YES 

OFF 

YES 

NO 

OFF 

YES 

NO 

OFF 

YES 

YES 

OFF 

YES 

YES 

ON 



P 


5. 

YES 

YES 

OFF 

YES 

YES 

ON 

YES 

NO 

ON 

YES 

NO 

ON 

YES 

NO 

OFF 

\ 

_ 

1 

k 

r 

/ 

6. 

YES 

YES 

OFF 

YES 

YES 

ON 

YES 

NO 

ON 

YES 

NO 

ON 

YES 

NO 

OFF 

YES 

\ault/ 

C&DE 

ERASED 

- 5 

V 

OFF 


1. A fault code is stored within the ECM upon the first occurrence of a fault in the system 
being checked. 

2. The "Malfunction Indicator Light” will not be illuminated until the completion of the sec¬ 
ond consecutive "customer driving cycle" where the previously faulted system is again 
monitored and a fault is still present or a catalyst damaging fault has occurred. 

3. If the second drive cycle was not complete and the specific function was not checked 
as shown in the example, the ECM counts the third drive cycle as the “next consecu¬ 
tive" drive cycle. The "Malfunction Indicator Light” is illuminated if the function is checked 
and the fault is still present. 

4. If there is an intermittent fault present and does not cause a fault to be set through mul¬ 
tiple drive cycles, two complete consecutive drive cycles with the fault present are 
required for the "Malfunction Indicator Light” to be illuminated. 

5. Once the "Malfunction Indicator Light” is illuminated it will remain illuminated unless the 
specific function has been checked without fault through three complete consecutive 
drive cycles. 

6. The fault code will also be cleared from memory automatically if the specific function is 
checked through 40 consecutive drive cycles without the fault being detected or with the 
use of either the DISplus, GT1 or Scan tool. 


NOTE: In order to clear a catalyst damaging fault (see Misfire Detection) from memory, the 
condition must be evaluated for 80 consecutive cycles without the fault reoccurring. 


80 

MS45 Emissions Management 



























































Workshop Hints 

Before any service work is performed on any fuel sys¬ 
tem related component, always adhere to the following: 

• Observe relevant safety legislation pertaining to your area. 

• Ensure adequate ventilation. 

• Use exhaust extraction system where applicable (alleviate fumes). 

• DO NOT SMOKE while performing fuel system repairs. 

• Always wear adequate protection clothing including eye protection 

• Use caution when working around a HOT engine compartment 

• BMW does not recommend any UNAUTHORIZED MODIFICATIONS to the fuel system. The fuel systems are 
designed to comply with strict Federal Safety and Emissions Regulations. In the concern of product liability, it is 
unauthorized to sell or perform modifications to customer vehicles, particularly in safety areas. 



The "Malfunction Indicator Light” can be diagnosed with an aftermarket Scan Tool that 
allows Technicians without BMW Special Tools or Equipment to Diagnose an emission sys¬ 
tem failure. With the use of a universal scan tool, connected to the "OBD" DLC (located in 
the driver’s side left lower instument panel area) an SAE standardized DTC can be 
obtained, along with the condition associated with the illumination of the "Malfunction 
Indicator Light”. Using the DISplus or GT1, a fault code and the conditions associated with 
its setting can be obtained prior to the illumination of the "Malfunction Indicator Light”. 



DUE 


PT-CAN 

EGS 
z| SMG 

kYJT IlPJa 1 
D£2 


E Gcirceu P 



81 

MS45 Emissions Management 



Misfire Detection 

Refer to Service Information Bulletin S.l. #12 02 97 for details about Misfire Fault Codes. 


Testing the Oxygen Sensor should be performed using the DISplus Oscilloscope from 
the “Preset Measurement” List. The scope pattern should appear as below for a normal 
operating sensor. 

If the signal remains high (rich condition) the following should be checked: 

• Fuel Injectors 

• Fuel Pressure 

• Ignition System 

• Input Sensors that influence air/fuel mixture 

• Engine Mechanical 


If the signal remains low (lean condition) the following should be checked: 

• Air/Vacuum leak 

• Fuel Pressure 

• Input Sensor that influence air/fuel mixture 

• Engine Mechanical 

NOTE: A MIXTURE RELATED FAULT CODE SHOULD BE INVESTIGATED FIRST AND 
DOES NOT ALWAYS INDICATE A DEFECTIVE OXYGEN SENSOR! 


Check Filler Cap (additional information from page 72) 

After refueling and switching the ignition “ON”, the ECM detects a fuel level increase. When 
the ignition is switched “OFF”, the ECM activates the DM TL for a “brief test” to check the 
filler cap. If the filler cap was not properly installed; when the vehicle is started and driven 
at a speed >10 Km/h, the “Check Filler Cap” light will illuminate for 25 seconds (and then 
go out). 

The second time the ignition is cycled “OFF”, the DM TL is activated to test the filler cap. If 
loose; when the vehicle is started and driven at a speed >10 Km/h, the “Check Filler Cap” 
light will be illuminated for 25 seconds (and then go out). 

If the filler cap is properly secured, the “Malfunction Indicator Light” will not be illuminated 
and a fault code will not be stored in the ECM. 

The third time the ignition is cycled “OFF”, the DM TL is activated to test the filler cap. If 
loose; a “Large Leak” fault code is stored in the ECM. The “Malfunction Indicator Light” will 
be illuminated the next time the engine is started. 


82 

MS45 Emissions Management 



Tools and Equipment 


The DISplus/Gtl as well as a reputable hand 
held multimeter can be used when testing 
inputs/components. 


It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 



DISplus GT-1 


The correct Universal Adapter for the M545 
application should be used (#90 88 6 121 300). 
This will ensure the pin connectors and the har¬ 
ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located below the windshield on the pas¬ 
senger side of the engine compartment), make 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



pq 


©©©©© 

©©©©© 

©©©©© 

©©©©© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 



nn 

s 


e 

z 

V 



hi 


pq 


©©©©© 

©©©©© 

©a®©© 

©©©©© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 


sure the ignition is switched off. 


NOTE for MS45: Allow at least 3 minutes to 
elapse after the key was set to the "OFF" posi¬ 
tion before disconnecting the ECM/ TCM. 


This will allow sufficient time to complete the DM 
TL test Voltage may be present (up to 3 min¬ 
utes) causing damage to die ECM /TCM if they 
are disconnected during this time period (arc¬ 
ing). 



83 

MS45 Emissions Management 



























































































