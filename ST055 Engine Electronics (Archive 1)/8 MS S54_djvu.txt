Table of Contents 


Subject Page 

MS S54 .2 

Objectives of the Module .2 

Purpose of the System.3 

System Components .4 

Power Supply .6 

Principle of Operation.7 

Workshop Hints.8 

Tools and Equipment .9 

Air Management .10 

Principle of Operation.14 

Workshop Hints.21 

Tools and Equipment .23 

Fuel Management .24 

Principle of Operation.33 

Workshop Hints.39 

Tools and Equipment .45 

Ignition Management .47 

Principle of Operation.53 

Workshop Hints.57 

Tools and Equipment .61 

Emissions Management .62 

Evaporative Emissions .62 

Exhaust Emissions.65 

Principle of Operation.70 

Workshop Hints.81 

Tools and Equipment.82 

Performance Controls .84 


Review Questions 


88 































MS S54 


Model: E46 M3 S54B32 Engine 
Production Date: 01/2001 
Manufacturer: Siemens 

Pin Connector: 134 Pins - 5 Modular Connectors 


Objectives of the Module 

After completing this module, you will be able to: 

• Describe the Power Supply for the Fuel Injectors and Ignition Coils 

• Understand the EDR and Idle Air Actuator Operation 

• Name the Component Location of the Fuel Supply System 

• List the Inputs Required for Fuel Injector Operation 

• Describe Emission Optimized Function 

• Name the Two Types of Emissions the ECM Controls 

• Explain Why Two Sensors are used to Monitor Throttle Movement 

• Describe the Dual Input from the Accelerator Pedal 

• Locate the Diagnostic Socket 

2 


ST055 MS S54 





MS S54 


Purpose of the System 

The MS S54 system manages the following functions: 


Air: 

• Idle Air Actuator 

• Electronic Throttle (EDR) 

• Hot-Film Air Mass Meter 


Fuel: 

• Fuel Supply 

• Fuel Injection 


Ignition: 

• Direct Ignition 

• Knock Control 

• Primary Ignition Monitoring 


Emissions: 

• Secondary Air Injection 

• Pre and Post Catalyst Oxygen Sensing 

• Oxygen Sensor Heating 

• Misfire Detection 

• Evaporative Purge Control/Leak Testing 

• ENGINE EMISSION Light 


Performance Controls: 

• Sport Switch (Throttle Progression) 

• Dual VANOS 

• Variable Engine Speed Warning 

• Output of Engine RPM for Tachometer 

• Cruise Control 

• DSC III 

• A/C Compressor Control 

• EWS III 


3 

ST055 MS S54 















System Components 

MS S54 Engine Control Module: The MS S54 ECM features a single printed circuit 
board with two 32-bit microprocessors. 


The task of the first processor is to control: 

• Engine Load 

• Electronic Throttle (EDR) 

• Idle actuator 

• Ignition 

• Knock Control 

The task of the second processor is to control: 

• Air/Fuel Mixture 

• Emission Control 

• Misfire Detection 

• DMTL 



12410000.tiff 



X60001 X60002 X60003 X60004 X60005 

9 - Pin 24 - Pin 52 - Pin 40 - Pin 9 - Pin 


The 134 pin MS S54 Engine Control Module is manufactured by Siemens to BMW M spec¬ 
ifications. The ECM is the SKE (standard shell construction) housing and uses 5 modular 
connectors. For testing, use the Universal Adapter Set (break-out box) Special Tool: 

#90 88 6 121 300. 


4 


ST055 MS S54 





























MS S54 ECM Inputs - Processing - Outputs 



5 

ST055 MS S54 


12410017.eps 











































































































































































































































































Power Supply 



KL30 - Battery Voltage: B+ is the main supply of operating voltage to the ECM. 


Power Supplies: The power supplies (KL15 
and ECM Relay) are fused to the MS S54 ECM. 
The fuses are housed in the Engine Fuse Block 
located in the Electronics Box. 

KL15 - Ignition Switch: When the ignition is 
switched “on” the ECM is informed that the eng- 
gine is about to be started. KL15 (fused) supplies 
voltage to the Engine Control Module Relay and 
the Fuel Injector Relay. Switching KL15 “off” 
removes the ECM operating voltage. 



Engine Control Module Relay: The ECM Relay provides the operating voltage for: 


1 . 

ECM 

6. 

Ignition Coils 

2. 

Fuel Injector Relay 

7. 

DMTL 

3. 

Idle Air Actuator 

8. 

Camshaft Sensor 

4. 

Evaporative Emission Valve 

9. 

Hot Film Air Mass 

5. 

Fuel Pump Relay 

10. 

Oxygen Sensor Heaters 


Ground: Multiple ground paths are necessary to complete current flow through the ECM. 
The ECM ground pin numbers are: 


Connector X60001 

Connector X60004 

Connector X60005 

Pin 4 - Ground for ECM 

Pin 5 - Ground for ECM 

Pin 5 - Ground for ECM 

Pin 5 - Ground for ECM 

Pin 6 - Ground for ECM 


6 

ST055 MS S54 Power Supply 


















































































































Principle of Operation 

Battery Voltage is monitored by the ECM for fluctuations. It will adjust the output func¬ 
tions to compensate for a lower (6v) and higher (14v) voltage value. For example, the ECM 
will: 

• Modify pulse width duration of fuel injection. 

• Modify dwell time of ignition. 


When KL15 is switched “on” the ECM is ready for engine management. The ECM will acti¬ 
vate ground to energize the Engine Control Module Relay. The Engine Control Module 
Relay supplies operating voltage to the ECM and the previously mentioned operating com¬ 
ponents. Five seconds after the ignition is switched on and the voltage at the KL15 input 
is >9 volts, the ECM compares the voltage to the ECM Relay supplied voltage. If the volt¬ 
age difference between the two terminals is greater than 3 volts, a fault code will be set. 


When KL15 is switched “off” the ECM operating voltage is removed. The ECM will main¬ 
tain a ground to the Engine Control Module Relay for a few seconds to maintain ignition coil 
activation (Emission Optimized - introduced in 2000 MY). 


Ground is required to complete the current path through the ECM. The ECM also: 


• Internally links a constant ground (1) 
to the engine sensors. 

• Switches ground (2) to activate 
components. 



7 

ST055 MS S54 Power Supply 




Workshop Hints 


Electronics Box - ECM and Fuses 


Power Supply - Testing 

Inadequate power and ground supply 
can result in: 


1 . 

No Start 

2. 

Hard Starting (Long Crank Times) 

3. 

Inaccurate Diagnostic Status or 
ECM (Not Found) 

4. 

Intermittant / Constant “ENGINE 
EMISSION” Light 

5. 

Intermittant/Constant Driveability 
Problems 



Power supply including fuses should be 
tested for: 


1 . 

Visual (1) Blown Fuse 

2. 

Available Voltage (2) 

3. 

Voltage Drop (Dynamic 


Resistance) (2) 

4. 

Resistance of Cables 


and Wires (2) 


The ignition (KL15) must be 
switched off when removing or 
installing the ECM connector to 
prevent voltage spikes (arcing) 
that can damage the Control 
Module! 


The Engine Control Module Relay (locat¬ 
ed in the Electronics Box) should be test¬ 
ed for: 


1 . 

Battery Voltage and Switched 


Ground (1) 

2. 

Resistance (1) 

3. 

Battery Voltage and 


Voltage Drop (2) 


12550006.bmp 






8 

ST055 MS S54 Power Supply 














































Tools and Equipment 


Power Supply 

When testing power supply to an ECM, the 
DIS/MoDIC multimeter function as well as a rep¬ 
utable hand held multimeter can be used. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 

The correct Universal Adapter for the MS S54 
application should be used (#90 88 6 121 300). 


SKE BREAKOUT BOX SET 



©©©©© 


©©©©© 


©©©©© 

©©©©© 

©©© 0 © 

© 


BOX _ 

88 88 6 611 4 

13410063.ee 


134 PIN 
SKE 


26 
PIN 
BOX 
88 88 6 611 459 


© 0 ©©© 

© 00 ©© 

© 000 © 

© 


This will ensure the pin connectors and the har¬ 


ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in engine 
compartment), make sure the ignition is 
switched off. 



12410002.tiff 



The Engine Control Module Relay should be 
tested using the relay test kit (P/N 88 88 6 613 
010) shown on the right. 

This kit allows testing of relays from a remote 
position. 

Always consult the ETM for proper relay con¬ 
nections. 



9 

ST055 MS S54 Power Supply 





























Air Management 


12410008.eps 


AIRMASS SIGNAL 



INTAKE 

AIR 

TEMP 



THROTTLE 

POSITION 



ENGINE COOLANT 
TEMPERATURE 



CRANKSHAFT 
POSITION 
SENSOR 



Throttle Valves: The mechanical throttle 
valves regulate the intake air flow and are 
operated by an Electronic Throttle 
Actuator (1 EDR). 

The throttle valves are an assembly of six 
individual throttle housings linked by a 
common shaft. The throttle opening 
depends on engine rpm and load (1000 
kg/h maximum air flow). 

Refer to the Repair Instructions for throt¬ 
tle adjustments. 



Accelerator Pedal Position (PWG): 

The accelerator pedal module provides 
two variable voltage signals to the ECM 
that represents accelerator pedal posi¬ 
tion and rate of movement. The ECM will 
activate the EDR and Idle Air actuator 
based on the request. 

Dual Hall Sensors are integral in the 
accelerator pedal module. The ECM 
compares the two values for plausibility. 



10 

ST055 MS S54 Air Management 









































































































The ECM provides voltage (5v) and ground for 
the Hall sensors. As the accelerator pedal is 
moved from rest to full throttle, the sensors pro¬ 
duce a variable voltage signal. 

Hall sensor 1 (request) = 0.5 to 4.5 volts 
Hall sensor 2 (plausibility) = 0.5 to 2.0 volts 

If the signals are not plausible, the ECM will use 
the lower of the two signals as the request input. 
The throttle response will be slower and the 
maximum throttle response will be reduced. 



Electronic Throttle Actuator (EDR): The EDR 

is specifically designed for the S54 engine. This 
allows one actuator to operate all six throttles 
via a common linkage. 

The ECM provides the operating voltage and 
ground to the EDR for opening and closing the 
throttles. The ECM monitors a feedback poten¬ 
tiometer located on the actuator shaft (arrow) for 
actuator position/plausibility (closed 4.5v - full 
open 0.5v). 



There is a return spring fitted to the actuator 
lever end that assists in closing the throttles. 


13410069. tiff 


Throttle Valve Position: A potentiometer is fit¬ 
ted to the end of the throttle shaft (arrow) that 
allows the ECM to monitor throttle position. 

This signal is used by the ECM for a position/ 
plausibility check (closed 0.5v - full open 4.5v). 



13410071 .tiff 


11 

ST055 MS S54 Air Management 

































Idle Air Actuator: The Idle Air Actuator is a 
two-coil rotary actuator (ZWD5). The S54 fea- 
ures a second air supply system that functions 
independent of the throttle valve control system 
(EDR). This actuator regulates air by-passing the 
throttle valves to control low engine speed. 

The valve is supplied with operating voltage 
from the ECM Relay. The ECM is equipped with 
two final stage transistors which will alternate 
positioning of the actuator. 

The final stages are "pulsed" simultaneously by 
the ECM which provides ground paths for the 
actuator. The duty cycle of each circuit is varied 
to achieve the required idle RPM. 


13410071.tiff 



TWO WINDINGS 


The maximum air flow of the idle air actuator (80 
kg/h) permits emergency operation of the vehi¬ 
cle (limp-home mode). 

The valve (2) regulates air flow through an exter¬ 
nal air distribution pipe to the individual throttle 
housings. The inducted air is shared between 
the idle actuator and throttle valves depending 
on the engine load. 


Hot-Film Air Mass Meter (HFM): The air vol¬ 
ume input signal is produced electronically by 
the HFM which uses a heated metal film in the 
air flow stream. The HFM is integral with the air 
filter upper housing (one-piece). 

The ECM Relay provides the operating voltage. 
As air flows through the HFM, the film is cooled 
changing the resistance which affects current 
flow through the circuit. This also causes volt¬ 
age drop across circuit as the resistance 
changes. The ECM monitors this change and 
regulates the amount of fuel injected. 




12 

ST055 MS S54 Air Management 













Air Temperature Signal: The 

HFM contains an integral air tem¬ 
perature sensor. This is a Negative 
Temperature Coefficient (NTC) 
type sensor. This signal is needed 
by the ECM to correct the air vol¬ 
ume input for changes in the 
intake air temperature (air density) 
affecting the amount of fuel inject¬ 
ed, ignition timing and Secondary 
Air Injection activation. 

The ECM provides the power 
supply to this component. The 
sensor decreases in resistance as 
the temperature rises and vice 
versa. The ECM monitors an 
applied voltage to the sensor that 
will vary as air temperature 
changes the resistance value. 



Suction Jet Pump: The ECM regulates the 
Suction Jet Pump (1) to provide sufficient vacu¬ 
um for the brake booster under all operating 
conditions. The ECM controls the Suction Jet 
Pump Solenoid (2) to allow vacuum flow 
through. 

Additional vacuum compensation is applied to 
the brake booster when the circuit is “deactivat¬ 
ed” (solenoid sprung open). 

Vacuum enhancement is limited to the brake 
booster when the control circuit is “activated” 
(solenoid powered closed). 



13 

ST055 MS S54 Air Management 













Principle of Operation 


Air flow into the engine is regulated by the Throttle Valves and/or the Idle Air Actuator. Both 
of these air “passages” are necessary for smooth engine operation from idle to full load. On 
the MS S54 system, the Throttle Valve and the Idle Air Actuator are electrically controlled. 
All of the ECM monitoring, processing and output functions are a result of regulated air flow. 


12410008. 


eps 


A 




AIRMAS S SIGNAL 

fEDRI INTAKE 
- AIR 


6X 


TEMP 


THROTTLE 
^ POSITION 



ENGINE COOLANT 
TEMPERATURE 



CRANKSHAFT 
POSITION 
SENSOR 



The Accelerator Pedal Position (PWG) is monitored by the ECM for pedal angle posi¬ 
tion and rate of movement. As the accelerator is moved, a rising voltage signal from the 
Hall sensors requests acceleration and at what rate. The ECM will increase the volume of 
fuel injected into the engine, advance the ignition timing and open the Throttle Valves 
and/or Idle Air Actuator. The “full throttle” position indicates maximum acceleration to the 
ECM, and in addition to the functions just mentioned, this will have an effect on the air con¬ 
ditioning compressor (covered in Performance Controls). 


As the accelerator pedal is 
released (integral springs), a 
decrease in voltage signals the 
ECM to activate fuel shut off if the 
rpm is above idle speed (coast¬ 
ing). The Throttle Valves will be 
closed and Idle Air Actuator Valve 
will open to maintain idle speed. 

The ECM monitors the engine idle 
speed in addition to the accelera¬ 
tor pedal position and throttle 
position voltage. If the voltage val¬ 
ues have changed (mechanical 
wear of throttle plates or linkage), 
the ECM will adjust the Idle Air 
Actuator to maintain the correct 
idle speed. 




riWI 

3 - 3 * 



12410001 .bmp 





l- oraaidMui 


14 

ST055 MS S54 Air Management 
















































































The pedal position sensor consists of two separate Hall sensors with different voltage char¬ 
acteristics and independent ground and voltage supply. Sensing of the accelerator pedal 
position is redundant. The pedal position sensor is monitored by checking each individual 
sensor channel and comparing the two pedal values. Monitoring is active as soon as the 
sensors receive their voltage supply (KL15). The ECM decides what operating mode the 
pedal position sensor is to assume. 

Mode 0 = Pedal position sensor fully operable 

Mode 1 = Failure of one pedal position sensor (maximum engine speed is limited) 

Mode 2 = Failure of both pedal position sensors (engine speed limited to 1500 rpm) 


The Idle Air Actuator is controlled by the ECM modulating the ground signals (PWM at 
100 Hz) to the valve. By varying the duty cycle applied to the windings, the valve can be 
progressively opened, or held steady to maintain the idle speed. The ECM controls the Idle 
Air Actuator to supply the necessary air to maintain idle speed. When acceleration is 
requested and the engine load is low (<15%), the actuator will also supply the required air. 

There are additional factors that influence the ECM in regulating idle speed: 

• The RPM sensor input allows the ECM to monitor engine speed because of loads that 
cause idle fluctuations due to drag on the engine: power steering, thick oil (frictional 
forces), etc. 

• Cold engine temperature (coolant NTC) provides higher idle speed to raise temperature 
sooner. 

• Vehicle speed informs ECM when the vehicle is stationary and requires idle maintenance. 

• A/C on request from the climate control system (arming the ECM) and compressor 
engage (stabilize idle speed) acknowledgment. 


15 

ST055 MS S54 Air Management 



The Electronic Throttle Actuator (EDR) is operated by the ECM for opening and clos¬ 
ing based on the accelerator pedal position, DSC intervention and cruise control functions. 
For exclusive control, the ECM supplies the voltage and ground for operation. The system 
requires approx. 110 milliseconds in order to fully open the closed throttle valves. 

When the EDR is operated, the ECM monitors a feedback potentiometer located on the 
actuator shaft for position/plausibility. As the EDR opens the Throttle Valves to accelerate 
the engine, the position is also monitored by a feedback potentiometer located on the end 
of the throttle shaft on the number 1 throttle housing. These two sensors operate inverse¬ 
ly (voltage values) with throttle actuation. 



12410000.bmp 


The EDR actuator will “open” the throttle valves 
for acceleration when the engine load is >15%. 
There is a transition during acceleration when the 


Idle Air Actuator will also be open providing addi¬ 
tional air for initial acceleration torque. 

% of opening 
(ZWD 5 / EDR) 

With the Idle Actuator System and Electronic 
Throttle Control (EDR), the S54 is equipped with 
two independent air systems. The ECM is there¬ 



fore capable of dividing the air volume of the 


engine between the idle actuator and/or throttle 

valves corresponding to the load status. 00410010 .eps 


16 

ST055 MS S54 Air Management 













Pre-drive Check 


The pre-drive check has following tasks: 

• Zero point adaptation of the throttle potentiometers. 

• Checking freedom of movement of the throttle valves and electronic accelerator pedal 
control circuit. 

• Checking the safety cutout and the return springs of the electronic accelerator pedal and 
throttle valves. 

This check is conducted every time KL15 is activated. The full load adaptation stop is 

learned in a new ECM the first time KL15 is recognized. 

The pre-drive check is conducted in 3 phases: 

• Phase 1: The throttle valves are closed by the EDR actuator. The position of the throttle 
potetiometer on the EDR is determined. 

• Phase 2: The throttle valves are opened 3% by the EDR actuator. The position of the 
throttle potentiometer on the throttle valve shaft is determined. 

• Phase 3: The throttle valves are opened by approx. 20%. The EDR actuator is switched 
off. The throttle valves are closed by spring force (a mechanical clicking sound can be 
heard while the throttle valves are closing). 


Post Drive Check 

• Post Drive Check: 10 seconds after KL15 is switched “OFF" the EDR actuator is 
opened 102% in order to carry out renewed full load adaptation. Adaptation during the 
post drive check is only carried out when the engine is turned off before reaching the 
operating temperature. 


17 

ST055 MS S54 Air Management 



EDR Safety Concept - Emergency Running Programs 

The safety concept of the throttle valve control system achieves a slow transition to an 
emergency running (limp-home) program that can still be managed by the driver. 

A basic differentiation is made between PWG emergency operation with a PWG sensor and 
PWG emergency operation without a PWG sensor. There is a total of 4 emergency opera¬ 
tion (limp-home) program stages. 

In the event of a PWG sensor failing, the system switches to a PWG emergency opera¬ 
tion characteristic curve with lower setpoints. "Engine Emergency Program" is indicated 
to the driver by the EML warning lamp in the instrument cluster. 


Stage 1 (Emergency Operation with a Throttle Position Sensor) 

The emergency program stage 1 includes limiting the torque and the EDR setpoint. Based 
on the current engine torque, the maximum torque is limited in the emergency operation 
stage. The EDR actuator is limited by reducing the pulse duty factor. The plausibility of the 
throttle position sensors are checked based on the load signal from the hot-film air mass 
meter. The measured air mass must not exceed a defined limit. This limit is above the value 
that can be achieved with the idle air actuator. 


Stage 2 (Emergency Operation via Idle Air Actuator) 

The transition to emergency program stage 2 greatly depends on the type of fault. For 
example, if there is a defect in EDR actuator operation, the throttle valves are sprung closed 
without ECM influence. 

In the event of implausible signals from the throttle position Hall sensors 1 and 2, immedi¬ 
ate deactivation of the EDR actuator may be necessary under certain circumstances. 

In cases where feedback of the actual position is still available and the set position can still 
be controlled, the ECM closes the throttle valves. The EDR actuator is then switched off 
and engine speed and road speed limitation activated. 


18 

ST055 MS S54 Air Management 



Stage 3 (Emergency Operation with Open Throttle Valves) 


The stage 3 emergency operation program is activated when the actual throttle position 
exceeds the set throttle position for a defined period of time despite power being applied 
to the EDR actuator, the throttle valves cannot be closed. The ECM reduces the amount of 
fuel injected (fade out) and retards the ignition timing to limit engine torque. If it is neces¬ 
sary to further reduce the torque, individual fuel injectors are deactivated one cylinder at the 
time. 


Stage 4 (Emergency Operation with Internal ECM Fault) 

The stage 4 emergency operation program is always activated when an internal ECM fault 
is detected. In this case, the characteristics of the throttle valve control (EDR) are not pre¬ 
dictable, therefore the ECM reduces the amount of fuel injected (fade out) and retards the 
ignition timing to limit engine torque. If it is necessary to further reduce the torque, individ¬ 
ual fuel injectors are deactivated one cylinder at the time. 


Emergency Operation Functions 

Engine torque limitation In the emergency programs stage 1 - 4 is restricted to a value 
specified by the emergency operation (limp-home) program. 


Stage 

Engine Speed RPM 

Road Speed km/h 

Torque Nm 

1 

7600 rpm 

240 km/h 

320 Nm 

2 

4000 rpm 

80 Km/H 

250 Nm 

3 

2750 rpm 

50 km/h 

200 Nm 

4 

2750 rpm 

50 km/h 

200 Nm 


00410009.eps 

In the relevant emergency programs, the MS S54 limits the engine characteristics to the 
values indicated in the table. In emergency programs 3 and 4, in addition to the engine 
emergency program being indicated in the instrument cluster (EML), all warning ele¬ 
ments in the tachometer are activated. 


19 

ST055 MS S54 Air Management 













The Hot-Film Air Mass Meter (HFM) varies voltage monitored by the ECM representing 
the measured amount of intake air volume. This input is used by the ECM to determine the 
amount of fuel to be injected. 

The heated surface of the hot-film in the intake air stream is regulated by the ECM to a con¬ 
stant temperature of 180° above ambient air temperature. The incoming air cools the film 
and the ECM monitors the changing resistance which affects current flow through the cir¬ 
cuit. The hot-film does not require a “clean burn”, it is self cleaning due to the high operat¬ 
ing temperature for normal operation. 

If this input is defective, a fault code will be set and the “ENGINE EMISSION” Light will illu¬ 
minate. The ECM will maintain engine operation based on the Throttle Position Sensors and 
Crankshaft Position/Engine Speed Sensor. 


The Air Temperature signal allows the ECM to make a calculation of air density. The vary¬ 
ing voltage input from the NTC sensor indicates the larger proportion of oxygen found in 
cold air, as compared to less oxygen found in warmer air. The ECM will adjust the amount 
of injected fuel because the quality of combustion depends on oxygen sensing ratio. 

The ignition timimg is also affected by air temperature. If the intake air is hot the ECM 
retards the base igniton timing to reduce the risk of detonation. If the intake air is cooler, 
the base ignition timing will be advanced. The ECM uses this input as a determining factor 
for Secondary Air Injection activation (covered in the Emissions section). 


The Suction Jet Pump is regulated by the ECM to provide sufficient vacuum for the brake 
booster under all operating conditions. The ECM controls the Suction Jet Pump Solenoid 
to allow vacuum flow through. 

The additional vacuum compensation is activated by the ECM when the idle air actuator is 
regulated for: 

• A/C compressor “on” 

• Vehicle in gear and the clutch is released (driving under load) 

• Engine in warm-up phase <70° C 

Additional vacuum compensation is applied to the brake booster when the circuit is “deac¬ 
tivated” (Solenoid sprung open). 

Vacuum enhancement is limited to the brake booster when the control circuit is “activated” 
(Solenoid powered closed). 


20 

ST055 MS S54 Air Management 



Workshop Hints 


Air Management 

Unmetered air leaks can be misleading when diagnosing faults causing “ENGINE EMIS¬ 
SION” Light/driveability complaints. Refer to S.l. # 11 03 92 (3500) for testing intake vacu¬ 
um leaks. 


Crankcase Ventilation System 

A fault in this system can often “mislead” diagnosis. This type of fault can produce: 

• Mixture/misfire defect codes 

• Whistling noises 

• Performance/driveability complaints 

Please refer to the following Service Information Bulletins for details on the Crankcase 
Ventilation System: 

• Crankcase Ventilation System Check S.l. #11 05 98 


Throttle Position Sensors - Testing 

The Throttle Position Sensors (potetiometers) can be tested with the following methods: 

• DIS Status Page (approx. 0.5v to 
4.5v) 


• DIS Oscilloscope - Select from the 
Preset Measurements which requires 
taking the measurement with the ECM 
and Universal Adapter connected to 
the circuit (as shown on the right). 

• Resistance check of the entire circuit, 
using the Universal Adapter with the 
ECM disconnected. 



21 

ST055 MS S54 Air Management 































































































Idle Air Actuator - Testing 


• The Idle Air Actuator and idle air cir¬ 
cuit (passage ways) should be 
checked for physical obstructions. 

• The resistance of the valve winding 
should be checked. 

• The ECM output and Idle Speed 
Control Valve operation can be tested 
by “Component Activation” on the 
DIS/MoDIC. 

• The Pulse Width Modulated ground 
output from the ECM can be tested 
using the DIS/MoDIC Oscilloscope. 



• Consult Technical Data for specified 
idle speed. 


22 

ST055 MS S54 Air Management 


































































































Tools and Equipment 


The DIS/Modic as well as a reputable hand held 
multimeter can be used when testing inputs/ 
components. 


It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 



The correct Universal Adapter for the MS S54 
application should be used (#90 88 6 121 300). 
This will ensure the pin connectors and the har¬ 
ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



F=1 


©©©©© 

©©©©© 

©©©0© 

©©© 0 © 

©©©©© 

© 


inn 


26 
PIN 
BOX 
88 88 6 611 459 



J=\ 


©©©©© 

©©©©© 

©©©©© 

©©©©© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 

13410063.eps 



The Slack Tube Manometer Test Tool (#99 00 0 
001 410) should be used to troubleshoot 
crankcase ventilation valves. 



12410010.bmp 


23 

ST055 MS S54 Air Management 




















































































































Fuel Management 



Fuel Tank: The fuel tank is made of 
high density polyethylene (reduced 
weight) which is manufactured to 
meet safety requirements. 

The baffling has been modified for the 
E46 M3 fuel pump pickup in the right 
hand side of the fuel tank to maintain 
fuel supply during aggressive corner¬ 
ing. 

A “saddle” type tank is used which 
provides a tunnel for the driveshaft but 
creates two separate low spots in the 
tank. 

A Syphon jet is required with this type 
of tank to transfer fuel from the left 
side, linked to the fuel return line. 

As fuel moves through the return, the 
siphon jet creates a low pressure (suc¬ 
tion) to pick up fuel from the left side 
of the tank and transfer it to the right 
side at the fuel pick up. 


Fiiol Rail 

Fuel Pressure 
Regulator 


Hump 



Transfer Pipe 




▲ 

Baffle 



OtfM 





24 

ST055 MS S54 Fuel Management 

























































































































Fuel Pump: The electric fuel pump supplies constant 
fuel volume to the injection system. This system uses a 
single submersible (in the fuel tank) high volume pump. 

The inlet is protected by a mesh screen. 

When the fuel pump is powered, the armature will 
rotate the impeller disc creating low pressure at the 
inlet. The fuel will be drawn into the inlet and passed 
through the fuel pump housing (around the armature). 

The fuel lubricates and cools the internals of the pump 
motor. 

The fuel will exit through a non-return check valve to 
supply the injection system. The non-return check 
valve is opened by fuel exiting the pump and will close 
when the pump is deactivated. This maintains a 
“prime” of fuel in the filter, lines, hoses and fuel rail. 

The pump contains an internal overpressure relief valve 
that will open (reducing roller cell pressure) if there is a 
restriction in the fuel supply hardware. 

Fuel Supply: The fuel is supplied through a 
Non Return Fuel Rail System. This system is 
used on the S54 for LEV compliancy. 

The fuel supply pressure is controlled by the 5 
Bar fuel pressure regulator integrated in the fuel 
filter assembly. The regulator is influenced by 
engine vacuum via a hose connected to the idle 
air distribution pipe. The fuel exits the fuel pres¬ 
sure regulator supplying the fuel rail and the 
injectors. The fuel filter assembly is located 
under the left front floor area (next to the frame ii4ioo45.tiff 
rail). 

The fuel return line is located on the filter/regu¬ 
lator assembly which directs the unused fuel 
back to the fuel tank. The fuel tank hydrocar¬ 
bons are reduced by returning the fuel from this 
point instead of from the fuel rail. 

11410045.tiff 







wm«E 

j.jw a ifF- 


13410085.eps 


25 

ST055 MS S54 Fuel Management 






Fuel Pressure Regulator: The Fuel Pressure Regula¬ 
tor maintains a constant “pressure differential" for the 
fuel injectors. 

The fuel pressure is set to 5.0 Bar (+/- 0.2) by internal 
spring tension on the restriction valve. 

The vacuum chamber is sealed off by a diaphragm 
which is connected by a hose to the idle air distribution 
pipe (vacuum). Intake manifold vacuum regulates the fuel 
pressure by assisting to compress the spring (lowering fuel 
pressure). 

When the restriction valve opens, unused fuel returns 
back to the fuel tank. 



13410000.bmp Mnnfol 


CUirn 


Examples of “pressure differential” are: 

• At low to part throttle, intake manifold vacuum is available at the tip of the fuel injectors 
to enhance fuel “flow through”. Vacuum is also applied to the fuel pressure regulator vac¬ 
uum chamber, causing the diaphragm to compress the spring which opens the restriction 
valve. This lowers the fuel pressure available to the fuel injectors. 

Vacuum Compresses Spring 
Opening Restriction Valve 
(Lowering Fuel Pressure) 



26 

ST055 MS S54 Fuel Management 


































































• Wide open throttle depletes intake manifold vacuum at the tip of the fuel injectors and 
in the fuel pressure regulator vacuum chamber. The spring closes the restriction valve 
to raise fuel pressure available to the fuel injectors. This maintains pressure differential 
(fuel flow through) for the fuel injectors. 



By maintaining constant Fuel Pressure Differential through vacuum sensing (engine load), 
the ECM can then regulate volume and mixture by the length of time the injectors are open 
(duration). 


The Fuel Pressure Regulator is mounted on the 
fuel filter assembly. 


1 . 

Vaccum Hose 

2. 

Retaining Ring 

3. 

5 Bar Fuel Pressure Regulator 


13410071-1.eps 



ST055 MS S54 Fuel Management 


27 




1 . 


Bosch Fuel Injectors (4 Hole Plate Type): The Fuel 
Injectors are electronically controlled solenoid valves 
that provide precisely metered and atomized fuel into 
the engine intake ports. The Fuel Injector Valve con¬ 
sists of: 


1 . 

Fuel Strainer 

2. 

Electronic Connector 

3. 

Solenoid Winding 

4. 

Closing Spring 

5. 

Plate Valve 

6. 

Outlet Oriface 

7. 

4 Hole Channeling 


Fuel is supplied from the fuel rail to the injector body. 
The fuel is channeled through the injector body to the 
plate valve and seat. 

Without electrical current, the plate valve is sprung 
closed against the seat. 

The Fuel Injectors receive voltage from the Fuel Injector 
Relay. The ECM activates current flow through the 
injector solenoid creating a magnetic field that pulls the 
plate valve “up” off of its seat. 



The pressurized fuel flows through the outlet ori- 
face into the channeling. The channel “fans out” 
the fuel spray into four angled spray patterns 
which helps to atomize the fuel. 

When the ECM deactivates current flow, the 
plate valve is sprung closed against the seat and 
fuel flow through the injector is stopped. 

The length of time that the ECM activates the 
injectors is very brief, the duration is in milli-sec- 
onds (ms). This affects the mount of fuel volume 
flowing through the Fuel Injectors. The ECM will 
vary the length of time (ms) to regulate the 
air/fuel ratio (mixture). 


i 



11410046.tiff 


1 . 

BMW Number 

2. 

Fuel Injector Code 

3. 

Mfg Date (week 06 year 2000) 

4. 

B+ Voltage Connection 


28 

ST055 MS S54 Fuel Management 
































































































The Fuel Injectors are mounted in rubber “o- 
rings” between the fuel rail and the intake mani¬ 
fold to insulate them from heat and vibration. 

This insulation also reduces the injector noise 
from being transmitted through the engine com¬ 
partment. 

The Fuel Injectors are held to the fuel rail by 
securing clips (arrow). 



13410002.bmp 


If a Fuel Injector is faulty (mechanical/electrical), it can produce the following complaints: 


1 . 

“Engine EMISSION” Light 

4. 

Excessive Tailpipe Smoke (leaking) 

2. 

Long Crank Time (Leaking) 

5. 

Misfire/Rough Idle (leaking/blocked) 

3. 

Oxygen Sensor/Mixture/Injector 
Related Fault Codes 

6. 

Engine Hydrolock (leaking) 


Crankshaft Position/RPM Sensor: This sensor provides the crankshaft position and 
engine speed (RPM) signal to the ECM for Fuel Pump and Injector operation. This is an 
inductive pulse type sensor mounted on the left side at the rear of the engine block. The 
impulse wheel is mounted on the crankshaft inside the crankcase, at the rear main bearing 
support. The impulse wheel contains 58 teeth with a gap of two missing teeth. The ECM 
provides the power supply to this component. 


The rotation of the impulse wheel generates an 
A/C voltage signal in the sensor where-by each 
tooth of the wheel produces one pulse. The 
ECM counts the pulses and determines engine 
rpm. 

The gap of two missing teeth provides a refer¬ 
ence point that the ECM recognizes as crank¬ 
shaft position. 

The crankshaft position sensor is monitored as 
part of OBD II requirements for Misfire Det¬ 
ection. 

29 

ST055 MS S54 Fuel Management 


CRANKSHAFT 

POSITION 

SENSOR 


13410070.eps 






















Camshaft Position Sensors (Hall Effect): The ECM uses the signal from the camshaft 
sensors to set up the triggering of the ignition coils, correct timing of fully sequential fuel 
injection, and VANOS operation. The ECM Relay supplies voltage to the Hall elements and 
the ECM supplies the ground. The power flow through the Hall elements is the basis for the 
sensosr output to the ECM. 


As the camshaft rotates, the leading edge of 
the impulse wheel approaches the sensor tip 
creating a magnetic field with the permanent 
magnet in the sensor. 

The attraction causes the magnetic field to 
penetrate through the Hall element. The mag¬ 
netic field affects the power flow in the element 
causing the input signal to go high. As the 
impulse wheel passes by the sensor, the signal 
goes low. 

The repetitive high/low creates a square wave 
signal that the ECM uses to recognize the 
camshaft position. 

The “active” Hall sensors supply a signal repre¬ 
sentative of camshaft position even before the 
engine is running. The ECM determines an 
approximate location of the camshaft position 
(high or low signal) prior to engine start up opti¬ 
mizing cold start injection (reduced emissions). 

An impulse wheel is mounted on the end of 
each camshaft for position detection. The intake 
camshaft impulse wheel has 6 lugs and the 
exhaust camshaft impulse wheel has 7 lugs. 
The sensors are mounted on each side at the 
back of the cylinder head. 

If the ECM detects a fault with this type of sen¬ 
sor (shown on the right), the “ENGINE EMIS¬ 
SION” Light will be illuminated and the system 
will maintain engine operation based on the 
Crankshaft Position/RPM Sensor. Torque reduc¬ 
tion will be noticed due to “default” VANOS 
position. 



DUAL CAMSHAFT 
POSITION SENSORS 


MSS54 


| | Print 

11 | | Change | | | |End | | Services | | 


H®ipj 


BMW Test system Oscilloscope display 



V 

• a ii" 


c 

—1| 


UNIQUE SIGNAL 
AS SEEN IN 
Measurement 
SYSTEM 
OSCILLOSCOPE 



ST055 MS S54 Fuel Management 
































































































































Engine Coolant Temperature: The Engine Coolant Temperature is provided to the ECM 
from a Negative Temperature Coefficient (NTC) type sensor. The ECM determines the cor¬ 
rect fuel mixture and base ignition timing required for the engine temperature. 

The dual sensor (ECM/Temp Gage) is located in 
the coolant return pipe (arrow). 

The sensor decreases in resistance as the tem¬ 
perature rises and vice versa. The ECM moni¬ 
tors an applied voltage to the sensor (5v). This 
voltage will vary (0-5v) as coolant temperature 
changes the resistance value. 


If the Coolant Temperature Sensor input is 
faulty, the “ENGINE EMISSION” Light will be illu¬ 
minated and the ECM will use the oil tempera¬ 
ture sensor as an alternate. 


Accelerator Pedal Position (PWG): 

As the accelerator pedal is actuated, the ECM 
will increase the volume of fuel injected into the 
engine. As the accelerator pedal is released, the 
ECM activates fuel shut off if the rpm is above 
idle speed (coasting). 


For details about the sensor, refer to the Air 
Management section. 




Hot-Film Air Mass Meter (HFM): The air vol¬ 
ume input signal is used by the ECM to deter¬ 
mine the amount of fuel to be injected for cor¬ 
rect air/fuel ratio. 

For details about the sensor, refer to the Air 
Management section. 


% 



ST055 MS S54 Fuel Management 

































































Air Temperature: This signal allows the ECM to make a calculation of air density. For 
details about the sensor, refer to the Air Management section. 

The varying voltage input from the NTC sensor indicates the larger proportion of oxygen 
found in cold air, as compared to less oxygen found in warmer air. The ECM will adjust 
the amount of injected fuel because the quality of combustion depends on oxygen sens¬ 
ing ratio. 

If a fault is present in this circuit, the ECM will operate on a substitute value. 


32 

ST055 MS S54 Fuel Management 



Principle of Operation 


Fuel Management delivers fuel from the tank to the intake ports of the engine. To accom¬ 
plish this, fuel supply must be available to the fuel injectors. Then the fuel must be inj¬ 
ected in the precise amount and at the correct time. The ECM does not directly monitor 
fuel supply, although it does control it. The ECM controls and monitors fuel injection. 



The Fuel Pump supplies fuel 
when it receives operating voltage 
from the Fuel Pump Module. The 
ECM Relay supplies voltage to the 
Fuel Pump Module (located in the 
trunk, above right wheel well). 

The ECM controls the activation of 
the fuel pump module. After the 
ignition is switched ON, the ECM 
provides voltage for the fuel pump 
module and the voltage is main¬ 
tained (pulse width modulated) 
with the presence of the engine 
speed signal. 



13410075.eps 


A new fuel pump is utilized to match the fuel supply demands of the S54 engine (5 Bar). 
The ECM will cycle the voltage signal (0-120 Hz) to the fuel pump module. The fuel pump 
module will cycle the voltage to the pump (to reduce the speed). The fuel pump will oper¬ 
ate at low speed during idle and part load. The pump will run at full speed during start-up 
(approx. 20 seconds) and full load. 


The power to the fuel pump relay will be switched off in the event of an airbag activation. 
The MRS III control module will signal the Engine control module over K-bus and CAN bus 
for this purpose. 


33 

ST055 MS S54 Fuel Management 

















































































The Fuel Injectors will be opened by the ECM to inject pressurized fuel into the intake 
ports. The ECM Relay supplies voltage to the Fuel Injector Relay, the Fuel Injector Relay 
supplies operating voltage to the injectors. The ECM controls the opening by activating the 
ground circuit for the Solenoid Windings. The ECM will vary the duration (in milli-seconds) 
of “opening” time to regulate the air/fuel ratio. 


The ECM has a Final Stage output transistor 
for each injector that switches ground to the 
injector solenoids. The Injector “triggering” is 
first established from the Crankshaft 
Position/RPM Sensor when KL15 is “on”. 

The ECM is programmed to activate the Final 
Stage output transistors once (per cylinder) 
for every working cycle of the engine (Full 
Sequential Injection). The ECM calculates the 
total milli-second time to open the injectors 
and triggers them independently. 

During start up, the ECM recognizes the 
Camshaft Position (Cylinder ID) inputs. The 
camshaft positions are referenced to the 
crankshaft position. This process “times” the 
injection closer to the intake valve opening 
(working cycle) for increased efficiency. 


Key 



Engine Speed Indicator 



Camshaft Sensor 


Camshaft Sensor 


12410006.eps 




When activated, each injector delivers the full 
fuel charge at separate times for each cylin¬ 
der working cycle. 

Cyl. 1 


The Camshaft Position input is monitored by cyl. 5 
the ECM during start up. There will be an 
effect on injector timing if this input is missing 
when the engine is started. c y'- 6 


Cyl. 3 


Cyl. 2 

When KL15 is switched “off”, the ECM dis- 

Cyl 4 

continues voltage to the Fuel Injector Relay 
and deactivates the Final Stage transistors to 
cease fuel injection. 


Full Sequential Injection Timing 



0° 180° 360° 540° 720° 


= FUEL INJECTED 


= INTAKE VALVE(S) OPEN 


13410077.eps 


34 

ST055 MS S54 Fuel Management 

















































































The Injector “open” Time to maintain engine operation after it has been started is det¬ 
ermined by the ECM (programming). The ECM will calculate the injector timing based on 
a combination of the following inputs: 


1. Battery Voltage 

2. Accelerator Pedal Sensor 

3. Air Flow Volume 

4. Air Temperature 

5. Crankshaft Postion / RPM 

6. Camshaft Postion 

(Cylinder ID) _ 

7. Engine Coolant Temperature 

8. Oxygen Sensor (details in 
Emissions Management) 



The injection ms value will be regulated based on battery voltage. When cranking, the volt¬ 
age is low and the ECM will increase the ms value to compensate for injector “lag time”. 
When the engine is running and the battery voltage is higher, the ECM will decrease the 
injection ms value due to faster injector reaction time. 

Cold starting requires additional fuel to compensate for poor mixture and the loss of fuel as 
it condenses onto cold intake ports, valves and cylinder walls. The cold start fuel quantity 
is determined by the ECM based on the Engine Coolant Temperature Sensor input during 
start up. 

During cranking, additional fuel is injected for the first few crankshaft revolutions. The ECM 
recognizes the Camshaft Positions and precisely times the Full Sequential Injection. After 
the first few crankshaft revolutions, the injected quantity is metered down as the engine 
comes up to speed. 

When the engine is cold, optimum fuel metering is not possible due to poor air/fuel mixing 
and an enriched mixture is required. The Coolant Temperature input allows the ECM to 
adjust the injection ms value to compensate during warm up and minimize the the inject¬ 
ed fuel at engine operating temperature. 


35 

ST055 MS S54 Fuel Management 


































































When the engine is at idle, minimum injection is required. Additional fuel will be added if the 
ECM observes low engine rpm and increasing throttle/air volume inputs (acceleration 
enrichment). As the accelerator pedal is actuated, the ECM monitors acceleration and rate 
of movement. The ECM will increase the volume of fuel injected into the engine by increas¬ 
ing the injection ms value. The “full throttle” position indicates maximum acceleration and 
the ECM will add more fuel (full load enrichment). 

As the accelerator pedal is released, the ECM decreases the injection ms value (fuel shut 
off) if the rpm is above idle speed (coasting). This feature decreases fuel consumption and 
lowers emissions. When the engine rpm approaches idle speed, the injection ms value is 
increased (cut-in) to prevent the engine from stalling. The cut-in rpm is dependent upon the 
engine temperature and the rate of deceleration. 

The HFM signal provides the measured amount of intake air volume. This input is used by 
the ECM to determine the amount of fuel to be injected to “balance” the air/fuel ratio. 

The Air Temperature Signal allows the ECM to make a calculation of air density. The vary¬ 
ing voltage input from the NTC sensor indicates the larger proportion of oxygen found in 
cold air, as compared to less oxygen found in warmer air. The ECM will adjust the amount 
of injected fuel because the quality of combustion depends on oxygen sensing ratio (details 
in Emissions). 

The Crankshaft Position/RPM signals the ECM to start injection as well as providing infor¬ 
mation about the engine operation. This input is used in combination with other inputs to 
determine engine load which increases/decreases the injection ms value. Without this in¬ 
put, the ECM will not activate the injectors. 

When KL15 is switched “off”, the ECM discontinues voltage to the Fuel Injector Relay and 
deactivates the Final Stage transistors to cease fuel injection. 


36 

ST055 MS S54 Fuel Management 



Injection “Reduction” Time is required to control fuel economy, emissions, engine and 
vehicle speed limitation. The ECM will “trim” back or deactivate the fuel injection as neces¬ 
sary while maintaining optimum engine operation. 



CLOSED 

THROTTLE 

POSITION 



13410078.eps 




As the throttle is closed during deceleration, the ECM decreases the injection ms value (fuel 
shut off) if the rpm is above idle speed (coasting). This feature decreases fuel consumption 
and lowers emissions. 


When the engine rpm approaches idle speed, the injection ms value is increased (cut-in) to 
prevent the engine from stalling. The cut-in rpm is dependent upon the engine temperature 
and the rate of deceleration. 


The ECM will deactivate the injectors to control maxi¬ 
mum engine rpm (regardless of vehicle speed). When 
the engine speed reaches 8000 rpm, the injectors will 
be deactvated to protect the engine from over-rev. As 
the engine speed drops below 8000 rpm, injector acti¬ 
vation will be resumed. This feature does not protect 
the engine from a forced over-rev such as improperly 
downshifting a manual transmission equipped vehicle 
(driver error). 

Maximum vehicle speed is limited by the ECM reduc¬ 
ing the injection ms value (regardless of engine rpm). 
This limitation is based on the vehicle dimensions, 
specifications and installed tires (speed rating). 



13410075. tiff 


37 

ST055 MS S54 Fuel Management 




















The ECM will also protect the Catalytic Converters by deactivating the injectors. 

If the ECM detects a fault in the ignition system or combustion (misfire detection), it will 
selectively deactivate the Final Stage output transistor for that cylinder. On the MS S54 sys¬ 
tem, the injectors have independent circuits. The injector will not open, preventing 
unburned fuel from entering the exhaust system. This will limit engine power, but protect 
the Catalytic Converters. The engine can still be operated on the remaining cylinders for 
“limp home” mode. 








38 

ST055 MS S54 Fuel Management 








































































Workshop Hints 

Before any service work is performed on any fuel system related component, 

always adhere to the following: 

• Observe relevent safety legislation pertaining to your area. 

• Ensure adequate ventilation 

• Use exhaust extraction system where applicable (alleviate fumes). 

• DO NOT OPERATE THE FUEL PUMP unless it is properly installed in the fuel tank 
and is submersed in the fuel (fuel lubricates the pump). 

• DO NOT SMOKE while performing fuel system repairs. 

• Always wear adequate protective clothing including eye protection. 

• Use caution when working around a HOT engine compartment. 

• BMW does not recommend any UNAUTHORIZED MODIFICATIONS to the fuel sys¬ 
tem. The fuel systems are designed to comply with strict federal safety and emissions 
regulations. In the concern of product liability, it is unauthorized to sell or perform modi¬ 
fications to customer vehicles, particularly in safety related areas. 

• Always consult the REPAIR INSTRUCTIONS on the specific model you are working 
on before attempting a repair. 


Fuel 

Fuel quality should always be considered when diagnosing a driveability complaint. The 
type of fuel, proper AKI rating, impurities and moisture are not factored by the ECM. 

Please refer to the Owner’s Manual and following Service Information Bulletins regarding 
fuel: 

• Gasoline Fuel Quality S.l. #13 01 88 (1564) • Gasoline Additive S.l. #13 04 88 (1591) 


39 

ST055 MS S54 Fuel Management 



Fuel Supply 

The fuel supply hardware should be visually inspected for damage that can affect pick- up, 
transfer, pressure and return. 

Please refer to the Repair Instructions and Service Information Bulletins details on fuel sup¬ 
ply hardware. 


Fuel Pump and Sending Unit Access 

All BMW vehicles have access plates to service 
the fuel pump and sending units without remov¬ 
ing the fuel tank. 

The access plates are located under the rear 
seat. 

The “saddle” type fuel tank (under rear seat) has 
two access plates. 



The passenger side allows access to the 
pump/sending unit. 

The driver side accesses the sending unit. 


fuel 


13410079.bmp 



40 

ST055 MS S54 Fuel Management 




Draining the Fuel Tank 

In order to remove the fuel tank it must be drained first 
to avoid fuel spills and handling excessive weight. In 
some cases depending on the fuel tank dimensions 
(vehicle specific), it is also necessary to drain the fuel 
tank to replace the sending units and/or fuel pump. 



CAUTION: In some vehicles, the sending units/fuel 
pump is mounted lower than the top of the fuel tank. 

A fuel spill will be encountered if the fuel is not drained. 

NOTE: Consult the BMW Service Workshop Equip¬ 
ment for the proper evacuation equipment. 

The saddle type tank requires an additional step to 
drain the fuel from the driver side. The evacuation 
equipment should be attached to the tank compensat¬ 
ing hose (arrow) to drain out the remaining fuel. 

Fuel Pump/Pressure Regulator - Testing 

The fuel pump should be tested for delivery pressure 
and volume. Caution when disconnecting fuel hoses 
because there is the possibility of residual fuel pressure! 
Install the fuel pressure gage at the pressure test point 
at the fuel filter. 

Remove the fuel pump relay (see relay testing in the 
power supply section) and connect the Relay Bypass 
Switch to the relay socket. This will activate the fuel 
pump without running the engine. 

If the 5 bar fuel pressure is not achieved or bleed off is 
more than 0.5 bar, refer to 13 31 of the Repair 
instructions for further diagnosis. 

The Fuel Hose Clamp Tool can be used to isolate bleed 
off from the pump (non-return check valve) or the pres¬ 
sure regulator (restriction valve). Also verify power sup¬ 
ply to the fuel pump. 




41 

ST055 MS S54 Fuel Management 




Fuel volume must be tested to verify: 


1. Fuel Pump Output 

2. Restriction are not present in the 
pump, lines/hoses and fuel filter. 



Fuel Injectors 


When inspecting the fuel injectors, consider the 
following: 


1 . 

O-rings should be replaced, lubricate 


with Vaseline or SAE 90 gear oil for 


installation. 


Verify the code number. 

3. 

Color code injector housing 




11410046.tiff 


Fuel injectors can leak which bleeds off fuel 
pressure and increases emissions. The injectors 
can be tested using the Fuel Injector Leakage 
Tester. 

The fuel injectors can be cleaned, refer to 
Service Information Bulletin S.l. #04 07 86. 



13410007.bmp 


42 

ST055 MS S54 Fuel Management 




















The Fuel Injectors should also be tested using the DIS/MoDIC for: 


1 . 

Resistance 

2. 

Power Supply 

3. 

Status Display- Fuel Injection Signal 

4. 

ECM Final Stage transistor activation. This 
test function is found under the 

Oscilloscope Preset list-”Ti Injection Signal” 
Install the 88 pin adapter, Diagnostic cable 
MFK 2 postive lead to the ground activation 
circuit for the injector. This test is 
performed with the engine running. 




MFK 2 
Negative 


MFK 2 


Positive 


13410093.eps 






































































































































































Crankshaft Position/RPM Sensor 


This sensor should be tested using the 
DIS/MoDIC for: 


1 . 

Power Supply 

2. 

AC Voltage 

3. 

Status Display 

4. 

Oscilloscope Display Found Under 


Preset List “Rotation Speed Sensor 


Signal” 


Camshaft Position Sensor (Cylinder ID) 

This sensor should be tested using the DIS/ 
MoDic for: 


1 . 

Power Supply 

2. 

DC Voltage 

3. 

Status Display 

4. 

Oscilloscope Display Found Under 
Preset List “Rotation 




Engine Coolant Temperature 

This Sensor should be tested using: 


1. DIS / Modic Status Page - Degrees 
C (dependent on engine tempera 
ture) 

2. DIS / Modic Multimeter - Resistance 



CONTROL 

MODULE 


12410012.eps 


44 

ST055 MS S54 Fuel Management 






































































































































































































































































































































































































Tools and Equipment 


The DIS/Modic as well as a reputable hand held 
multimeter can be used when testing inputs/ 
components. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 



The correct Universal Adapter for the MS S54 
application should be used (#90 88 6 121 300). 
This will ensure the pin connectors and the har¬ 
ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



F3 


©©so© 

©©©©© 

©©©©© 

©©©©© 

©©©©© 

® 


m ii— i 

nn 

g 

t? 

0 

z 

V 


26 
PIN 
BOX 
88 88 6 611 459 

1341QQ63 ftps 



J=l 


©©©©© 

©©©©© 

©©©©© 

©©©s© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 



The Fuel Hose Clamp Tool (#13 3 010) can be 
used for isolating pressure faults. In addition, 
fuel loss can be reduced when changing the fuel 
filter while losening clamps (1 and 2). 

The Relay Bypass Switch (#61 3 050) must be 
used especially when fuel vapors are pre¬ 
sent! The switch eliminates the risk of electrical 
arcing. 



45 

ST055 MS S54 Fuel Management 


























































































































When testing fuel pressure, the DIS is equipped 
with a pressure measuring function, found in 
Measurement testing can be used. 

A threaded fitting provides a test point at the fuel 
pressure regulator. This threaded adapter fitting 
allows Adapter #13 5 220 to be coupled to the 
DIS Pressure Adapter. 

Caution! Residual fuel pressure may be pre¬ 
sent. 



13410071-1 .eps 


When testing the fuel injectors for leakage, use 
Special Tool #88 88 5 000 362. Leak testing the 
fuel injectors is one of the diagnostic steps list¬ 
ed in “Long Cranking Times” S.l. #13 08 90 
(3096). 

This tool pressurizes the injectors with air and 
the injector tips are submersed in water. If air 
bubbles are present, this indicates the leaking 
injector(s). 



13410007.bmp 


46 

ST055 MS S54 Fuel Management 




Ignition Management 



Ignition Coils: The high voltage supply required to ignite the mixture in the combustion 
chambers is determined by the stored energy in the ignition coils. The stored energy con¬ 
tributes to the ignition duration, ignition current and rate of high voltage increase. The Coil 
circuit including primary and secondary components consists of: 



1 . 

Coil Assembly 

- Primary Winding 

- Secondary Winding 

2. 

Insulator Boot 

3. 

Spark Plug 

4. 

ECM Final Stage Transistor 

5. 

Secondary Coil Ground 


The Coil Assembly contains two copper windings insulated from each other. One winding 
is the primary winding, formed by a few turns of thick wire. The secondary winding is 
formed by a great many turns of thin wire. 

The primary winding receives battery voltage from the ECM Relay (Coil Terminal 15). The 
ECM provides a ground path for the primary coil (Coil Terminal 1) by activating a Final Stage 
transistor. The length of time that current flows through the primary winding is the “dwell” 
which allows the coil to “saturate” or build up a magnetic field. After this storage process, 
the ECM will interupt the primary circuit at the point of ignition by deactivating the Final 
Stage transistor. The magnetic field built up within the primary winding collapses and 
induces the ignition voltage in the secondary winding. 


47 

ST055 MS S54 Ignition Management 








































































































The high voltage generated in the secondary 
winding is discharged through Coil Terminal 4 
to the spark plug (insulated by the boot connec¬ 
tor). 

The primary and secondary windings are un¬ 
coupled, therefore, the secondary winding 
requies a ground supply (Coil Terminal 4a). 

There is an individual ignition circuit and coil for 
each cylinder on the MS S54 system. The S54 
uses “pencil type” ignition coils manufactured by 
Bremi. The six individual ignition coils are inte¬ 
grated with the insulated connector (boot). 

The coils are removed by lifting the swivel latch 
connector retainer to release the wiring harness, 
apply a slight twist and lift the assembly 
upwards. 

The primary ignition cables are routed on the top 
of the cylinder head cover. A suppression 
capacitor is installed on the secondary ignition 
ground circuit (arrow). 




11410047.tiff 



Spark Plugs: The spark plugs introduce the 
ignition energy into the combustion chamber. 
The high voltage “arcs” across the air gap in the 
spark plug from the positive electrode to the 
negative electrodes. This creates a spark which 
ignites the combustable air/fuel mixture. 

The spark plugs are located in the center of the 
combustion area (on the top of the cylinder 
head) which is the most suitable point for ignit¬ 
ing the compressed air/fuel mixture. 



The correct spark plugs for the S54 are NGK 
DCPR8EKP dual electrode (non-adjustable 
gap). 


13410009.bmp 


48 

ST055 MS S54 Ignition Management 









































Faults with the Ignition Output Components are monitored by the ECM. If there are 
faults with the igniton coil(s) output, and/or spark plugs, the following complaints could be 
encountered: 


1 . 

“ENGINE EMISSION” Light with Mixture Related and/or Misfire Fault Codes 

2. 

Poor Engine Performance 

3. 

Engine Misfire 

4. 

No Start/Hard Starting 

5. 

Excessive Exhaust Emission/Black Smoke 


The Ignition Ouput Components must be individually tested (see Workshop Hints). 


The primary ignition circuits are 
monitored by the ECM. 

If a fault is present, the “ENGINE 
EMISSION” Light will illuminate 
and the ECM will deactivate the 
corresponding fuel injector for that 
cylinder. Engine operation will still 
be possible. 

The secondary ignition is moni¬ 
tored by the ECM via the 
Crankshaft Position/RPM Sensor. 

If a Misfire fault is present, the 
“ENGINE EMISSION” Light will 
illuminate and the ECM will deac¬ 
tivate the corresponding fuel 
injector for that cylinder. Engine 
operation will still be possible. 



tj- 


O 


CRANKSHAFT 

POSITION 

SENSOR 


13410088.eps 



49 

ST055 MS S54 Ignition Management 




































































Knock Sensors: are required to prevent detonation (pinging) from damaging the engine. 
The Knock Sensor is a piezoelectric conductor-sound microphone. The ECM will retard the 
ignition timing (cylinder selective) based on the input of these sensors. Detonation can 
occur due to: 


1 . 

High Compression Ratio 

4. 

Maximum Timing Advance Curve 

2. 

Poor Quality Fuel (Octane Rating) 

5. 

High Intake Air and Engine Temperatures 

3. 

High Level of Cylinder Filling 

6. 

Carbon Build-Up (Combustion Chamber) 


The Knock Sensor consists of: 


1 . 

Shielded Wire 

2. 

Cup Spring 

3. 

Seismic Mass 


Housing 

5. 

Inner Sleeve 

6. 

Piezo-Ceramic Element 



13400010.bmp 


A piezo-ceramic ring is clamped between a seismic mass and the sensor body. When the 
seismic mass senses vibration (flexing), it exerts a force on the piezo-ceramic element. 
Opposed electrical charges build up on the upper and lower ceramic surfaces which gen¬ 
erates a voltage signal. The acoustic vibrations are converted into electrical signals. These 
low voltage signals are transmitted to the ECM for processing. 


There are three Knock Sensors bolted to the 
engine block between cylinders 1 & 2, 3 & 4 and 
5 &6. If the signal value exceeds the threshold, 
the ECM identifies the “knock” and retards the 
ignition timing for that cylinder. 


If a fault is detected with the sensor(s), the ECM 
deactivates Knock Control and the “ENGINE 
EMISSION” Light will be illuminated. The ignition 
timing will be set to a conservative basic setting 
based on intake air temperature and a fault will 
be stored. 


13410078.bmp 



50 

ST055 MS S54 Ignition Management 














Crankshaft Position/RPM Sensor: This sen¬ 
sor provides the crankshaft position and engine 
speed (RPM) signal to the ECM for ignition acti¬ 
vation and correct timing. This input is also 
monitored for Misfire Detection. For details 
about the sensor, refer to the Fuel Management 
section. 

A fault with this input will produce the following 
complaints: 


1 . 

No Start 

2. 

Intermittent Misfire/Driveability 

3. 

Engine Stalling 



Camshaft Position Sensor (Cylinder 
Identification): The camshaft sensors (Hall 
type) inputs allows the ECM to determine 
camshaft positions in relation to crankshaft 
position. It is used by the ECM to establish the 
“working cycle” of the engine for precise ignition 
timing. For details about the sensor, refer to the 
Fuel Management section. 

If the ECM detects a fault with the Camshaft 
Sensors, the “ENGINE EMISSION” Light will be 
illuminated and the ignition will still operate 
based on the Crankshaft Position/RPM Sensor. 



Engine Coolant Temperature: The ECM 

determines the correct ignition timing required 
for the engine temperature. For details about 
the sensor, refer to the Fuel Management sec¬ 
tion. This sensor is located in the coolant return 
pipe on the cylinder head (1). 

If the Coolant Temperature Sensor input is 
faulty, the “ENGINE EMISSION” Light will be illu¬ 
minated and the ECM will use the oil tempera¬ 
ture sensor as an alternate. The ignition timing 
will be set to a conservative basic setting. 



51 

ST055 MS S54 Ignition Management 














































































































































Accelerator Pedal Position (PWG): As the 

accelerator pedal is actuated, the ECM will 
advance the ignition tinning. The “full throttle” 
position indicates maximum acceleration to the 
ECM, the ignition will be advanced for maximum 
torque. 

For details about the sensor, refer to the Air 
Management section. 



Hot-Film Air Mass Meter (HFM): The air vol¬ 
ume input signal is used by the ECM to deter¬ 
mine the amount of ignition timing advance. 

For details about the sensor, refer to the Air 
Management section. 



13410070.jpg 






Air Temperature: This signal allows the ECM to make a calculation of air density. The sen¬ 
sor is located in the HFM. For details about the sensor, refer to the Air Management sec¬ 
tion. 

The ECM will adjust the ignition timing based on air temperature. If the intake air is hot the 
ECM retards the igniton timing to reduce the risk of detonation. If the intake air is cooler, the 
ignition timing will be advanced. 

If this input is defective, a fault code will be set and the “ENGINE EMISSION” Light will illu¬ 
minate. The ignition timing will be set to a conservative basic setting. 


52 

ST055 MS S54 Ignition Management 



























































Principle of Operation 

Ignition Management provides ignition to the combustion chambers with the required volt¬ 
age at the correct time. Based on the combination of inputs, the ECM calculates and con¬ 
trols the ignition timing and secondary output voltage by regulating the activation and 
dwell of the primary ignition circuit. The ECM controls and monitors the primary ignition 
circuit as well as the secondary ignition output (Misfire Detection). 


IGNITION COILS CONTROL W 

ex I 


The ECM has a very “broad” range of ignition timing. This is possible by using a Direct 
Ignition System, or sometimes refered to as “Static Ignition System” (RZV). Reliability is also 
increased by having separate individual ignition cicuits. 

The Ignition Control is determined by the ECM (load dependant). The ECM will calculate 
the engine “load” based on a combination of the following inputs: 


12410013.eps 


CAMSHAFT 

POSITION 

SENSORS 

w 



KNOCK 

SENSORS 


3X 


AIR MASS SIGNAL 
AIR TEMP SIGNAL 


repRi 


=d=:/j 


6X 

THROTTLE 

POSITION 




ENGINE COOLANT 
TEMPERATURE 



CRANKSHAFT 
POSITION 
SENSOR 


IGNITION 

MANAGEMENT 


1. Battery Voltage 

4. Accelerator Pedal Position 

7. Knock Sensor 

2. Air Temperature 

5. Engine Coolant 

8. Air Flow Volume 

3. Camshaft Position 
(Cylinder ID) 

6. Crankshaft Postion/RPM 



The dwell time will be regulated based on battery voltage. When cranking, the voltage is 
low and the ECM will increase the dwell to compensate for saturation “lag time”. When the 
engine is running and the battery voltage is higher, the ECM will decrease the dwell due to 
a faster saturation time. 

The Crankshaft Position/RPM signals the ECM to start ignition in firing order (1 -5-3-6-2-4) 
as well as providing information about the engine operation. This input is used in combina¬ 
tion with other inputs to determine engine load which advances/retards the ignition timing. 
Without this input, the ECM will not activate the ignition. 


53 

ST055 MS S54 Ignition Management 
















































Cold start is determined by the ECM based on the engine coolant temperature and rpm 
during start up. A cold engine will crank over slower than a warm engine, the ignition tim¬ 
ing will range between top dead center to slightly retarded providing optimum starting. 

When starting a warm engine, the rpm is higher which results in slightly advanced timing. 
If the engine coolant and intake air temperature is hot, the ignition timing will not be ad¬ 
vanced reducing starter motor “load”. 

During cranking, the ECM recognizes the Camshaft Position (compression stroke) and acti¬ 
vates a single ignition per cylinder. The ignition timing will be progressively advanced assist¬ 
ing the engine in coming up to speed. 

As the engine speed approaches 
idle rpm, the timing remains 
sligh-tly advanced to boost 
torque. 


When the engine is at idle speed, 
minimum timing advance is re¬ 
quired. This will allow faster 
engine and catalyst warm up. 


The timing will be advanced 
when the ECM observes low 
engine rpm and increasing accel¬ 
erator/air volume inputs (acceler¬ 
ation torque). As the throttle is 
opened, the ECM advances the 
timing based on engine accelera¬ 
tion and at what rate. The ECM 
will fully advance timing for the 
“full throttle” position indicating 
maximum acceleration (torque). 

The Air Flow Volume signal provides the measured amount of intake air volume. This input 
is used by the ECM to determine the amount of timing advance to properly combust the 
air/fuel mixture. 

The Air Temperature Signal assists the ECM in reducing the risk of detonation (ping). If the 
intake air is hot the ECM retards the igniton timing. If the intake air is cooler, the ignition tim¬ 
ing will be advanced. 



54 

ST055 MS S54 Ignition Management 





















































As the throttle is closed, the ECM decreases the ignition tinning if the rpm is above idle 
speed (coasting). This feature lowers the engine torque for deceleration. When the engine 
rpm approaches idle speed, the timing is slightly advanced to prevent the engine from 
stalling. The amount of advance is dependent upon the engine temperature and the rate of 
deceleration. 


EMISSION OPTIMIZED - IGNITION KEY OFF 

“Emission Optimized Ignition Key Off” is a programmed feature of the MS 54 ECM. After 
the ECM detects KL 15 is switched “off”, the ignition stays active (ECM Relay/voltage sup¬ 
ply) for two more individual coil firings. This means that just two cylinders are fired - not two 
revolutions. 

This feature allows residual fuel injected into the cylinders, as the ignition key is switched 
off, to be combusted as the engine runs down. 


EMISSION OPTIMIZED IGNITION KEYOFF 

M52 LEV 


Start 


Start 


13410009.eps 


key off 


S54 

RPM 

INJECTION 

IGNITION 


key off 


j p 

Rfl I 


RPM 




INJECTION 

Already injected fuel 


before “key off” 

IGNITION 


• - 

-► 


g 

1 


)■ 

I™ ■■■■ 

^ . c y" ..— ■*— T|* B " B 


" - 




12410004.eps 


ignition off 


When KL15 is switched “off” the ECM operating 
voltage is removed. The ECM will maintain a 
ground to the Engine Control Module Relay for a 
few seconds to maintain ignition coil activation. 



i i 


EU LIB Llfc UllikflLUbl 


J» 


12410002.eps 



55 

ST055 MS S54 Ignition Management 





Knock Control 


The use of Knock Control allows the ECM to further advance the ignition timing under load 
for increased torque. This system uses three Knock Sensors located between cylinders 1 
& 2, cylinders 3 & 4 and cylinders 5 & 6. 

Knock Control is only in affect when the engine temperature is greater than 35 °C and there 
is a load on the engine. This will disregard false signals while idling or from a cold engine. 

Based on the firing order, the ECM monitors the Knock Sensors after each ignition for a 
normal (low) signal. 

If the signal value exceeds the threshold, the ECM identifies the “knock” and retards the 
ignition timing (3°) for that cylinder the next time it is fired. 

This process is repeated in 3° increments until the knock ceases. The ignition timing will be 
advanced again in increments right up to the knock limit and maintain the timing at that 
point. 

If a fault is detected with the Knock Sensor(s) or circuits, the ECM deactivates Knock 
Control. The “ENGINE EMISSION” Light will be illuminated, the ignition timing will be set to 
a conservative basic setting (to reduce the risk of detonation) and a fault will be stored. 



13410082.jpg 


56 

ST055 MS S54 Ignition Management 




Workshop Hints 

Before any service work is performed on any ignition system related component, 
always adhere to the following: 

• Observe relevent safety legislation pertaining to your area. 

• Always wear adequate protective clothing including eye protection. 

• Use caution when working around a HOT engine compartment. 

• Always consult the REPAIR INSTRUCTIONS on the specific model you are working 
on before attempting a repair. 

• Always switch off the ignition (KL15) before working on the ignition system. 

• Use only BMW approved test leads. 

• Never touch components conducting current with the engine running! 

• Do not connect suppression devices or a “test light” to terminal 1 of the ignition coils. 

• Terminal 1 of the ignition coil must not be connected to Ground or B+. 

• Never run the engine with a secondary igniton component disconnected. 

HIGH VOLTAGE - DANGER! 

Caution! Hazardous voltages occur at: 

• Ignition Leads 

• Spark Plug Connector 

• Spark Plug 

• Ignition Coil (High Voltage at terminal 4 is approximately 30 KV) 

• Terminal 1 from the ignition coil to the ECM (High Voltage approximately 350 V) 


57 

ST055 MS S54 Ignition Management 




Ignition System Diagnosis 


A fault survey should first be performed using the DIS/MoDIC to determine if there is a fault 
in the primary ignition or secondary ignition. 

If there is a fault in the primary ignition, testing should include: 

• Power Supply at the Coil (KL15) 

• Reistance of the harness and ignition coil primary winding (terminal 15 to 1 approx. 0.8 
ohms) - using the 134 Pin Adapter Set with the ECM disconnected. 


A. 

ECM Primary Circuit Final Stage Transistor 

B. 

Ignition Coil (one of four) 

C. 

Secondary Coil Ground 


• ECM Final Stage transistor activation. This 
test function is found under the Oscilloscope 
Preset list - “Ignition Signal Primary” (normal 
Terminal 1 Signal shown on the right). 

Install the 134 Pin Adapter Set, Diagnostic 
cable, MFK 2 negative lead to ECM ground 
and MFK 2 positive lead to the ground activa¬ 
tion circuit for Terminal 1 of the ignition coil. 
This test is performed with the engine running. 




58 

ST055 MS S54 Ignition Management 







































If there is a fault in the secondary ignition, testing should include: 

• Primary Ignition • Evaluation of Secondary Oscilloscope Patterns 

The Repair Instructions should be consulted for additional Oscilloscope Patterns under 
various engine speeds. 

In Summary, 

If the Secondary Ignition Voltage is Too High (Excessive Resistance for Ignition): 

• Spark Plug Gap is to Large (Worn or Burned) 

• Incorrect Heat Range Spark Plug 

• Compression is too High (Carbon, etc.) 

• Lean Mixture (Vacuum Leak, etc.) 

• Interruption in the Secondary Ignition Cable, Connector, or Resistive Adapter Boot 

If the Secondary Ignition Voltage is Too Low (Low Resistance for Ignition): 

• Spark Plug Gap is Too Small (Mishandled on Installation) 

• Incorrect Heat Range Spark Plug 

• Compression is Too Low 

• Voltage Leak in the Secondary Ignition Cable, Connector, or Resistive Boot to Ground 

Spark Plugs 

The Spark Plugs should be inspected for the proper type, gap and replaced at the speci¬ 
fied intervals. 

Refer to the Service Information Bulletin S.l. #12 01 99 for the proper type and a visual of 
the spark plug (showing effects of combustion, fouling, etc.) 

59 

ST055 MS S54 Ignition Management 



Knock Sensors 

The Knock Sensors should be tested using the 
DIS/MoDIC for: 


1 . 

Fault Codes 

2. 

Status Display 


-Knock Control (active/not active) 

3. 

Oscilloscope Display 


(Low DC Voltage-mV Setting) 


When installing Knock Sensors: 



12410015.eps 


DO NOT MIX THE CONNECTORS: Engine Damage will result! - the connector is critical 
to sensor location. 

Do Not Over Tighten attaching bolt! - Piezo ceramic will be cracked. Torque to 20 nm. 

Do Not Under Tighten attaching bolt, a loose sensor can vibrate producing a similar sig¬ 
nal to a knock. 


60 

ST055 MS S54 Ignition Management 








Tools and Equipment 


The DIS/Modic as well as a reputable hand held 
multimeter can be used when testing inputs/ 
components. It is best to make the checks at 
the ECM connection, this method includes test¬ 
ing the wiring harness. 


The correct Universal Adapter for the MS S54 
application should be used (#90 88 6 121 300). 
This will ensure the pin connectors and the har¬ 
ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


When Testing the Secondary Ignition System, 
use the High Tenision clip of the DIS. Refer to 
the HELP button for additional (on screen) con¬ 
nections. 





Caution! Observe Safety Precautions, High 
Voltage is Present with the Engine Running 

The Spark Plugs should be properly installed 
and torqued using the following Special Tools: 

• 12 1 200 Torque Adapter (prevents 
over tightening) 

• 12 1 171 Spark Plug Socket 



NOTE: NEVER USE AIR TOOLS FOR 
REMOVAL OR INSTALLATION! 


61 

ST055 MS S54 Ignition Management 

























































































































Emissions Management 


Evaporative Emissions: The 

control of the evaporative fuel 
vapors (Hydrocarbons) from the 
fuel tank is important for the over¬ 
all reduction in vehicle emissions. 

The evaporative system has been 
combined with the ventilation of 
the fuel tank, which allows the 
tank to breath (equalization). The 
overall operation provides: 

• An inlet vent, to an otherwise 
"sealed" fuel tank, for the entry 
of air to replace the fuel con¬ 
sumed during engine operation. 


VAPORS TO EVAPORATIVE 
EMISSION VALVE 



• An outlet vent with a storage canister to "trap and hold" fuel vapors that are produced by 
the expansion/evaporation of fuel in the tank, when the vehicle is stationary. 

The canister is then "purged" using the engine vacuum to draw the fuel vapors into the 
combustion chamber. This "cleans" the canister allowing for additional storage. Like any 
other form of combustible fuel, the introduction of these vapors on a running engine must 
be controlled. The ECM controls the Evaporative Emission Valve which regulates purging of 
evaporative vapors. 

ON-BOARD REFUELING VAPOR RECOVERY (ORVR) 

The ORVR system recovers and stores hydrocarbon fuel vapor that was previously released 
during refueling. Non ORVR vehicles vent fuel vapors from the tank venting line back to the 
filler neck and in many states reclaimed by a vacuum receiver on the filling station’s fuel 
pump nozzle. 

When refueling, the pressure of the fuel entering the tank forces the hydrocarbon vapors 
through the tank vent line to the liquid/ vapor separator, through the rollover valve and into 
the charcoal canister. 

The HC is stored in the charcoal canister, and the system can then “breath” through the DM 
TL and the air filter. 


62 

ST055 MS S54 Emissions Management 

































































Liquid/Vapor Separator: Fuel vapors are routed from 
the fuel tank filler neck through a hose to the 
Liquid/Vapor Separator (located in the right rear wheel 
well behind the trim). 

The vapors cool when exiting the fuel tank, the con¬ 
densates separate and drain back to the fuel tank 
through a return hose (1). The remaining vapors exit the 
Liquid/ Vapor Separator to the Active Carbon Canister. 



Active Carbon Cannister: As the fuel vapors enter 
the canister, they will be absorbed by the active car¬ 
bon. The remaining air will be vented to the atmosphere 
through the end of the canister (passing through the 
DMTL and filter) allowing the fuel tank to “breath”. 

When the engine is running, the canister is then 
"purged" using intake manifold vacuum to draw fresh 
air through the canister which extracts the hydrocarbon 
vapors into the combustion chamber. This cleans the 
canister for additional storage. The Active Carbon 
Canister is located under the luggage compartment 
floor with the DM TL Pump. 


Evaporative Emission Valve: This ECM controlled 
solenoid valve (located under the intake manifold) reg¬ 
ulates the purge flow from the Active Carbon Canister 
through the idle air distribution pipe into the intake 
manifold . 


Active Carbon Canister 


Evaporative 

Emission 

Valve 



Liquid/Vapor 

1 341 001 47.6pS Separator 



FROM EVAPORATIVE 
EMISSION CANISTER 


The ECM Relay provides operating voltage, and the 
ECM controls the valve by regulating the ground circuit. 
The valve is powered open and closed by an internal 
spring. 

If the Evaporative Emission Valve circuit is defective, a 



fault code will be set and the “ENGINE EMISSION” 



MS S54 



Evaporative 

Emission 

Valve 


ECM RELAY 



Light will be illuminated. If the valve is “mechanically” [ | 
defective, a driveability complaint could be encoun- 134100100.eps 
tered and a mixture related fault code will be set. 


63 

ST055 MS S54 Emissions Management 
















































































































































































































































































































































































































































































































































































































































DMTL (Diagnosis Module - Evaporative Leakage 
Detection): This component ensures accurate fuel 
system leak detection for leaks as small as 1.0 mm 
(.040”) by slightly pressurizing the fuel tank and evapo¬ 
rative components. The DM TL pump contains an inte¬ 
gral DC motor which is activated directly by the ECM. 
The ECM monitors the pump motor operating current 
as the measurement for detecting leaks. 

The pump also contains an ECM controlled change 
over valve that is energized closed during a Leak 
Diagnosis test. The change over valve is open during all 
other periods of operation allowing the fuel system to 
“breath” through the inlet filter. The DM TL is located 
under the luggage compartment floor with the Active 
Carbon Cannister. 


1. In its inactive state, filtered fresh air enters the evap¬ 
orative system through the sprung open valve of the 
DM TL. 

2. When the DME activates the DM TL for leak testing, 
it first activates only the pump motor. This pumps air 
through a restricter orifice (1.0 mm) which causes 
the electric motor to draw a specific amperage 
value. This value is equivalent to the size of the 
restricter. 

3. The solenoid valve is then energized which seals the 
evaporative system and directs the pump output to 
pressurize the evaporative system. 


• A large leak is detected in the evaporative system if 
the amperage value is not achieved. 

• A small leak is detected if the same reference amper 
age is achieved. 

• The system is sealed if the amperage value is higher 
than the reference amperage. 



FRESH 
AIR INLET 



DM-TL 


(Diagnostic Module - 
Tank Leak detection) 


V V V 


ECM 

MAIN 

RELAY 




1 


13410088.eps 




ji 


iHEID 


n 


i_ 

■(Q "(Q 


REFERENCE 




CUR 

MON 

RENT 

ITOR 



©v 


'® 



64 

ST055 MS S54 Emissions Management 























































































































































































































































Exhaust Emissions: The com¬ 
bustion process of a gasoline 
powered engine produces Car¬ 
bon Monoxide (CO), Hydrocar¬ 
bons (HC) and Oxides of Nitrogen 
(NOx). 

• Carbon Monoxide is a product 
of incomplete combustion un¬ 
der conditions of air deficiency. 
CO emissions are strongly de¬ 
pendent on the air/fuel ratio. 

• Hydrocarbons are also a prod¬ 
uct of incomplete combustion 
which results in unburned fuel. 
HC emissions are dependent on 
air/fuel ratio and the ignition of 
the mixture. 



134100103-1 .eps 


• Oxides of Nitrogen are a product of peak combustion temperature (and temperature 
duration). NOx emissions are dependent on internal cylinder temperatures affected by 
the air/fuel ratio and ignition of the mixture. 


Control of exhaust emissions is accomplished by the engine and engine management 
design as well as after-treatment. 

• The ECM manages exhaust emissions by controling the air/fuel ratio and ignition. 

• The ECM controlled Secondary Air Injection further dilutes exhaust emissions leaving 
the engine and reduces the catalyst warm up time. 

• The Catalytic Converter further reduces exhaust emissions leaving the engine. 


Bosch LSH 25 Oxygen Sensors: The pre-cat 
oxygen sensors (1) measure the residual oxygen 
content of the exhaust gas. The sensors pro¬ 
duces a low voltage (0-1000 mV) proportional to 
the oxygen content that allows the ECM to 
monitor the air/fuel ratio. 

If necessary, the ECM will “correct” the air/fuel 
ratio by regulating the ms injection time. The 
sensor is mounted in the hot exhaust stream 
directly in front of the catalytic converter. 



65 

ST055 MS S54 Emissions Management 























































Ambient Air 



Exhaust 

Stream 


12410005.bmp 


1. Electrode (+) 

7. External Body (Ventilated) 

2. Electrode (-) 

8. Contact Spring 

3. Porous Ceramic Coating (encasing electrolyte) 

9. Vent Opening 

4. Protective Metal Cage (Ventilated) 

10. Output Lead 

5. Casing 

11. Insulator 

6. Contact Sleeve 

12. Exhaust Pipe Wall 


The “tip” of the sensor contains a microporous platinum coating (electrodes) which conduct 
current. The platinum electrodes are separated by solid electrolyte which conducts oxygen 
ions. 

The platinum conductors are covered with a highly porous ceramic coating and the entire 
tip is encased in a ventilated metal “cage”. This assembly is submersed in the exhaust 
stream. The sensor body (external) has a small vent opening in the housing that allows 
ambient air to enter the inside of the tip. 

The ambient air contains a constant level of oxygen content (21 %) and the exhaust stream 
has a much lower oxygen content. The oxygen ions (which contain small electrical charges) 
are “purged” through the solid electrolyte by the hot exhaust gas flow. The electrical 
charges (low voltage) are conducted by the platinum electrodes to the sensor signal wire 
that is monitored by the ECM. 


66 

ST055 MS S54 Emissions Management 
















If the exhaust has a lower oxygen content (rich mixture), there will be a large ion “migration” 
through the sensor generating a higher voltage (950 mV). 


If the exhaust has a higher oxygen content (lean mixture), there will be a small ion “migra¬ 
tion” through the sensor generating a lower voltage (080 mV). 


This voltage signal is constantly changing due to 
combustion variations and normal exhaust pul¬ 
sations. 

The ECM monitors the length of time the sen¬ 
sors are operating in the lean, rich and rest con¬ 
ditions. The evaluation period of the sensors is 
over a predefined number of oscillation cycles. 


s 

2 

£ 



13410092.eps 


This conductivity is efficient when the oxygen 
sensor is hot (250° - 300° C). For this reason, 
the sensor contains a heating element. This 
“heated” sensor reduces warm up time, and 
retains the heat during low engine speed when 
the exhaust temperature is cooler. 



67 

ST055 MS S54 Emissions Management 















































































































Catalytic Converter Monitoring: The efficiency of catalyst operation is determined by 
evaluating the oxygen storage capability of the catalytic converters using the pre and post 
oxygen sensor signals. 

A properly operating catalyst consumes or stores most of the 02 (oxygen) that is present 
in the exhaust gas (input to catalyst). The gases that flow into the catalyst are converted 
from CO, HC and NOx to C02, H20 and N2 respectively. 

In order to determine if the catalysts are working 
correctly, post catalyst oxygen sensors (2) are 
installed to monitor exhaust gas content exiting 
the catalysts. 

The signal of the post cat. 02 sensor is evaluat¬ 
ed over the course of several pre cat. 02 sensor 
oscillations. During the evaluation period, the 
signal of the post cat. sensor must remain with¬ 
in a relatively constant voltage range (700 - 800 
mV). 


The post cat. 02 voltage remains high with a 
very slight fluctuation. This indicates a further 
lack of oxygen when compared to the pre cat. 
sensor. If this signal decreased in voltage and/or 
increased in fluctuation, a fault code will be set 
for Catalyst Efficiency and the “ENGINE EMIS¬ 
SION” Light will illuminate. 

Secondary Air Injection: In order to reduce 
HC and CO emissions during engine warm up, 
an electric Air Pump (2) and Air Injection Valve (1) 
direct fresh air through an internal channel in the 
cylinder head into the exhaust ports. The Air 
Injection Valve is opened by air pressure and 
closed by an internal spring. 

Secondary Air injection also provides: 

• Reduction in catalyst warm-up time 

• Accelerated hydrocarbon Oxidation 





TIME 

134100104.eps 


68 

ST055 MS S54 Emissions Management 















Misfire Detection: As part of the OBD II regulations the ECM must determine misfire and 
also identify the specific cylinder(s), the severity of the misfire and whether it is emissions 
relevant or catalyst damaging based on monitoring crankshaft acceleration. 

In order to accomplish these tasks the ECM monitors the crankshaft for acceleration by the 
impulse wheel segments of cylinder specific firing order. The misfire/engine roughness cal¬ 
culation is derived from the differences in the period duration of individual increment gear 
segments. 


Each segment period consist of 
an angular range of 90° crank 
angle that starts 54° before Top 
Dead Center. 

If the expected period duration 
is greater than the permissible 
value a misfire fault for the partic¬ 
ular cylinder is stored in the fault 
memory of the ECM. 

Depending on the level of misfire 
rate measured the ECM will illu¬ 
minate the "ENGINE EMISSION" 
light, deactivate the specific fuel 
injector to the particular cylinder 
and switch lambda operation to 
open-loop. 


CRANKSHAFT 

POSITION 

SENSOR 



134100101 .eps 




\k _ 

n 

r 

1 

MSS54 


J 


j 


In order to eliminate misfire faults that can occur as a result of varying flywheel tolerances 
(manufacturing process) an internal adaptation of the flywheel is made. The adaptation is 
made during periods of decel fuel cut-off in order to avoid any rotational irregularities which 
the engine can cause during combustion. This adaptation is used to correct segment dura¬ 
tion periods prior to evaluation for a misfire event. 

If the sensor wheel adaptation has not been completed the misfire thresholds are limited to 
engine speed dependent values only and misfire detection is less sensitive. The crankshaft 
sensor adaptation is stored internally and is not displayed via DIS or MoDIC. If the adapta¬ 
tion limit is exceeded a fault will be set. 


69 

ST055 MS S54 Emissions Management 














Principle of Operation 


Emissions Management controls evaporative and exhaust emissions. The ECM monitors 
the fuel storage system for evaporative leakage and controls the purging of evaporative 
fuel. The ECM monitors and controls the exhaust emissions by regulating the com- 
bustable mixture and after treating by injecting fresh air into the exhaust system. The 
catalytic converter further breaks down remaining combustable exhaust gases and is mon¬ 
itored by the ECM for catalyst efficiency. 



The Evaporative Leakage Detection is performed on the fuel storage system by the DM 
TL pump which contains an integral DC motor that is activated by the ECM. The ECM mon¬ 
itors the pump motor operating current as the measurement for detecting leaks. 

The pump also contains an ECM controlled change over valve that is energized closed dur¬ 
ing a Leak Diagnosis test. The ECM only initiates a leak diagnosis test every second time 
the criteria are met. The criteria is as follows: 

• Engine OFF with ignition switched OFF. 

• ECM still in active state or what is known as “follow up mode” (ECM Relay energized, 
ECM and components online for extended period after key off). 

• Prior to Engine/Ignition switch OFF condition, vehicle must have been driven for a min¬ 
imum of 20 minutes. 

• Prior to minimum 20 minute drive, the vehicle must have been OFF for a minimum of 5 
hours. 


70 

ST055 MS S54 Emissions Management 































































• Fuel Tank Capacity must be between 15 and 85% (safe approximation between 1/4 - 
3/4 of a tank). 

• Ambient Air Temperature between -7°C & 35°C (20°F & 95°F) 

• Altitude < 2500m (8,202 feet). 

• Battery Voltage between 11.5 and 14.5 Volts 

When these criteria are satisfied every second time, the ECM will start the Fuel System 
Leak Diagnosis Test. The test will typically be carried out once a day ie:, once after driving 
to work in the morning, when driving home in the evening, the criteria are once again met 
but the test is not initiated. The following morning, the test will run again. 


PHASE 1 - REFERENCE MEASUREMENT 

The ECM activates the pump motor. The pump pulls air from the filtered air inlet and pass¬ 
es it through a precise 1.0 mm reference orifice in the pump assembly. 

The ECM simultaneously monitors the pump motor current flow. The motor current raises 
quickly and levels off (stabilizes) due to the orifice restriction. The ECM stores the stabilized 
amperage value in memory. The stored amperage value is the electrical equivalent of a 1.0 
mm (0.040”) leak. 


PHASE 2 - LEAK DETECTION 

The ECM energizes the Change Over Valve allowing the pressurized air to enter the fuel 
system through the Charcoal Canister. The ECM monitors the current flow and compares 
it with the stored reference measurement over a duration of time. 

Once the test is concluded, the ECM stops the pump motor and immediately de-energizes 
the change over valve. This allows the stored pressure to vent thorough the charcoal can¬ 
ister trapping hydrocarbon vapor and venting air to atmosphere through the filter. 


71 

ST055 MS S54 Emissions Management 



TEST RESULTS 


The time duration varies between 45 & 270 seconds depending on the resulting leak diag¬ 
nosis test results (developed tank pressure “amperage” / within a specific time period). 
However the chart below depicts the logic used to determine fuel system leaks. 

Current 



If the ECM detects a leak, a fault will be stored and the “Service Engine Soon” Light will be 
illuminated. Depending on the amperage measurement detected by the ECM, the fault 
code displayed will be “small leak” or “large leak”. 


If the vehicle was refueled and the filler cap was not properly 
installed, the “Check Filler Cap” message will be displayed. 

The ECM detects refueling from a change in the fuel tank 
sending unit level via the Instrument Cluster. Upon a restart 
and drivivg the vehicle, the leakage test will be performed. If 
the ECM detects leakage, the “Check Filler Cap” light will 
illuminate in the lower left corner of the instrument cluster. 

If the filler cap is installed and there is no leakage present the 
next time the leakage test is performed, the “ENGINE EMIS¬ 
SION” Light will not be illuminated. 



62410002. 


Check 

Filler 

Cap 


72 

ST055 MS S54 Emissions Management 


















Evaporative Emission Purging is regultated by the ECM controlling the Evaporative 
Emission Valve. The Evaporative Emission Valve is a solenoid that regulates purge flow from 
the Active Carbon Cannister into the intake manifold. The ECM Relay provides operating 
voltage, and the ECM controls the valve by regulating the ground circuit. The valve is pow¬ 
ered open and closed by an internal spring . FROM EVAPORATIVE 

EMISSION CANISTER 


The “purging” process takes place when: 

• Oxygen Sensor Control is active 

• Engine Coolant Temperature is >60° C 

• Engine Load is present 




MS S54 


ECM RELAY 

O r\ 


v> v 


s 




Evaporative 

Emission 

Valve 




3 134100100. 


The Evaporative Emission Valve is opened in stages to moderate the purging. 

• Stage 1 opens the valve for 10 ms (milli-seconds) and then closes for 150 ms. 


The stages continue with increasing opening times (up to 16 stages) until the valve is 
completely open. 


• The valve now starts to close in 16 stages in reverse order 

• This staged process takes 6 minutes to complete. The function is inactive for 1 minute 
then starts the process all over again. 

• During the purging process the valve is completely opened during full throttle operation 
and is completely closed during deceleration fuel cutoff. 


Evaporative Purge System Flow Check is performed by the ECM when the oxygen 
sensor control and purging is active. When the Evaporative Emission Valve is open the ECM 
detects a rich/lean shift as monitored by the oxygen sensors indicating the valve is func¬ 
tioning properly. 

If the ECM does not detect a rich/lean shift, a second step is performed when the vehicle 
is stationary and the engine is at idle speed. The ECM opens and close the valve (abrupt¬ 
ly) several times and monitors the engine rpm for changes. If there are no changes, a fault 
code will be set. 


73 

ST055 MS S54 Emissions Management 

































































Fuel System Monitoring is an 

OBD II requirement which moni¬ 
tors the calculated injection time 
(ti) in relation to engine speed, 
load, and the pre catalytic con¬ 
verter oxygen sensor(s) signals as 
a result of the residual oxygen in 
the exhaust stream. 

The ECM uses the pre catalyst 
oxygen sensor signals as a cor¬ 
rection factor for adjusting and 
optimizing the mixture pilot con¬ 
trol under all engine operating 
conditions. 




] 


3 ^ 


WHERE MULTIPLICATIVE ADAPTATION OCCURS 


WHERE 

ADDITIVE 

ADAPTATION 

OCCURS 









INTAKE AIR 
MASS „ 


* 



□ 


* 




ADAPTATION 
OXYGEN INFLUENCE 
SENSOR 
INFLUENCE 

= INJECTION TIME 


OXYGEN 

SENSOR 

SIGNAL(S) 







I 

a 



c 



Ti 

r 


ML 



y 




DAPTATION OF 
INJECTION 
IME DURATION 


CRANKSHAFT 

POSITION 

SENSOR 


134100100.eps 


Adaptation Values are stored by the ECM In order to maintain an "ideal" air/fuel ratio. 

The ECM is capable of adapting to various environmental conditions encountered while the 
vehicle is in operation (changes in altitude, humidity, ambient temperature, fuel quality, etc.). 

The adaptation can only make slight corrections and can not compensate for large 
changes which may be encountered as a result of incorrect airflow or incorrect fuel supply 
to the engine. 

Within the areas of adjustable adaption, the ECM modifies the injection rate under two 
areas of engine operation: 

• During idle and low load mid range engine speeds (Additive Adaptation), 

• During operation under a normal to higher load when at higher engine speeds 

(Multiplicative Adaptation). 

These values indicate how the ECM is compensating for a less than ideal initial air/fuel ratio. 

NOTE: If the adaptation value is greater than "0.0” Additive (% Multiplicative), the ECM is 
trying to richen the mixture. If the adaptation value is less then "0.0” Additive (% 
Multiplicative), the ECM is trying to lean-out the mixture. 


74 

ST055 MS S54 Emissions Management 
























































Catalyst Monitoring is performed by the ECM under oxygen sensor closed loop opera¬ 
tion. The changing air/fuel ratio in the exhaust gas results in lambda oscillations at the pre¬ 
catalyst sensors. These oscillations are dampened by the oxygen storage activity of the 
catalysts and are reflected at the post catalyst sensors as a fairly stable signal (indicating 
oxygen has been consumed). Conditions for Catalyst Monitoring: 


Requirements 


Status/Condition 


• Closed loop operation 

• Engine coolant temperature 

• Vehicle road speed 

• Catalyst temperature (calculated)* 

• Throttle angle deviation 

• Engine speed deviation 

• Average lambda value deviation 


YES 

Operating Temp. 

3 - 50 M PH (5 to 80 km/h) 
350°C to 650°C 
Steady throttle 
Steady/stable engine speed 
Steady/stable load 


* Catalyst temperature is an internally calculated value that is a function of load/air mass 
and time. 


Note: The catalyst efficiency is monitored once per trip while the vehicle is in closed loop 
operation. 


As part of the monitoring process, the pre and 
post 02 sensor signals are evaluated by the 
ECM to determine the length of time each sen¬ 
sor is operating in the rich and lean range. 


If the catalyst is defective the post 02 sensor 
signal will reflect the pre 02 sensor signal 
(minus a phase shift/time delay), since the cat¬ 
alyst is no longer able to store oxygen. 



134100104.eps 


The catalyst monitoring process is stopped once the predetermined number of cycles are 
completed, until the engine is shut-off and started again. After completing the next "cus¬ 
tomer driving cycle" whereby the specific conditions are met and a fault is again set, the 
"ENGINE EMISSION" light will be illuminated. 


75 

ST055 MS S54 Emissions Management 








Oxygen Sensor Heating is con¬ 
trolled by the ECM to reduces 
warm up time and retain heat 
during low engine speed when 
the exhaust temperature is cool¬ 
er. 

Voltage is supplied from the ECM 
Relay and the ground circuit is 
provided by the ECM in pulse 
width modulation. By pulsing the 
ground circuit, the oxygen sensor 
heaters are gradually brought up 
to temperature. Each oxygen 
sensor has an individual circuit 
provided by the ECM. 



During full throttle operation elec¬ 
trical heating is not required and 
is deactivated by the ECM. 


Oxygen Sensor Heater Monitoring is part of the OBD II requirements requiring all oxy¬ 
gen sensors to be monitored separately for electrical integrity and heater operation. The 
heater function is monitored continuously while the vehicle is in closed loop operation, dur¬ 
ing activation by the ECM. An improperly/non operating heater will not allow the sensor sig¬ 
nal to reach its predefined maximum and minimum thresholds which can: 

• Result in delayed closed loop operation causing an impact on emission levels. 

• Result in increased emission levels while in closed loop operation. 

As part of the monitoring function for heater current and voltage, the circuit is also checked 
for an open, short to ground and short to B+ depending on the values of the current or volt¬ 
age being monitored. 

The ECM measures both sensor heater current and the heater voltage in order to calculate 
the sensor heater resistance and power. If the power of the heater is not within a specified 
range, a fault will be set. The next time the heater circuit is monitored and a fault is again 
present the "ENGINE EMISSION" light will be illuminated. 


76 

ST055 MS S54 Emissions Management 







Secondary Air Injection is 

required to reduce HC and CO 
emissions while the engine is 
warming up. Immediately follow¬ 
ing a cold engine start (-10 to 
40°C) fresh air/oxygen is injected 
directly into the exhaust stream. 

The temperature signal is provid¬ 
ed to the ECM by the Air 
Temperature Sensor in the HFM*. 

The ECM provides a ground cir¬ 
cuit to activate the Secondary Air 
Injection Pump Relay. The relay 
supplies voltage to the Secon¬ 
dary Air Injection Pump. 

The single speed pump runs for 
approximately 90 seconds after 
engine start up. 




12410008.bmp 


* Below -10° C the pump is activated briefly to “blow out” any accumulated moisture. 


Secondary Air Injection Monitoring is per¬ 
formed by the ECM via the use of the pre-cat¬ 
alyst oxygen sensors. Once the air pump is 
active and is air injected into the exhaust sys¬ 
tem the oxygen sensor signals will indicte a lean 
condition. 

If the oxygen sensor signals do not change 
within a predefined time a fault will be set and 
identify the faulty bank(s). After completing the 
next cold start and a fault is again present the 
"ENGINE EMISSION" light will be illuminated. 



77 

ST055 MS S54 Emissions Management 

























































Misfire Detection is part of the OBD II regulations the ECM must determine misfire and 
also identify the specific cylinder(s), the severity of the misfire and whether it is emissions 
relevant or catalyst damaging based on monitoring crankshaft acceleration. 


Emission Increase: 

• Within an interval of 1000 crankshaft revolutions, the ECM adds the the detected misfire 
events for each cylinder. If the sum of all cylinder misfire incidents exceeds the predeter 
mined value, a fault code will be stored. 

• If more than one cylinder is misfiring, all misfiring cylinders will be specified and the indi 
vidual fault codes for all misfiring cylinders and for multiple cylinder will be stored. 


Catalyst Damage: 


• Within an interval of 200 crankshaft revolutions the detected number of misfiring events 
is calculated for each cylinder. The ECM monitors this based on load/rpm. If the sum of 
cylinder misfire incidents exceeds a predetermined value, a “Catalyst Damaging” fault 
code is stored and the “ENGINE EMISSION” Light will be illuminated. 


If the cylinder misfire count exceeds the predetermined threshold the ECM will take the 
following measures: 


The oxygen sensor control will 
be switched to open loop. 

The cylinder selective fault code 
is stored. 

If more than one cylinder is mis¬ 
firing the fault code for all indi¬ 
vidual cylinders and for multiple 
cylinders will be stored. 

The fuel injector to the respec¬ 
tive cylinder(s) is deactivated. 





I 


J-2- 


I 



& 


M 



SP 



SP 



SP 



SP 



SP 



INJ 
# 1 


& 


& 


& 


& 


& 


INJ 

#2 

INJ 

#3 


INJ 

#4 


INJ 

#5 


INJ 

#6 


78 

ST055 MS S54 Emissions Management 


CRANKSHAFT 

POSITION 

SENSOR 






























































The Integrated Ambient Barometric Pressure Sensor of the MS S54 is part of the 

ECM and is not serviceable. The internal sensor is supplied with 5 volts. In return it provides 

a linear voltage of approx. 2.4 to 4.5 volts representative of barometric pressure (altitude). 

The MS S54 monitors barometric pressure for the following reasons: 

• The barometric pressure signal along with calculated air mass provides an additional cor¬ 
rection factor to further refine injection “on” time. 

• Provides a base value to calculate the air mass being injected into the exhaust system by 
the Secondary Air Injection System. This correction factor alters the secondary air injec¬ 
tion “on” time, optimizing the necessary air flow into the exhaust system. 

• To recognize downhill driving to postpone start of Evaporative Emission Leakage 
Diagnosis. 



INTEGRAL 

BAROMETRIC 

PRESSURE 

SENSOR 



PROVIDES ADDITIONAL CORRECTION 
FACTOR FOR FOLLOWING FUNCTIONS 




134100105.eps 


79 

ST055 MS S54 Emissions Management 












































































E46 M3 Diagnostic Socket: For model year 
2001 the E46 will eliminate the 20 pin diagnos¬ 
tic connector from the engine compartment. 
The 16 pin OBD II connector located inside the 
vehicle will be the only diagnosis port. The 16 
pin OBD II connector has been in all BMWs 
since 1996 to comply with OBD regula-tions 
requiring a standardized diagnostic port. 

Previously before 2001, only emissions relevant 
data could be extracted from the OBD conn¬ 
ector because it did not provide access to TXD 
(D-bus). The TXD line is connected to pin 8 of 
the OBD II connector on vehicles without the 20 
pin diagnostic connector. 



The cap to the OBD II connector contains a 
bridge that bridges KL 30 to TXD and TXD II. 
This is to protect the diagnostic circuit integrity 
and prevent erroneous faults from being logged. 

The OBD II connector is located in the dri¬ 
vers footwell to the left of the steering col¬ 
umn. 

Special tool 61 4 300 is used to connect to the 
20 pin diagnostic lead of the DIS until the intro¬ 
duction of the DISplus. 



124100110.jpg 


Diagnostics via the 
OBD II Connector 


DIS/MoDiC 

CONNECTOR 





124100108.eps 

80 

ST055 MS S54 Emissions Management 







































































Workshop Hints 


Before any service work is performed on any fuel sys¬ 
tem related component, always adhere to the following: 

• Observe relevent safety legislation pertaining to your area. 

• Ensure adequate ventilation 



• Use exhaust extraction system where applicable (alleviate 
fumes). 


04410002 


• DO NOT SMOKE while performing fuel system repairs. 


• Always wear adequate protective clothing including eye protection. 

• Use caution when working around a HOT engine compartment. 

• BMW does not recommend any UNAUTHORIZED MODIFICATIONS to the fuel sys¬ 
tem. The fuel systems are designed to comply with strict federal safety and emissions 
regulations. In the concern of product liability, it is unauthorized to sell or perform modi¬ 
fications to customer vehicles, particularly in safety related areas. 


• Always consult the REPAIR INSTRUCTIONS on the specific model you are working 
on before attempting a repair. 


Checking Fuel Tank and Ventilation System for Leak-Tightness 

Refer to the Repair Information Section 16 00 100 for procedures on testing the fuel 
tank/ventilation system. 

Refer to Service Information Bulletins SI # 04 06 97 and # 04 01 98 for the special tools 
and adapters to perform the Evaporative Leakage Diagnosis Test. 


81 

ST055 MS S54 Emissions Management 


Tools and Equipment 


The DIS/Modic as well as a reputable hand held 
multimeter can be used when testing inputs/ 
components. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 



The correct Universal Adapter for the MS S54 
application should be used (#90 88 6 121 300). 
This will ensure the pin connectors and the har¬ 
ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


SKE BREAKOUT BOX SET 



©©©©© 


©©©©© 


©©©©© 

©©©©© 

©©©©© 

© 


26 
PIN 
BOX 

88 88 6 611 459 

1341QQ63.eps 



26 
PIN 
BOX 
88 88 6 611 459 


©s®©© 

©©© 0 © 

©©© 0 © 

© 



When checking the fuel tank and ventilation 
system for leak-tightness use Special Tool Set 
#90 88 6 161 170 which includes all of the 
pieces shown to the right. 

1. Pressure Control Valve 
2.&3. Quick Coupling Adapters 

This set is used in conjunction with shop sup¬ 
plied compressed air and the DIS Multimeter 
function for reading the pressure bleed off. 



82 

ST055 MS S54 Emissions Management 









































































































This Special Tool Set #90 88 6 161 160 will 
also be required to “cap off” the DM TL air filter 
and Evaporative Emission Valve hose when 
performing the Leakage Diagnosis Test. 



If the test indicates excessive bleed off a leak 
detector should be used (refer to Repair 
Instructions) to check for leaks at: 

• Fuel Filler Cap and Filler Neck 

• Fual Tank Ventilation Lines 

• Evaporative Emission Valve 

• Fuel Tank and Fuel Sending Unit 

• Liquid/Vapor Separator 



83 

ST055 MS S54 Emissions Management 




Performance Controls 


12410018.eps 



Sport Switch: The MS S54 ECM contains two different throttle 
progression program curves (Sport and Normal). The sport pro¬ 
gram is selected by pressing the Sport switch located in the center 
console switch panel. 

The switch provides a ground signal as an input when pressed. The 12410019 .eps 
MS S54 activates the sport characteristics for the EDR throttle con¬ 
trol. This provides an increase in throttle opening and response 
time over the non-sport position. 

Power Transmission Switch: The power transmission switch (circuit) consists of two 
switches in series. The circuit includes a clutch switch and a gear selector switch on the 
transmission. The functions of the power transmission switch are as follows: 

• Cutout for cruise control operation 

• Enable condition for idle control 


SPORT 


y 


The switches provide a high signal for the MS S54 when the clutch is disengaged and the 
transmission is in gear. If either the clutch is engaged or the transmission is in neutral, the 
cruise control will be disengaged. 



12410051 .eps 


84 

ST055 MS S54 Performance Controls 




































































































































Cruise Control: As with other EML systems, 
the MS S54 ECM takes over the function of 
cruise control. Throttle activation is provided by 
the MS S54 electronic control of the EDR 
Actuator and monitoring of the feedback 
potentiometers. 

All driver requested cruise control function 
requests are provided to the MS S54 from the 
MFL II control module in the steering wheel 
over a single FGR data lead. 



Oil Temperature/Level Sensor: The electronic level sensor is located in the engine sump 
mounted to the engine oil pan. The probe of the level sensor contains two temperature 
sensing elements. 


• One senses the engine oil temperature. 

• The other is heated to 10° C above the temperature 
of the engine and then is allowed to cool. 

The length of time it takes to cool the heated element 
is how the sensor determines the engine oil level. 
When the oil level is high it covers a larger portion of 
the probe submersed in the oil sump. The engine oil 
around the probe absorbs the heat of the heated ele¬ 
ment quicker than if the level is low. 

The microporcessor in the base of the sensor pro¬ 
duces a pulse width modulated signal proportional to 
the oil level. The pulse width increases with a 



decreased level of oil. 


Based on the oil temperature, the visual warning LEDs in the tachometer will illuminate at 
cold engine start up and slowly be extinguished as the oil temperature increases. One 
amber and the red LEDs always stay illuminated reminding the driver of maximum rpm 
zone. 

The oil temp sensor also serves as a vital input for VANOS operation, varying the solenoid 
control based on oil temperature (reaction time of camshaft movement). In the event of a 
fault the engine coolant temperature is used as a substitute value. 


85 

ST055 MS S54 Performance Controls 



































Electric Cooling Fan: The electric cooling fan is controlled by the ECM. The ECM uses a 
remote power output final stage (mounted on the fan housing). The power output stage 
receives power from a 50 amp fuse. The electric fan is controlled by a pulse width modu¬ 
lated signal from the ECM. 

The fan is activated based on the ECM calculation of: 

• Coolant outlet temperature (monitored by the Radiator Outlet Temperature Sensor) 

• Calculated (by the ECM) catalyst temperature 

• Vehicle speed 

• Battery voltage 

• Air Conditioning pressure (calculated by IHKA and sent via the K-Bus to the ECM) 



86 

ST055 MS S54 Performance Controls 

















Tools and Equipment 


The DIS/Modic as well as a reputable hand held 
multimeter can be used when testing inputs/ 
components. 


It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 



The correct Universal Adapter for the MS S54 
application should be used (#90 88 6 121 300). 
This will ensure the pin connectors and the har¬ 
ness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



F=1 


©©©©© 

©©©©© 

©©© 0 © 

©©© 0 © 

©©©©© 

© 


inn 


26 
PIN 
BOX 
88 88 6 611 459 



J=\ 


©©©©© 

©©©©© 

©©©©© 

©©©©© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 

13410063.eps 



87 

ST055 MS S54 Performance Controls 










































































































Review Questions 


1. Describe the Power Supply for the Fuel Injectors and Ignition Coils: 


2. Name the Components of the Fuel Supply System: 


3. List the inputs required fpr Fuel Injector operation: 


4. Describe the Emission Optimized Function: 


5. Name two types of Emissions the ECM controls:_ 

6. What two sensors are used to monitor throttle movement? 

7. Why are there two inputs from the Accelerator Module?_ 


8. Where is the Diagnostic Socket located?_ 

9. How many speeds will the Secondary Air Injection Pump run at?_ 

10. What is the Repair Instruction (number) for the procedure to perform a Leakage 

Diagnosis Test?_ 

11. How is the secondary ignition monitored for misfire?_ 



ST055 MS S54 Performance Controls 









