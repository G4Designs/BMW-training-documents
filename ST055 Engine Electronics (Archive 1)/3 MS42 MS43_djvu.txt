Table of Contents 


Subject Page 

MS42/MS43 .2 

Objectives of the Module .2 

Purpose of the System.3 

System Components .4 

Power Supply .7 

Principle of Operation.8 

Workshop Hints.9 

Tools and Equipment .10 

Air Management . 11 

Principle of Operation.20 

Workshop Hints.28 

Tools and Equipment .31 

Fuel Management .32 

Principle of Operation.39 

Workshop Hints.45 

Tools and Equipment .52 

Ignition Management .55 

Principle of Operation.62 

Workshop Hints.66 

Tools and Equipment .72 

Emissions Management .74 

Evaporative Emissions .74 

Exhaust Emissions.78 

Principle of Operation.84 

Workshop Hints.104 

Tools and Equipment.107 

Performance Controls .109 

ECM Programming.117 

Tools and Equipment.118 


Review Questions 


119 

































MS42/MS43 

Models: E46/E39/Z3 - MS42 with M52TU Engine 

E46/E39/Z3/E53 - MS43 with M54 Engine 

Production Date: MS42 1998 - 2000 

MS43 2001 MY to Present 

Manufacturer: Siemens 

Pin Connector: 134 Pins - 5 Modular Connectors 

Objectives of the Module 

After completing this module, you will be able to: 

• Describe the Power Supply for the Fuel Injectors and Ignition Coils 

• Understand the MDK/EDK and Idle Air Actuator Operation 

• Name the Differences Between the MS42/MS43 Fuel Supply System 

• List the Inputs Required for Fuel Injector Operation 

• Describe Emission Optimized Function 

• Name the Two Types of Emissions the ECM Controls 

• Explain Why Two Sensors are Used to Monitor Accelerator Pedal Movement 

• Understand LDP and DM TL Evaporative Leak Testing 

• Describe How the Ignition System is Monitored 

2 


ST055 MS42/MS43 





MS42/MS43 


Purpose of the System 

The MS42/MS43 systems manage the following functions: 


Air: Fuel: Ignition: 

• Idle Speed Valve • Fuel Supply • Direct Ignition/Optimized 

• Electronic Throttle • Running Losses/Non Return • Knock Control 

• Hot Film Air Mass Meter • Fuel Injection • Primary/Secondary Ignition 

• Resonance-Turbulence Monitoring 

Intake Control 
















System Components 

MS42/MS43 Engine Control Module: The Engine Control Module (ECM) features a sin¬ 
gle printed circuit board with two 32-bit microprocessors. 


The task of the first processor is to control: 

• Engine Load 

• Electronic Throttle 

• Idle Actuator 

• Ignition 

• Knock Control 


The task of the second processor is to control: 


• Air / Fuel Mixture 

• Emission Control 

• Misfire Detection 

• Evaporative Leak Detection 



12550000.tiff 



X60001 
9- Pin 


X60002 

24-Pin 


X60003 
52 - Pin 


X60004 X60005 

40 - Pin 9 - Pin 


The 134 pin ECM is manufactured by Siemens to BMW specifications. The ECM is the SKE 
(standard shell construction) housing and uses 5 modular connectors. For testing, use the 
Universal Adapter Set (break-out box) Special Tool # 90 88 6 121 300. 


4 


ST055 MS42/MS43 




































System Components: Inputs - Processing - Outputs 



5 

ST055 MS42/MS43 


































































































































































































































































System Components: Inputs - Processing - Outputs 



6 

ST055 MS42/MS43 



















































































































































































































































































Power Supply 



KL30 - Battery Voltage: B+ is the main supply of operating voltage to the ECM. 


Power Supplies: The power supplies (KL15 
and ECM Relay) are fused to the MS42/MS43 
ECM. The fuses are housed in the Engine Fuse 
Block located in the Electronics Box. 

KL15 - Ignition Switch: When the ignition is 
switched “on” the ECM is informed that the en¬ 
gine is about to be started. KL15 (fused) sup¬ 
plies voltage to the Engine Control Module 
Relay and the Fuel Injector Relay. Switching 
KL15 “off” removes the ECM operating voltage. 



13410062.eps 


Engine Control Module Relay: The ECM Relay provides the operating voltage for: 


1 . 

ECM 

6. 

Ignition Coils 

2. 

Fuel Injection 

7. 

Evaporative Leak Detection Pump 

3. 

Idle Air Actuator 

8. 

Camshaft Sensors 

4. 

Evaporative Emission Valve 

9. 

Hot Film Air Mass 

5. 

Fuel Pump Relay 

10. 

Oxygen Sensor Heaters 


Ground: Multiple ground paths are necessary to complete current flow through the ECM. 
The ECM ground pin numbers are: 


Connector X60001 

Connector X60005 

Pin 4 - Ground for ECM 

Pin 5 - Ground for ECM 

Pin 5 - Ground for ECM 

Pin 6 - Ground for ECM (MS42) 

Pin 6 - Ground for ECM 


7 

ST055 MS42/MS43 Power Supply 




















































































































Principle of Operation 

Battery Voltage is monitored by the ECM for fluctuations. It will adjust the output func¬ 
tions to compensate for a lower (6v) and higher (14v) voltage value. For example, the ECM 
will: 

• Modify pulse width duration of fuel injection. 

• Modify dwell time of igniton 


When KL15 is switched “on” the ECM is ready for engine management. The ECM will acti¬ 
vate ground to energize the Engine Control Module Relay. The Engine Control Module 
Relay supplies operating voltage to the ECM and the previously mentioned operating com¬ 
ponents. MS43 - Five seconds after the ignition is switched on and the voltage at the KL15 
input is >9 volts, the ECM compares the voltage to the ECM Relay supplied voltage. If the 
voltage difference between the two terminals is greater than 3 volts, a fault code will be set. 


When KL15 is switched “off” the ECM operating voltage is removed. The ECM will main¬ 
tain a ground to the Engine Control Module Relay for a few seconds to maintain ignition coil 
activation (MS43 Emission Optimized). 


Ground is required to complete the current path through the ECM. The ECM also: 


• Internally links a constant ground (1) 
to the Engine Sensors. 

• Switches ground (2) to activate 
components. 



8 

ST055 MS42/MS43 Power Supply 












Workshop Hints 


E46 Electronics Box - ECM and Fuses 


Power Supply - Testing 

Inadequate power and ground supply 
can result in: 


1 . 

No Start 

2. 

Hard Starting (Long Crank Times) 

3. 

Inaccurate Diagnostic Status or 
ECM (Not Found) 

4. 

Intermittant/Constant “ENGINE 
EMISSION/EML” Light 

5. 

Intermittant/Constant Driveability 
Problems 



Power supply including fuses should be 
tested for: 


1 . 

Visual (1) Blown Fuse 

2. 

Available Voltage (2) 

3. 

Voltage Drop (Dynamic 


Resistance) (2) 

4. 

Resistance of Cables 


and Wires (2) 


The ignition (KL15) must be 
switched off when removing or 
installing the ECM connector to 
prevent voltage spikes (arcing) 
that can damage the Control 
Module! 


The Engine Control Module Relay (locat¬ 
ed in the Electronics Box) should be test¬ 
ed for: 


1 . 

Battery Voltage and Switched 


Ground (1) 

2. 

Resistance (1) 

3. 

Battery Voltage and 


Voltage Drop (2) 




12550001 .bmp 



9 

ST055 MS42/MS43 Power Supply 













































Tools and Equipment 


Power Supply 

When testing power supply to an ECM, the 
DIS/MoDIC multimeter function as well as a rep¬ 
utable hand held multimeter can be used. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 

The correct Universal Adapter for the 
MS42/MS43 application should be used (#90 
88 6 121 300). This will ensure the pin connec¬ 
tors and the harness will not be damaged. 


When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



©©©©© 

©©©©© 

©©©©© 

0 ©©©® 

©©©©© 

© 


26 
PIN 

BOX _ 

88 88 6 611 459 

1355QQ63.eps 


©©©©© 

©©©©© 

©s©©© 

©s©©© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 



The Engine Control Module Relay should be 
tested using the relay test kit (P/N 88 88 6 613 
010) shown on the right. 

This kit allows testing of relays from a remote 
position. 

Always consult the ETM for proper relay con¬ 
nections. 



12550001 .bmp 


10 

ST055 MS42/MS43 Power Supply 



























Air Management 



Throttle Valve: The throttle valve plate is electronically operated to regulate intake air flow 
by the ECM. The purpose is for precision throttle operation, OBD II compliant for fault mon¬ 
itoring, ASC/DSC and cruise control. This integrated electronic throttle reduces extra con¬ 
trol modules, wiring, and sensors. Adjusting electronic throttles is not permitted, the 
throttle assembly must be replaced as a unit. The adaptation values must be 
cleared and adaptation procedure must be performed using the DISplus/MoDIC. 


The throttle assembly for the MS42 system is 
referred to as the MDK (Motor Driven Throttle 
Valve). The MDK is distinguished by: 

• The accelerator position potentionmeters (PWG 
= driver’s wish) are integrated in the MDK 
housing. 

• A throttle cable is used to actuate the accelera¬ 
tor pedal position potentiometers and also 
serves as a backup to open the throttle plate 
(full control) if the MDK system is in failsafe. 



The throttle assembly for the MS43 system is 
referred to as the EDK. The EDK is distiguished 
by: 

• EDK does not contain a PWG, It is remotely 
mounted (integrated in the accelerator pedal 
assembly). 

• The accelerator pedal is not mechanically 
“linked” to the EDK 



11 

ST055 MS42/MS43 Air Management 



















































































































Throttle Position Sensor 


MDK: The throttle cable (foot 
pedal controlled) is connected to 
a pulley on the side of the MDK. 
The pulley is linked by springs to 
one end of the throttle shaft 
(springs also return the accelera¬ 
tor pedal to the rest position). 

With the pulley linked by springs 
to the throttle shaft, this allows 
ASC intervention to override the 
driver’s set throttle position. 


As the pulley and shaft are rotat¬ 
ed, the dual potentiometers (inte¬ 
gral in the MDK housing = driver’s 
wish) monitor the requested load 
for the ECM. Dual potentiometers 
are used for request plausibility. 

EDK: The accelerator pedal module provides 
two variable voltage signals to the ECM that 
represents accelerator pedal position and rate 
of movement. Dual Hall Sensors are integral in 
the accelerator pedal module. The ECM com¬ 
pares the two values for plausibility. The module 
contains internal springs to return the accelera¬ 
tor pedal to the rest position. 

The ECM provides voltage (5v) and ground for 
the Hall sensors. As the accelerator pedal is 
moved from rest to full throttle, the sensors pro¬ 
duce a variable voltage signal. 

Hall sensor 1 (request) = 0.5 to 4.5 volts 
Hall sensor 2 (plausibility) = 0.5 to 2.0 volts 

If the signals are not plausible, the ECM will use 
the lower of the two signals as the requested 
input. The throttle response will be slower and 
the maximum throttle response will be reduced. 


13550003.eps 





12 

ST055 MS42/MS43 Air Management 






















































































































Throttle Motor and Feedback Position 


MDK: The MS42 ECM powers the MDK motor 
using pulse width modulation for opening and 
closing at a basic frequency of 600 Hz which 
positions the throttle plate. The throttle plate is 
also closed by an integrated return spring. 

Dual potentiometers feedback the actual throt¬ 
tle plate position, allowing the ECM to verify cor¬ 
rect throttle position. Dual potentiometers are 
used for feedback plausibility. 



EDK: The MS43 ECM powers the EDK motor 
using pulse width modulation for opening and 
closing the throttle plate. The throttle plate is 
also closed by an integrated return spring. 


Two integrated potentiometers provide voltage 
feedback signals to the ECM as the throttle 
plate is opened and closed. 


MOTOR 

CONTROL 


ELECTRIC THROTTLE 



POT 1 SIGNAL 
POT2 SIGNAL 
POT POWER 
GROUND 






© 


13550002.eps 


Potentiometer 1 is the primary feedback signal 
of throttle plate position and signal 2 is the plau¬ 
sibility cross check through the complete throt¬ 
tle plate movement. 



• Feedback signal 1 provides a signal from 0.5v 
(closed) to 4.5 V (full throttle). 

• Feedback signal 2 provides a signal from 4.5v 
(closed) to 0.5 V (Full Throttle). 


13 

ST055 MS42/MS43 Air Management 



























































































































Idle Air Actuator: This valve regulates air by-passing 
the throttle valve to control the engine idle/low speed. 

The valve is supplied with battery voltage from the ECM 
Relay. The Idle Air Actuator is a two-coil rotary actua¬ 
tor. The ECM is equipped with two final stage transis¬ 
tors which will alternate positioning of the actuator. 

The final stages are "pulsed" simultaneously by the 
ECM which provides ground paths for the actuator. 
The duty cycle of each circuit is varied to achieve the 
required idle RPM. 

If this component/circuits are defective, a fault code will 
be set and the “Malfunction Indicator Light” will be illu¬ 
minated when the OBD II criteria is achieved. 



Hot-Film Air Mass Meter (HFM): The air volume 
input signal is produced electronically by the HFM 
which uses a heated metal film (180° C above intake air 
temperature) in the air flow stream. 

The ECM Relay provides the operating voltage. As air 
flows through the HFM, the film is cooled changing the 
resistance which affects current flow through the cir¬ 
cuit. The sensor produces a 1-5 volt varying signal. 
Based on this change the ECM monitors and regulates 
the amount of injected fuel. 

If this input is defective, a fault code will be set and the 
“Malfunction Indicator Light” will be illuminated when 
the OBD II criteria is achieved. The ECM will operate 
the engine using the Throttle Position and Engine RPM 
inputs. 


NOTE: The Siemens 2 Type B designation simply indi¬ 
cates that the sensor is smaller in design. The mass air 
meter has different diameters based on engine appli¬ 
cation. The HFM is non-adjustable. 




13550017. 




eps 



13550004.tiff 


14 

ST055 MS42/MS43 Air Management 
















































































































Air Temperature Signal: This signal is needed by the ECM to correct the air volume input 
for changes in the intake air temperature affecting the amount of fuel injected, ignition tim¬ 
ing and Secondary Air Injection activation. The sensor is located in the center of the intake 
manifold (1). 

The ECM provides the operating voltage (5v) to this sensor. The sensor decreases in resis¬ 
tance as the intake air temperature rises and vice versa (NTC). The ECM monitors the volt¬ 
age signal that varies (0-5v) as the resistance changes. 

If this input is defective, a fault code will be set and the “Malfunction Indicator Light” will be 
illuminated when the OBD II criteria is achieved. The ECM will operate the engine using the 
Engine Coolant Sensor input as a back up. 




<g 

Function 

I Selection | 

| Document | 

iTest 
| Module 


12550016.eps 



15 

ST055 MS42/MS43 Air Management 

















































































































































































Resonance/Turbulence Intake System: On the M52TU andM54, the intake manifold is 
split into two groups of three (runners) which increases low end torque. The intake mani¬ 
fold also has separate (internal) turbulence bores which channels air from the idle speed 
actuator directly to one intake valve of each cylinder (matching bore of 5.5mm in the cylin¬ 
der head). 


Routing the intake air to only one intake valve causes the intake to swirl in the cylinder. 
Together with the high flow rate of the intake air due to the small intake cross sections, this 
results in a reduction in fluctuations and more stable combustion. 


MAIN MAINIFOLD 


RESONANCE TUBE 



> 42 =© 


UF 


IDLE AIR CONTROL VALVE 
(ZWD) 


RESONANCE MANIFOLD 


TURBULENCE MANIFOLD 
TURBULENCE BORE 0:5.5mm 



■CRANKCASE VENTILATION 


13550011.eps 


Resonance System: The resonance system provides increased engine torque at low 
RPM, as well as additional power at high RPM. Both of these features are obtained by 
using an ECM controlled resonance flap (in the intake manifold). 

During the low to mid range rpm, the resonance flap is closed. This produces a long/sin¬ 
gle intake tube which increases engine torque. 

During mid range to high rpm, the resonance flap is open. This allows the intake air to draw 
through both resonance tubes, providing the air volume necessary for additional power at 
the upper RPM range. 


16 

ST055 MS42/MS43 Air Management 









































































































































The Resonance Flap (shown on the right) is 
closed when vacuum is applied and sprung 
open. This is a unitized assembly that is bolted 
into the intake manifold. 

The ECM controls a solenoid valve for reso¬ 
nance flap activation. At speeds below 3750 
RPM, the solenoid valve is energized and vac¬ 
uum supplied from an accumulator closes the 
resonance flap. This channels the intake air 
through one resonance tube, but increases the 
intake velocity. 



1355Q012.jpg 


When the engine speed is greater than 3750 
RPM (which varies slightly - temperature influ¬ 
enced), the solenoid is de-energized. The reso¬ 
nance flap is sprung open, allowing flow through 
both resonance tubes, increasing volume. 


When the flap is closed, this creates another 
“dynamic” effect. 

• # 1 Cylinder Intake Valve open Low to Mid 
Range RPM (<3750 RPM) 


As the intake air is flowing into cylinder #1, the 
intake valves will close. 



13550010.eps 


This creates a “block” for the in rushing air. The 
air flow will stop and expand back (resonance 
wave back pulse) with the in rushing air to cylin¬ 
der #5. 

• #1 Cylinder Intake Valve closes #5 Intake Valve 
Open => Intake Air Bounce Effect Low to Mid 
Range RPM (<3750 RPM). 


The resonance “wave”, along with the intake 
velocity, enhances cylinder filling. 



13550009.eps 


17 

ST055 MS42/MS43 Air Management 














































































When the engine speed is greater than 3750 
RPM the solenoid is de-energized. The reso¬ 
nance flap is sprung open, allowing flow through 
both resonance tubes, increasing volume. 


• #1 Cylinder Intake Valve Open - Intake air 
drawn from both resonance tubes. Mid to 
High Range RPM (>3750 RPM) 



13550008.eps 


• #5 Cylinder Intake Valve Open - Intake air 
drawn from both resonance tubes. Mid to 
High Range RPM (>3750 RPM). 


The resonance “wave”, along with the intake 
volume, enhances cylinder filling. 



13550007.eps 


Suction Jet Pump: The ECM regulates the 
Suction Jet Pump (1) to provide sufficient vacu¬ 
um for the brake booster under all operating 
conditions. The ECM controls the Suction Jet 
Pump Solenoid (2) to allow vacuum flow 
through. 

Additional vacuum compensation is applied to 
the brake booster when the circuit is “deactivat¬ 
ed” (solenoid sprung open). 

Vacuum enhancement is limited to the brake 
booster when the control circuit is “activated” 
(solenoid powered closed). 



18 

ST055 MS42/MS43 Air Management 







































































































6 


Pressure Control Valve: The pressure control valve 
varies the vacuum applied to the crankcase ventilation 
depending on engine load. The valve is balanced 
between spring pressure and the amount of manifold 
vacuum. 

The oil vapors exit the separator labyrinth (2) in the 
cylinder head cover (1). The oil vapors are drawn into 
the cyclone type liquid/vapor separator (3) regulated by 
the pressure control valve (5). The oil vapors exit the 
pressure control valve into the intake manifold. The col¬ 
lected oil will drain back into the oil pan (4). 



The vapors exit the pressure control valve and are 
drawn into the intake manifold through an external dis¬ 
tribution tube (2). The tube has a splice at the front to 
equally distribute vapors to the back. 

As the vapors exit the pressure control valve, they are 
drawn into the intake manifold through this external 
tube for even distribution. 



At idle when the intake manifold vacuum is high, the 
vacuum reduces the valve opening allowing a small 
amount of crankcase vapors to be drawn into the 
intake manifold. At part to full load conditions when in¬ 
take manifold vacuum is lower, the spring opens the 
valve and additional crankcase vapors are drawn into 
the intake manifold. 

1. Engine Oil Vapors 

2. Collective Drain Back Oil 

3. Oil Vapors to the Intake Manifold (Distribution Tube) 



11550007.eps 


19 

ST055 MS42/MS43 Air Management 










































































Principle of Operation 


Air flow into the engine is regulated by the Throttle Valve and/or the Idle Air Actuator. Both 
of these air “passages” are necessary for smooth engine operation from idle to full load. On 
the MS42/MS43 system, the Throttle Valve and the Idle Air Actuator are electrically con¬ 
trolled. All of the ECM monitoring, processing and output functions are a result of regulat¬ 
ed air flow. 



12410008.eps 


The Accelerator Pedal Position (PWG) is monitored by the ECM for pedal angle posi¬ 
tion and rate of movement. As the accelerator is moved, a rising voltage signal from the 
potentiometers/Hall sensors requests acceleration and at what rate. The ECM will increase 
the volume of fuel injected into the engine, advance the ignition timing and open the Throttle 
Valve and/or Idle Air Actuator. 


The “full throttle” position indicates maximum acceleration to the ECM, and in addition to 
the functions just mentioned, this will have an effect on the air conditioning compressor 
(covered in Performance Controls). 

As the accelerator pedal is released (integral springs), a decrease in voltage signals the 
ECM to activate fuel shut off if the RPM is above idle speed (coasting). The Throttle Valve 
will be closed and Idle Air Actuator Valve will open to maintain idle speed. 

The ECM monitors the engine idle speed in addition to the accelerator pedal position and 
throttle position voltage. If the voltage values have changed (mechanical wear of throttle 
plate or linkage), the ECM will adjust the Idle Air Actuator to maintain the correct idle speed. 

The potentiometers/Hall sensors are non-adjustable because the ECM “learns” the throttle 
angle voltage at idle speed. If the throttle housing/accelerator pedal module is replaced, the 

ADAPTATIONS MUST BE CLEARED and ADAPTATION PROCEDURE MUST BE 
PERFORMED using the DISplus/MoDIC. If this is not performed, the vehicle will not 
start, or run in “fail-safe” mode. 

If this input is defective, a fault code will be stored and the “Malfunction Indicator and/or 
EML” Light will be illuminated. Limited engine operation will be possible. 


20 

ST055 MS42/MS43 Air Management 





















































The MS42 PWG (Driver’s Wish) 

pedal position sensor is integrat¬ 
ed in the MDK assembly. The 
PWG section of the MDK consists 
of two separate potentiometers 
with independent voltage supply 
and monitor circuits (provided by 
the ECM). 

The pedal position sensor is mon¬ 
itored by checking each individual 
sensor circuit and comparing the 
two values. Monitoring is active 
as soon as the sensors receive 
voltage (KL15). 


The MS43 PWG pedal position 
sensor consists of two separate 
Hall sensors with different voltage 
characteristics and independent 
power supply (located in the 
accelerator pedal module). 

The pedal position sensor is mon¬ 
itored by checking each individual 
sensor circuit and comparing the 
two pedal values. Monitoring is 
active as soon as the sensors 
receive voltage (KL15). The ECM 
decides what operating mode the 
pedal position sensor is to 
assume. 

• Mode 0 = Pedal position sensor 
fully operable 

• Mode 1 = Failure of one pedal 
position sensor (maximum 
engine speed is limited) 

• Mode 2 = Failure of both pedal 
position sensors ( engine speed 
limited to 1500 rpm) 




21 

ST055 MS42/MS43 Air Management 















The Idle Air Actuator is controlled by the ECM modulating the ground signals (PWM at 
100 Hz) to the valve. By varying the duty cycle applied to the windings, the valve can be 
progressively opened, or held steady to maintain the idle speed. 

The ECM controls the Idle Air Actuator to supply the necessary air to maintain idle speed. 
When acceleration is requested and the engine load is low (<15%), the actuator will also 
supply the required air. 


The basic functions of the idle speed control are: 


• Control the initial air quantity (air temp <0° C, 
MDK/EDK is simultaneously opened). 


• Variable preset idle based on load and inputs. 


• Monitor RPM Feedback for each preset 
position. 

• Lower RPM range intake air flow (even while 
driving) 

• Vaccum Limitation 


• Smooth out the transition from acceleration to 
deceleration. 


MAIN MAINIFOLD 



TURBULENCE BORE 0:5.5mm 

13550011 .eps 


Under certain engine operating parameters, the MDK/EDK throttle control and the Idle Air 
Actuator are operated simultaneously. This includes all idling conditions and the transition 
from off idle. As the request for load increases, the idle valve will remain open and the 
MDK/EDK will supply any additional air volume required to meet the demand. 


Emergency Operation of Idle Air Actuator: 

If a fault is detected with the Idle Air Actuator, the ECM will initiate failsafe measures 
depending on the effect of the fault (increased air flow or decreased air flow). If there is a 
fault in the Idle Air Actuator/circuit, the MDK/EDK will compensate to maintain idle speed. 
The “Malfunction Indicator and/or EML” Light will be illuminated to inform the driver of a 
fault. 

If the fault causes increased air flow (actuator failed open), VANOS and Knock Control are 
deactivated which noticeably reduces engine performance. 


22 

ST055 MS42/MS43 Air Management 


















































































The MS42 MDK Feedback Signal Monitoring/Emergency Operation when a fault is 
detected in the system is as follows: 


• Emergency operation 1 - Faults which do not impair actuator control, but which adversely 
affect the functioning of the MDK. 

• Emergency operation 2 - Applies when faults are encountered which might affect the perfor¬ 
mance of the MDK. 

• Emergency operation of idle Air Actuator. 


EMERGENCY OPERATION 1 

Emergency operation 1 limits the dynamic operation if one or more of the potentiometers 
fail. The engine can slowly reach maximum speed with limited power. 


EMERGENCY OPERATION 2 

If another fault is encountered in addition to emergency operation 1 or if the plausibility is 
affected, emergency operation 2 is activated by the ECM. An example of plausibility fault 
would be that the pulley position does not match the MDK position and the associated air¬ 
flow (from the HFM). Emergency operation 2 can also be initiated by simultaneously press¬ 
ing both the accelerator pedal and the brake pedal, or if a fault is encountered in the brake 
light switch diagnosis (see Performance Controls). 

When in emergency 2 operation mode, there is an engine speed limitation (slightly above 
idle speed) in addition to the measures for emergency operation 1. In emergency opera¬ 
tion 2, the engine speed is always limited to 1300 RPM if the brake is not applied, and 
approximately 1000 RPM if the brake is applied. The vehicle speed is limited to approxi¬ 
mately 20-25 mph. 


23 

ST055 MS42/MS43 Air Management 








The emergency operation functions are inactive when: 


• Emergency operation 1 - Faults which affect the fuctioning of the MDK. 


• Emergency operation 2 - Applies when faults are encountered which might affect driveability. 

• Emergency operation of Idle Air Actuator. 


Further Monitoring Concepts 

The MDK safety concept can detect a jammed or binding throttle valve as well as a bro¬ 
ken link spring. This fault is detected by the ECM monitoring the feedback potentiometers 
from the MDK in relation to the pulse width modulation to activate the MDK motor. 

Emergency operation functions if the throttle valve is jammed: 

• Activation of the “EML” Light to alert the driver of a fault. 

• MDK is deactivated, the throttle valve is compensated for by closing the idle speed actuator 
and retarding the ignition (engine power reduction). 

• To maintain vehicle control, the MDK opening is compensated for by closing the idle speed 
actuator and retarding the ignition (engine power actuator). 

• Engine power is further limited by fuel injector cutout. 


In the event of a fault, the DISplus or MoDIC must be used to interrogate the fault memo¬ 
ry, and clear the fault once the proper repair has been performed. 


24 

ST055 MS42/MS43 Air Management 













The MS43 EDK Feedback Signal Monitoring/Failsafe Operation when a fault is 
detected in the system is as follows: 


• The EDK provides two seperate signals from two integrated potentiometers (Pot 1 and Pot 2) 
representing the exact position of the throttle plate. 


• EDK Pot 1 provides the primary throttle plate position feedback. As a redundant monitoring 
feature, Pot 2 is continuously cross checked with Pot 1 for signal plausibility. 


• If plausibility errors are detected between Pot 1 and Pot 2, MS 43.0 will calculate the inducted 
engine air mass (from HFM signal) and only utilize the potentionmeter signal that closely 
matches the detected intake air mass. 

- The MS 43.0 uses the air mass signalling as a “virtual potentiometer” (pot 3) for a 
comparative source to provide failsafe operation. 

- If MS 43.0 cannot calculate a plausible conclusion from the monitored pots (1 or 2 
and virtual 3) the EDK motor is switched off and fuel injection cut out is activated 
(failsafe operation is not possible). 


• The EDK is continuously monitored during all phases of engine operation. It is also briefly 
activated/adapted when KL 15 is initially switched on as a “pre-flight check” to verify it’s 
mechanical integrity (no binding, appropriate return spring tension, etc). This is accomplished 
by monitoring both the motor control amperate and the reaction speed of the EDK feedback 
potentiometers. If faults are detected the EDK motor is switched off and fuel injection cut 
off is activated (failsafe operation is not possible). The engine does however continue to 
run extremely rough at idle speed. 


• When in emergency operation, the engine speed is always limited to 1300 RPM by fuel 
injector cutout, and activation of the “EML” Light to alert the driver of a fault. 


• When a replacement EDK is installed, the MS 43.0 adapts to the new component (required 
amperage draw for motor control, feedback pot tolerance difference, etc). This occurs 
immediately after the next cycle of KL15 for approximately 30 seconds. During this period 
of adaptation, the maximum opening of the throttle plate is 25%. 


25 

ST055 MS42/MS43 Air Management 











The Total Intake Air Flow Control is performed by the ECM simultaneously operating the 
MDK/EDK throttle control and the Idle Air Actuator. 

The ECM detects the driver’s request from the potentiometers/Hall Sensors monitoring the 
accelerator pedal position. This value is added to the Idle Air control value and the total is 
what the ECM uses for MDK/EDK activation. The ECM then controls the Idle Air Actuator 
to satisfy the idle air “fill”. In addition, the MDK/EDK will also be activated = pre-control idle 
air charge. Both of these functions are utilized to maintain idle RPM. 

The MDK/EDK is electrically held at the idle speed position, and all of the intake air is drawn 
through the Idle Air Actuator. Without a load on the engine (<15%), the MDK/EDK will not 
open until the extreme upper RPM range. If the engine is under load (>15%), the Idle Air 
Actuator is open and the MDK/EDK will also open. 

MDK: In the upper PWG range (approximately >60%), the MDK is switched off. The throt¬ 
tle valve is opened wider exclusively by the pulley via the spring linkage. 

At the full throttle position, “kickdown” is obtained by depressing the accelerator pedal fully. 
This will overwind the pulley, but the spring linkage will not move the throttle plate past 90 
degrees of rotation. 



13550014.eps 


26 

ST055 MS42/MS43 Air Management 






The Hot-Film Air Mass Meter (HFM) varies voltage monitored by the ECM representing 
the measured amount of intake air volume. This input is used by the ECM to determine the 
amount of fuel to be injected. 

The heated surface of the hot-film in the intake air stream is regulated by the ECM to a con¬ 
stant temperature of 300° C above inyake air temperature. The incoming air cools the film 
and the ECM monitors the changing resistance which affects current flow through the cir¬ 
cuit. The hot-film does not require a “clean burn”, it is self cleaning due to the high operat¬ 
ing temperature for normal operation. 

If this input is defective, a fault code will be set and the “Malfunction Indicator Light” will illu¬ 
minate when the OBD II criteria is achieved. The ECM will maintain engine operation based 
on the Throttle Position Sensors and Crankshaft Position/Engine Speed Sensor. 


The Air Temperature signal allows the ECM to make a calculation of intake air tempera¬ 
ture. The varying voltage input from the NTC sensor indicates the larger proportion of oxy¬ 
gen found in cold air, as compared to less oxygen found in warmer air. The ECM will adjust 
the amount of injected fuel because the quality of combustion depends on oxygen sensing 
ratio. 

The ignition timing is also affected by air temperature. If the intake air is hot the ECM retards 
the base igniton timing to reduce the risk of detonation. If the intake air is cooler, the base 
ignition timing will be advanced. The ECM uses this input as a determining factor for 
Secondary Air Injection activation (covered in the Emissions section). 

If this input is defective, a fault code will be set and the “Malfunction Indicator Light” will illu¬ 
minate when the OBD II criteria is achieved. The ECM will maintain engine operation based 
on the HFM and Engine Coolant Temperature sensor. 


The Suction Jet Pump is regulated by the ECM to provide sufficient vacuum for the brake 
booster under all operating conditions. The ECM controls the Suction Jet Pump Solenoid 
to allow vacuum flow through. The additional vacuum compensation is activated by the 
ECM when the idle air actuator is regulated for: 

• A/C Compressor “on” 

• Vehicle in gear and the clutch is released (driving under load) 

• Engine in warm-up phase <70° C 


Additional vacuum compensation is applied to the brake booster when the circuit is “deac¬ 
tivated” (Solenoid sprung open). Vacuum enhancement is limited to the brake booster 
when the control circuit is “activated” (Solenoid powered closed). 


27 

ST055 MS42/MS43 Air Management 








Workshop Hints 

Air Management 

Unmetered air leaks can be misleading when diagnosing faults causing “Malfunction 
Indicator LightVdriveability complaints. Refer to S.l. # 11 03 92 (3500) for testing intake 
vacuum leaks. 


Crankcase Ventilation System 

A fault in this system can often “mislead” diagnosis. This type of fault can produce: 

• Mixture/misfire detected codes 


Whistling noises 
Performance/driveability complaints 


Please refer to the following Service Information Bulletins for details on the Crankcase 
Ventilation System: 

• Crankcase Ventilation System Check S.l. #11 05 98 


Throttle Position Sensors - Testing 

The Throttle Position Sensors can be tested with the following methods: 


• DISplus Status Page (appox. 0.5v. to 4.5v) 


• DISplus Oscilloscope - Select from the Preset 
Measurement which requires taking the 
measurement with the ECM and Universal 
Adapter connected to the circuit (as shown 
on the right). 

• MS42: Resistance check of the dual 
potentiometer circuits, using the Universal 
Adapter with the ECM disconnected. 

• MS43 (shown): Voltage check of the dual 
Hall sensor circuits, using the Universal 
Adapter with the ECM disconnected. 



28 

ST055 MS42/MS43 Air Management 






























Idle Air Actuator Valve - Testing 


• The Idle Air Actuator Valve and air circuit (pas 
sage ways) should be checked for physical 
obstructions. Visually inspect the sealing gasket 
(1), mounting (2) and air hose clamps (3). 

• The resistance of the valve winding should be 
checked. 

• The ECM output and Idle Speed Control Valve 
operation can be tested by “Component 
Activation” on the DISplus/MoDIC. 

• The Pulse Width Modulated ground outputs 
from the ECM can be tested using the DISplus/ 
MoDIC Oscilloscope. 

• Consult Technical Data for specified idle speed. 


NOTE: If the valve is blocked or contaminated, 
an HFM fault code can also be present. 

For complaints on M54 3.0 Hesitates, 
Stumbles at Idle refer to Service Information 
Bulletins: 

• S.l. #12 51 00 and #12 10 00 on ECM Calibration 


Air Temperature Signal - Testing 






B 


NTC sensors decrease in resistance as the 


temperature rises and vice versa. The ECM 
monitors the sensor voltage which varies as 
temperature changes the resistance value. For 
example, as temperature rises: 

• Resistance through the sensor 
decreases. 

• Voltage drop across the sensor 
decreases. 

• Input signal voltage also 
decreases (5 - Ov) 


This sensor should be tested using: 

• DISplus/Modic Status page 

• DISplus/Modic Multimeter 
2.2 - 2.7 k ohms at 20° C 



29 

ST055 MS42/MS43 Air Management 






















































































































































































































































Hot-Film Air Mass Sensor 

This component is non-adjustable and tampering is not permitted. A faulty Hot-Film Air 


Mass Sensor can produce the following complaints: 



NOTE: Visually inspect the sensor for damaged, missing or blocked screens. The screens 
affect air flow calibration. Also inspect the sealing rings where the sensor inserts in the air 
filter housing and intake boot. Ensure the pin connections are tight. 


MS42 MDK 

• If a vehicle has a customer complaint of the “Malfunction Indicator and/or EML” Light on 
and fault codes relating to the MDK/plausibility, refer to the Service Information Bulletin 

“Motor Driven Throttle Valve (MDK)” SI # 12 07 99 for further detailed troubleshoot¬ 
ing. 

• If a vehicle has a customer complaint of “Engine Speed Appears To Hang During 
Shifts”, refer to the Service Information Bulletin SI # 12 17 99. This SI further details trou¬ 
bleshooting regarding the Clutch Switch/Circuit and upgrade to a three wire switch 
including ECM reprogramming. 


30 

ST055 MS42/MS43 Air Management 













































































































































































Tools and Equipment 


The DISplus/Modic as well as a reputable hand 
held multimeter can be used when testing 
inputs/components. 


It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 





The correct Universal Adapter for the MS42/ 
MS43 application should be used (#90 88 6 
121 300). This will ensure the pin connectors 
and the harness will not be damaged. 

When installing the Universal Adapter to the 
ECM (located in the Electronics Box in the 
engine compartment), make sure the ignition is 
switched off. 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



ii—ii—in 


F=1 


©©©©© 

©©© 0 © 




e \z 


IB# 


f=q 


©s©©© 

©©©©© 


NOTE for MS43: Allow at least 3 minutes to 
elapse after the key was set to the “OFF” 
position before disconnecting the ECM/ 
TCM. This will allow sufficient time to com¬ 
plete the DM TL test. Voltage may be pre¬ 
sent (up to 3 minutes) causing damage to 
the ECM/TCM if they are disconnected 
during this time period (arcing). 


26 
PIN 
BOX 
88 88 6 611 459 


©©© 0 ® 

©©© 0 © 

©©©©© 

© 



© 0 ©©© 

©©©©© 

©©©©© 

© 


26 
PIN 
BOX 
88 88 6 611 459 

13550063.eps 


The Slack Tube Manometer Test Tool (#99 00 0 
001 410) should be used to troubleshoot 
crankcase ventilation valves. 




31 

ST055 MS42/MS43 Air Management 




























































































































Fuel Management 



12550024.eps 


Fuel Tank: The fuel tank is made of 
high density polyethylene (reduced 
weight) which is manufactured to 
meet safety requirements. 

A mid-chassis mounted “saddle” type 
tank is used (E46, E39, E53) which 
provides a tunnel for the driveshaft but 
creates two separate low spots in the 
tank. 

A Syphon jet is required with this type 
of tank to transfer fuel from the left 
side, linked to the fuel return line. 

As fuel moves through the return, the 
siphon jet creates a low pressure (suc¬ 
tion) to pick up fuel from the left side 
of the tank and transfer it to the right 
side at the fuel pick up. 


The Z3 uses a conventional type fuel 
tank that is mounted between the 
seats and the luggage compartment. 
The Z3 has a single sending unit that 
(with the fuel pump) is accessed from 
behind the passenger seat. 


Fuel Pressure 
Regulator 





Transfer Pipe 




Sending Unit 
Pump 


a™ 



ET 


32 

ST055 MS42/MS43 Fuel Management 







































































































Fuel Pump: The electric fuel pump supplies constant 
fuel volume to the injection system. This system uses a 
single submersable (in the fuel tank) pump. The inlet is 
protected by a mesh screen. 

When the fuel pump is powered, the armature will 
rotate the impeller disc creating low pressure at the 
inlet. The fuel will be drawn into the inlet and passed 
through the fuel pump housing (around the armature). 

The fuel lubricates and cools the internals of the pump 
motor. 

The fuel will exit through a non-return check valve to 
supply the injection system. The non-return check valve 
is opened by fuel exiting the pump and will close when 
the pump is deactivated. This maintains a “prime” of 
fuel in the filter, lines, hoses and fuel rail. 

The pump contains an internal overpressure relief valve 
that will open (reducing roller cell pressure) if there is a 
restriction in the fuel supply hardware. 

Fuel Supply Components: The fuel is transfered from 
the fuel pump to the fuel filter. The fuel filter “traps” con- 
taminents before they reach the fuel injectors and 
should be replaced at the specified interval. The arrow 
on the filter denotes the installation direction (under the 
driver side floor). The large filter size also serves as a 
volume reservoir for pressurized fuel (dampening fuel 
pump pulsations). 

MS42 Running Losses refers to the fuel 
vapors that can escape to the atmosphere dur¬ 
ing vehicle operation. The fuel pump delivers 
more volume than the injection system requires. 

The unused fuel is routed through a return line 
to the tank at the fuel pressure regulator inte¬ 
grated in the Running Losses 3/2 Way Valve 
under the driver side floor. The fuel is constant¬ 
ly circulated in this manner. 

Using the by-pass type regulator reduces the 
returned fuel temperature to the tank. 

ST055 MS42/MS43 Fuel Management 






13550Q56.eps 

























MS42 Running Losses Fuel Supply: The ECM controls the operation of the Running 
Losses Fuel Circuit by activating the by-pass solenoid. The solenoid is energized for 20 
seconds on engine start up to supply full fuel volume to the fuel rail. After 20 seconds, the 
solenoid is deactivated and sprung closed (the by-pass is opened). This reduces the 
amount of fuel circulating through the fuel rail and diverts the excess to return through the 
fuel pressure regulator. 

The fuel injectors are provided with regulated fuel for injection but the returned fuel by-pass- 
es the engine compartment fuel rail thus lowering the temperature and amount of vapor¬ 
ization that takes place in the fuel tank. 

The solenoid is also activated momentarily if an engine misfire is detected. This function 
provides full fuel flow through the fuel rail to determine if the misfire was caused by a lean 
fuel condition. The solenoid is monitored by the ECM for faults. 



34 

ST055 MS42/MS43 Fuel Management 







































































































































































































MS43 Fuel Supply: The fuel is supplied through a Non Return Fuel Rail System. This sys¬ 
tem meets Running Loss compliance without the use of the 3/2 Way Valve. 

The fuel supply pressure is controlled by the 3.5 Bar fuel pressure regulator integrated in 
the fuel filter assembly. The regulator is influenced by internal fuel pressure and not intake 
manifold vacuum. The fuel exits the fuel pressure regulator supplying the fuel rail and the 
injectors. The fuel filter assembly is located under the left front floor area (next to the frame 
rail). 

The fuel return line is located on the filter/regulator assembly which directs the unused fuel 
back to the fuel tank. The fuel tank hydrocarbons are reduced by returning the fuel from 
this point (lower temperatures) instead of from the fuel rail. 



The fuel rail distributes an even supply of fuel to all of the injectors, and also serves as a 
volume reservoir. The fuel rail is secured by bolts to the intake manifold. 

Fuel Pressure Regulator: The Fuel Pressure Reg¬ 
ulator maintains a constant pressure for the fuel injec¬ 
tors. The fuel pressure is set to 3.5 bar (+/- 0.2) by 
internal spring tension on the restriction valve. The 
attached fuel pressure regulator is not influenced by 
vacuum. 


The ECM determines the fuel quantity compensation 
for manifold vacuum changes. This is based on throttle 
position, HFM and load for precise compensation. 


A small hose is routed to the crankcase cyclone sep¬ 
arator (in case of regulator diaphragm leakage). When 
the restriction valve opens, unused fuel returns from 
the regulator/filter assembly back to the fuel tank. 



35 

ST055 MS42/MS43 Fuel Management 




















































Siemens Fuel Injectors: The Fuel Injectors are elec¬ 
tronically controlled solenoid valves that provide pre¬ 
cise metered and atomized fuel into the engine intake 
ports. The Fuel Injector Valve consists of: 


1 . 

Fuel Strainer 

2. 

Electrical Connector 

3. 

Solenoid Winding 

4. 

Closing Spring 

5. 

Solenoid Armature 

6. 

Needle Valve 

7. 

Pintle 


Fuel is supplied from the fuel rail to the injector body. 
The fuel is channeled through the injector body to the 
needle valve and seat at the tip of the injector. Without 
electrical current, the needle valve is sprung closed 
against the seat. 

The Fuel Injectors receive voltage from the ECM Relay. 
The ECM activates current flow through the injector 
solenoid creating a magnetic field that pulls the needle 
“up” off of its seat. The pressurized fuel flows through 
the tip of the injector that is fitted with a directional 
angle "plate" with dual outlets. This “fans out” the 
spray into an angled patterns which helps to atomize 
the fuel. When the ECM deactivates current flow, the 
needle valve is sprung closed against the seat and fuel 
flow through the injector is stopped. The lower portion 
of the injector body is jacketed in metal. 

The length of time that the ECM activates the Fuel 
Injectors is very brief, the duration is in milli-seconds 
(ms). This affects the mount of fuel volume flowing 
through the Fuel Injectors. The ECM will vary the 
length of time (ms) to regulate the air/fuel ratio (mix¬ 
ture). 



A Fuel Injector is faulty (mechanical or electrical), it can produce the following complaints: 

• “Malfunction Indicator Light” • Misfire/Rough Idle (Leaking or Blocked) 

• Excessive Tailpipe Smoke (Leaking) • Long Crank Time (Leaking) 

• Engine Hydrolock (Leaking) 

• Oxygen Sensor/Mixture/Injector Related Fault Codes 


36 

ST055 MS42/MS43 Fuel Management 










































































Crankshaft Position/RPM Sensor (Hall Effect): This sensor provides the crankshaft 
position and engine speed (RPM) signal to the ECM for fuel pump and Injector operation. 


A Hall sensor is mounted on the left side at the 
rear of the engine block. The impulse wheel is 
mounted on the crankshaft inside the crank¬ 
case, at the rear main bearing support. The 
impulse wheel contains 58 teeth with a gap of 
two missing teeth. 


The Hall sensor is supplied with voltage from 
the ECM. A digital square wave signal is pro¬ 
duced by the sensor as the teeth of the impulse 
wheel pass by. The “gap” allows the ECM to 
establish crankshaft position. 

The crankshaft position sensor is monitored as part of OBD II requirements for Misfire 
Detection. If this input is faulty, the ECM will operate the engine (limited driveability) from the 
Camshaft Sensor input. A fault with this input will produce the following complaints: 

• Hard Starting/Long Crank Time • Driveability/Misfire/Engine Stalling 

• “Malfunction Indicator Light” 


CRANKSHAFT 
POSITION 
SENSOR 
(HALL EFFECT) 



Print Chai 


” Ml*” 1 II* 


BMW Test system Oscilloscope display 





- 

j 8 ®j 

- 

] 

MS 41.1 

[ 

— 

s® ® 

- 



SMOOTH RUNNING ENGINE 1 3550020 CDS 

(NOTE SQUARE WAVE SIGNAL) _ K 


Camshaft Sensors - Intake and Exhaust Camshafts 


The "static" Hall sensors are used so that the camshaft positions are recognized once igni 
tion is on (KL15) before the engine is started. The 
function of the intake cam sensor is: 


• Cylinder “work cycle” for injection timing 

• Synchronization 

• Engine speed sensor (if crankshaft speed sen¬ 
sor fails) 

• VANOS position control of the intake cam 

The exhaust cam sensor is used for VANOS 
position control of the exhaust cam. If these sen¬ 
sors fail there are no substitute values, the sys¬ 
tem will operate in the failsafe mode with no 


TWO POSITION PISTON ECM 
HOUSING WITH 
INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


KL 15 


SOLENOID 


MS42.0 



TWO POSITION PISTON HOUSING 
WITH INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


ENGINE 
OIL SUPPLY 


VANOS adjustment. The engine will still operate, but torque reduction will be noticeable. 


NOTE: Use caution on repairs as not to bend the impulse wheels. 


37 

ST055 MS42/MS43 Fuel Management 























































































































Engine Coolant Temperature: The Engine 
Coolant Temperature is provided to the ECM 
from an NTC type sensor located in the coolant 
jacket of the cylinder head (left rear). The sensor 
contains two NTC elements, the other sensor is 
used for the instrument cluster temperature 
gauge. 


The ECM determines the correct air/fuel mixture 
required for the engine temperature by monitor¬ 
ing an applied voltage to the sensor (5v). This 
voltage will vary (0-5v) as coolant temperature 
changes the resistance value. 

If the Coolant Temperature Sensor input is faulty, a fault code will be set the ECM will 
assume a substitute value (80° C) to maintain engine operation. 



Throttle Position: For details about the sensor, refer to the Air Management section. As 
the throttle is opened, the ECM will increase the volume of fuel injected into the engine. As 
the throttle plate is closed, the ECM activates fuel shut off if the rpm is above idle speed 
(coasting). 


Hot-Film Air Mass Meter (HFM): The air volume input signal is used by the ECM to 
determine the amount of fuel to be injected for correct air/fuel ratio. For details about the 
sensor, refer to the Air Management section. 


Air Temperature: This signal allows the ECM to make a calculation of air density. For 
details about the sensor, refer to the Air Management section. 

The varying voltage input from the NTC sensor indicates the larger proportion of oxygen 
found in cold air, as compared to less oxygen found in warmer air. The ECM will adjust the 
amount of injected fuel because the quality of combustion depends on oxygen sensing 
ratio. 


38 

ST055 MS42/MS43 Fuel Management 




















































































































Principle of Operation 


Fuel Management delivers fuel from the tank to the intake ports of the engine. To accom¬ 
plish this, fuel supply must be available to the fuel injectors. Then the fuel must be inject¬ 
ed in the precise amount and at the correct time. The ECM does not directly monitor fuel 
supply, although it does control fuel supply. The Fuel Pump supplies fuel when it receives 
operating voltage from the Engine Control Module Relay supplying the Fuel Pump Relay. 
The ECM controls and monitors fuel injection. 



12550024.eps 


The Fuel Pump will be activated when 
the ignition (KL15) is switched “on” and 
the ECM supplies a ground circuit to 
activate the Fuel Pump Relay. The Fuel 
Pump Relay supplies operating power to 
the in-tank mounted fuel pump. This is a 
momentary activation to “pressurize” 
(prime) the fuel system. 

The ECM then requires an engine speed 
signal from the Crankshaft Position/RPM 
Sensor to maintain continuous Fuel 
Pump Relay activation. 

If the engine RPM signal is not present, 
the ECM will deactivate the Fuel Pump 
Relay. 


Operating Power 



1355Q012.eps 


The Fuel Injectors will be opened by the ECM to inject pressurized fuel into the intake 
ports. The Fuel Injectors receive voltage from the Engine Control Module Relay. The ECM 
controls the opening by activating the ground circuits for the Solenoid Windings. The ECM 
will vary the duration (in milli-seconds) of “opening” time to regulate the air/fuel ratio. 


39 

ST055 MS42/MS43 Fuel Management 























































































Fuse 


The ECM has six Final Stage output transistors 
that switch ground to the six injector solenoids. 
The Injector “triggering” is first established from 
the Crankshaft Position/RPM Sensor. 


The ECM is programmed to activate the Final 
Stage output transistors once for every two rev¬ 
olutions of the crankshaft in two groups (Semi- 
Sequential Injection). 

The injectors are opened in two groups for every 



complete “working cycle” of the engine. This 
delivers the fuel charge for cylinders 1,5,3 dur¬ 
ing one revolution of the crankshaft and cylin¬ 
ders 6,2,4 during the second revolution of the 
crankshaft. This process enhances fuel atom¬ 
ization during start up. 

During start up, the ECM recognizes the 
Camshaft Position (Cylinder ID) input. The 
camshaft position is referenced to the crank¬ 
shaft position. It then switches the injection to 
Full Sequential. This process “times” the injec¬ 



tion closer to the intake valve opening for 


increased efficiency. 

When activated, each injector delivers the full 
fuel charge at separate times during each 
engine working cycle. 

If this input is faulty, the ECM will activate the 
injectors in Parallel to maintain engine operation 
and set a fault code. 



40 

ST055 MS42/MS43 Fuel Management 




The Injector “open” Time to maintain engine operation after it has been started is det¬ 
ermined by the ECM (programming). The ECM will calculate the injection “timing” based on 
a combination of the following inputs: 


• Battery Voltage 

• Throttle Position 

• Air Flow Volume/Mass 

• Air Temperature 

• Crankshaft Position/RPM 

• Camshaft Position (Cylinder ID) 

• Engine Coolant 

• Oxygen Sensor 
(Detail in Emissions) 



The injection ms value will be regulated based on battery voltage. When cranking, the volt¬ 
age is low and the ECM will increase the ms value to compensate for injector “lag time”. 
When the engine is running and the battery voltage is higher, the ECM will decrease the 
injection ms value due to faster injector reaction time. 

Cold starting requires additional fuel to compensate for poor mixture and the loss of fuel as 
it condenses onto cold intake ports, valves and cylinder walls. The cold start fuel quantity 
is determined by the ECM based on the Engine Coolant Temperature Sensor input during 
start up. 

During cranking, additional fuel is injected (in Semi-Sequential) for the first few crankshaft 
revolutions. After the first few crankshaft revolutions, the injected quantity is metered down 
as the engine comes up to speed. When the engine speed approaches idle rpm, the ECM 
recognizes the Camshaft Position and switches to Full Sequential injection. 

When the engine is cold, optimum fuel metering is not possible due to poor air/fuel mixing 
and an enriched mixture is required. The Coolant Temperature input allows the ECM to 
adjust the injection ms value to compensate during warm up and minimize the the inject¬ 
ed fuel at engine operating temperature. 

41 

ST055 MS42/MS43 Fuel Management 

















































When the engine is at idle, minimum injection is required. Additional fuel will be added if the 
ECM observes low engine rpm and increasing throttle/air volume inputs (acceleration 
enrichment). As the throttle is opened, the ECM monitors acceleration and rate of move¬ 
ment. The ECM will increase the volume of fuel injected into the engine by increasing the 
injection ms value. The “full throttle” position indicates maximum acceleration and the ECM 
will add more fuel (full load enrichment). 

As the throttle is closed, the ECM decreases the injection ms value (fuel shut off) if the rpm 
is above idle speed (coasting). This feature decreases fuel consumption and lowers emis¬ 
sions. When the engine rpm approaches idle speed, the injection ms value is increased 
(cut-in) to prevent the engine from stalling. The cut-in rpm is dependent upon the engine 
temperature and the rate of deceleration. 

The Hot-Film Air Mass (HFM) signal provides the measured amount of intake air vol¬ 
ume/mass. This input is used by the ECM to determine the amount of fuel to be injected 
to “balance” the air/fuel ratio. 

The Air Temperature Signal allows the ECM to make an additional calculation of air densi¬ 
ty. The varying voltage input from the NTC sensor indicates the larger proportion of oxygen 
found in cold air, as compared to less oxygen found in warmer air. The ECM will adjust the 
amount of injected fuel because the quality of combustion depends on oxygen sensing 
ratio (details in Emissions). 

The Crankshaft Position/RPM signals the ECM to start injection as well as providing infor¬ 
mation about the engine operation. This input is used in combination with other inputs to 
determine engine load which increases/decreases the injection ms value. Without this in¬ 
put, the ECM will not activate the injectors. 

The Camshaft Postion (Cylinder ID) affects the injection timing (Semi-Sequential/Full 
Sequential). To accomplish this, the ECM contains six Final Stage output transistors that 
activate the injectors individually. The engine operates sufficiently on Semi-Sequential 
Injection (two groups of three), but more efficiently on Full Sequential Injection (six individ¬ 
ual). If one of the fuel injector circuits faulted, the engine can still operate on limited power 
from the other remaining fuel injector circuits. 


42 

ST055 MS42/MS43 Fuel Management 



Injection “Reduction” Time is required to 
control fuel economy, emissions, engine and 
vehicle speed limitation. The ECM will “trim” 
back or deactivate the fuel injection as neces¬ 
sary while maintaining optimum engine opera¬ 
tion. 

As the throttle is closed during deceleration, the 
ECM decreases the injection ms value (fuel shut 
off) if the rpm is above idle speed (coasting). 
This feature decreases fuel consumption and 
lowers emissions. 


/ ENGINE SPEED 

/REFSIGNAL 

ECM 



M INJ 
SF #1 

w 

% 

^y inj 

sF #2 

CLOSED 

THROTTLE 

J POSITION 

w 

& INJ 

# * 3 

w 

& 

^y inj 

sF #4 

• a. 

J °5 T ' 

13550018.eps 


K 

^y inj 

sF #5 

w 

JP INJ 

5F #6 


When the engine rpm approaches idle speed, the injec¬ 
tion ms value is increased (cut-in) to prevent the engine 
from stalling. The cut-in rpm is dependent upon the 
engine temperature and the rate of deceleration. This 
function can be observed as displayed on the Fuel 
Economy (MPG) gauge. 

The ECM will selectively deactivate injectors to control 
maximum engine rpm (regardless of vehicle speed). 
When the engine speed reaches 6500 rpm, the injec¬ 
tors will be individually deactvated as required to pro¬ 
tect the engine from over-rev. As the engine speed 
drops below 6500 rpm, injector activation will be 
resumed. This feature does not protect the engine 
from a forced over-rev such as improperly down¬ 
shifting a manual transmission equipped vehicle 
(driver error). 



Maximum vehicle speed is also limited by the 
ECM selectively deactivating the injectors 
(regardless of engine rpm). 

This limitation is based on the vehicle dimen¬ 
sions, specifications and installed tires (speed 
rating). 



43 

ST055 MS42/MS43 Fuel Management 




























































The ECM will also protect the 
Catalytic Converter by deactivat¬ 
ing the injectors. 

If the ECM detects a “misfire” 
(ignition, injection or combustion) 
it can selectively deactivate the 
Final Stage output transistor for 
that cylinder(s). 

The injector(s) will not open, pre¬ 
venting unburned fuel from enter¬ 
ing the exhaust system. 

On the MS42/MS43 system, 
there are six individual injector cir¬ 
cuits resulting in deactivation of 
one or multiples. This will limit 
engine power, but protect the 
Catalytic Converter. 


PRIMARY 


w 

I 


SECONDARY 




PRIMARY 


¥ 

I 


SECONDARY 


PRIMARY 


X 


PRIMARY 


W 


SECONDARY 


1 

xfu 


¥ 

I 


SECONDARY 


x v 


PRIMARY 


W 


SECONDARY 


V_ 

t 


PRIMARY 


¥ 

I 


SECONDARY 




ECM 







13550022.eps 


& 


SP 



6? 



SP 



SP 



SP 



SP 



INJ 
# 1 


& 


& 


& 


& 


& 


INJ 

#2 

INJ 

#3 


INJ 

#4 


INJ 

#5 


INJ 

#6 


Fuel Injection Control Monitoring is performed by the ECM for OBD II requirements. 
Faults with the fuel injectors and/or control circuits will be stored in memory. This monitor¬ 
ing includes: 


• Closed Loop Operation 

• Oxygen Sensor Feedback 

These additional corrections are factored into 
the calculated injection time. If the correction 
factor exceeds set limits a fault will be stored in 
memory. 

When the criteria for OBD II monitoring is ach¬ 
ieved, the “Malfunction Indicator Light” will be 
illuminated. 



44 

ST055 MS42/MS43 Fuel Management 












































Workshop Hints 

Before any service work is performed on any fuel system related component, 
always adhere to the following: 

• Observe relevent safety legislation pertaining to your area. 

• Ensure adequate ventilation. 

• Use exhaust extraction system where applicable (alleviate fumes). 

• DO NOT OPERATE THE FUEL PUMP unless it is properly installed in the fuel tank 
and is submersed in the fuel (fuel lubricates the pump). 

• DO NOT SMOKE while performing fuel system repairs. 

• Always wear adequate protection clothing including eye protection. 

• Use caution when working around a HOT engine compartment. 

• During fuel system repairs that involve “sealing rings”, always replace them with new 
COPPER sealing rings only. 

• BMW does not recommend any UNAUTHORIZED MODIFICATIONS to the fuel system. 
The Fuel systems are designed to comply with strict federal safety and emissions regulations. 
In the concern of product liability, it is unauthorized to sell or perform modifications to 
customers vehicles, particularly in safety related areas. 

• Always consult the Repair Instructions on the specific model you are working on before 
attempting a repair. 


Fuel 

Fuel quality should always be considered when diagnosing a driveability complaint. The 
type of fuel, proper AKI rating, impurities and moisture are not factored by the ECM. 

Please refer to the Owner’s Manual and following Service Information Bulletins regarding 
fuel: 

• Gasoline Fuel Quality S.l. #13 01 88 (1564) • Gasoline Additive S.l. #13 04 88 (1591) 


45 

ST055 MS42/MS43 Fuel Management 


















Fuel Supply 

The fuel supply hardware should be visually inspected for damage that can affect pick-up, 
transfer, pressure and return. Please refer to the Repair Instructions and the following 
Service Information Bulletins details on fuel supply hardware: 

• Fuel System Modifications S.l. #16 01 81 


Fuel Pump and Sending Unit Access 

All BMW vehicles have access plates to service 
the fuel pump and sending unit(s) without 
removing the fuel tank. 


The E46/E39 access plates are located under 
the rear seat. The “saddle” type fuel tank (under 
rear seat) has two access plates. 



access to the sending unit. 



The Z3 has a single access plate located behind the pas¬ 
senger seat. 



46 

ST055 MS42/MS43 Fuel Management 


X355QQ23 






























Draining the Fuel Tank 

In order to remove the fuel tank it must be drained first 
to avoid fuel spills and handling excessive weight. In 
some cases depending on the fuel tank dimensions 
(vehicle specific), it is also necessary to drain the fuel 
tank to replace the sending units and/or fuel pump. 



CAUTION: In some vehicles, the sending units/fuel 
pump is mounted lower than the top of the fuel tank. 

A fuel spill will be encountered if the fuel is not drained. 

NOTE: Consult the BMW Service Workshop Equip¬ 
ment for the proper evacuation equipment. The saddle 
type tank requires an additional step to drain the fuel 
from the driver side. The evacuation equipment should 
be attached to the tank compensating hose (arrow) to 
drain out the remaining fuel. 


Fuel Pump/Pressure Regulator - Testing 

The fuel pump should be tested for delivery pressure 
and volume. Caution when disconnecting fuel hoses 
because there is the possibility of residual fuel pres¬ 
sure! Install the fuel pressure adapter and DISplus 
pressure sensing lead to the fuel pressure fitting 
*DISplus starts with atmospheric pressure as the base. 

Remove the fuel pump relay (Z3 located in the 
Electronics Box, E46 located behind the glove box 
and E39 right side of the trunk - see relay testing in the 
power supply section) and connect the Relay Bypass 
Switch to pin 87b and 30 of the relay socket. This will 
activate the fuel pump without running the engine. 

If the 3.5 (*+ atmosphere DISplus base starting point) 
bar fuel pressure is not achieved or bleed off is more 
than 0.5 bar, refer to 13 31 of the Repair instruc¬ 
tions for further diagnosis. The Fuel Hose Clamp Tool 
can be used to isolate bleed off from the pump (non¬ 
return check valve) or the pressure regulator (restriction 
valve). Also verify power supply to the fuel pump. 



13550015.eps 


BMW Test system Multimeter 


4.55 bar 


Hold Screen 

Minimum 

Maximum 



System voltage 
Engine speed 


0.0 25.0 


Measurement 

function 


Voltage 

V 


Resistance 


Tempeature 

Ohm 


°C 




Current 

50A 


_ 


_ 



2A 



1000A 


-1 >1- 


bar 


fend 

measurement 


Test connection 


MFK 1 


MFK 2 


Current 

1000A 


Pressure 

bar 


Temperature 

sensor 


Type of 
measurement 


Effective value 


Measuring range 


automatic 


i~ri i°- 25bar i m 


(stimulate 




47 

ST055 MS42/MS43 Fuel Management 




Fuel volume must be tested to verify: 

• Fuel Pump Output 

• Restriction are not present in the pump pickup 
lines/hoses and fuel filter 



13550029.jpg 


Fuel Injectors 

When inspecting the fuel injectors, consider the 
following: 

• O-rings should be replaced, lubricated with 
Vaseline or SAE 90 gear oil for installation 

• Verify the code number (different engine appli¬ 
cations) 

• Plastic spacer washer is not damaged 

• Color code of housing (different engine applica¬ 
tions) 



Fuel injectors can leak which bleeds off fuel 
pressure and increases emissions. The injectors 
can be tested using the Fuel Injector Leakage 
Tester. 

The fuel injectors can be cleaned, refer to 
Service Information Bulletin S.l. #04 07 86. 



13550031 .jpg 


48 

ST055 MS42/MS43 Fuel Management 
















The Fuel Injectors should also be tested using the DISplus/MoDIC for: 


• Resistance 

• Power Supply 

• Status Display - Fuel Injection Signal 

(approximate 3.5 - 5 ms) 

• ECM Final Stage transistor activation. This test 

function is found under the Oscilloscope 
Preset list - “Ti Injection Signal”. Install the 
Universal Adapter, Diagnostic cable, MFK 2 
negative lead to ECM ground and MFK 2 
positive lead to the ground activation cicuit 
for the injector. This test is performed with 
the engine cranking or running. 



MFK 2 

Negative MFK2 

i355Qoio.eps Positive 
















































































































































































50 

ST055 MS42/MS43 Fuel Management 



























































































































































































Engine Coolant Temperature 


NTC sensors decrease in resistance as the temperature rises and vice versa. The ECM 
monitors the sensor voltage which varies as temperature changes the resistance value. For 
example, as temperature rises: 



51 

ST055 MS42/MS43 Fuel Management 




























































































































































































Tools and Equipment 


The DISplus/Modic as well as a reputable hand 
held multimeter can be used when testing 
inputs/components. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 

The correct Universal Adapter for the 
MS42/MS43 application should be used (#90 
88 6 121 300). This will ensure the pin connec¬ 
tors and the harness will not be damaged. 

When installing the Universal Adapter to the 
ECM (located below the windshield on the pas¬ 
senger side of the engine compartment), make 
sure the ignition is switched off. 

NOTE for MS43: Allow at least 3 minutes to 
elapse after the key was set to the “OFF” 
position before disconnecting the ECM/ 
TCM. This will allow sufficient time to com¬ 
plete the DM TL test. Voltage may be pre¬ 
sent (up to 3 minutes) causing damage to 
the ECM/TCM if they are disconnected 
during this time period (arcing). 






SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



1=1 


®©©©© 

©©©s© 

©©©s© 

©©©©© 

©©©©© 

© 


m ii i 

n 

n 

g 

p 

e 

z 

V 


26 
PIN 
BOX 
88 88 6 611 459 



1=1 


©©©©© 

©©©©© 

©©©©© 

©©©a© 

©©©a© 

© 


26 
PIN 
BOX 
88 88 6 611 459 



The Fuel Hose Clamp Tool (#13 3 010) can be 
used for isolating pressure faults. In addition, 
fuel loss can be reduced when changing the 
fuel filter while losening clamps (1 and 2). 

The Relay Bypass Switch (#61 3 050) must be 
used especially when fuel vapors are pre¬ 
sent! The switch eliminates the risk of electrical 
arcing. 



52 

ST055 MS42/MS43 Fuel Management 



























































































































When testing fuel pressure, the hand held fuel pressure 
gage (#13 3 060) can be used. 


Caution: Residual fuel pressure may be present! 


The DISplus is equipped with a pressure measuring 
function, found in Measurement testing. The following 
adapters (Special Tool numbers) will be necessary: 

• #13 6 051 • #13 6 055 • #13 6 057 


These adapters install “in line” in the fuel pressure 
hose. 


For vehicles equipped with “quick-release” couplings, 
install special tool (#13 5 270) between the fuel filter (1) 
and pressure supply hose (2). This tool will couple to 
the DISplus Pressure Adapter (3). 


Later production fuel rails are equipped with a thread¬ 
ed adapter fitting (1). 


This threaded adapter fitting allows Adapter #13 5 220 
to be threaded on to the fuel rail and coupled to the 
DISplus Pressure Adapter. 


53 

ST055 MS42/MS43 Fuel Management 






13550022.eps 



























































































































When testing the fuel injectors for leakage, use Special Tool #88 88 5 000 362. Leak test¬ 
ing the fuel injectors is one of the diagnostic steps listed in “Long Cranking Times” S.l. #13 
08 90 (3096). This tool pressurizes the injectors with air and the injector tips are submersed 
in water. If air bubles are present, this indicates the leaking injector(s). 



13550032.jpg 


54 

ST055 MS42/MS43 Fuel Management 






Ignition Management 


12550025.eps 



Ignition Coils: The high voltage supply required to ignite the mixture in the combustion 
chambers is determined by the stored energy in the ignition coils. The stored energy con¬ 
tributes to the ignition duration, ignition current and rate of high voltage increase. The Coil 
circuit including primary and secondary components consists of: 


1. Coil Assembly 

• Primary Winding 

• Secondary Winding 

2. Resistor (Boot Connector) 

3. Spark Plug 

4. ECM Final Stage Transistor 

5. Secondary Coil Ground with 235 ohm 
Resistor 




12550011 .eps _ 

The Coil Assembly contains two copper windings insulated from each other. One winding 
is the primary winding, formed by a few turns of thick wire. The secondary winding is 
formed by a great many turns of thin wire. 

The primary winding receives battery voltage from the Ignition Coil Power Relay which is 
activated by the ignition switch KL15. The ECM provides a ground path for the primary coil 
(Terminal 1) by activating a Final Stage transistor. The length of time that current flows 
through the primary winding is the “dwell” which allows the coil to “saturate” or build up a 
magnetic field. After this storage process, the ECM will interupt the primary circuit at the 
point of ignition by deactivating the Final Stage transistor. The magnetic field built up with¬ 
in the primary winding collapses and induces the ignition voltage in the secondary winding. 


55 

ST055 MS42/M43 Ignition Management 
























































































The voltage generated in the secondary winding 
is capable of 40,000 volts (40 KV). The high 
voltage is discharged (Terminal 4) through the 
secondary ignition spark plug connector (boot) 
to the spark plug. 


The primary and secondary windings are un¬ 
coupled, therefore, the secondary winding 
requies a ground supply (Terminal 4a). 


The secondary grounds through a “shunt resis¬ 
tor” (approximately 235 ohms). The secondary 
ground is also supplied to the ECM which 
allows monitoring of secondary ignition. The 
resistor is located in the wiring tray on top of the 
cylinder head cover. 

As the secondary magnetic field collapses, a voltage spike is induced in the windings. The 
ECM monitors the voltage drop across the resistor as an indication of coil firing. After the 
ECM activates the primary ignition, this feedback signal (Terminal 4a Signal) is confirma¬ 
tion that secondary ignition took place. The ECM measures the duration of time it takes the 
voltage drop for each ignition coil to dissipate below two volts. The time scale constantly 
changes based on engine rpm. 



• If the 2 volt signal is not maintained long enough, the ECM detects a week spark. 

• If the feedback signal is not present (0 volts) ignition did not take place. 


If the signal is missing, an ignition coil fault will be set for that cylinder. If multiple signals are 
missing, a feedback circuit fault will be set. If the ground circuit is defective, a ground fault 
will be set. 

There is an individual ignition circuit and coil for 
each cylinder on the MS42/MS43 systems. 

The six individual ignition coils (1) are coupled to 
spark plug connectors (2) which contain a resis¬ 
tor. The assemblies are mounted on top of the 
cylinder head cover. 

There are two manufactures of ignition coils: 

Bremi and Bosch. 



56 

ST055 MS42/M43 Ignition Management 



































































Spark Plugs: The spark plugs introduce the ignition energy 
into the combustion chamber. The high voltage “arcs” across 
the air gap in the spark plug from the positive electrode to the 
negative electrode. This creates a spark which ignites the 
combustable air/fuel mixture. 

The spark plugs are located in the center of the combustion 
area (on the top of the cylinder head) which is the most suit¬ 
able point for igniting the compressed air/fuel mixture. 

Note: The High Performance Platinum Spark Plugs are 
approved for use. 



• NGK BKR6EQUP (quad electrode, non-adjustable gap) 


Faults with the Ignition Output Components are monitored by the ECM. If there are 
faults with the ignition coil(s) output and/or spark plugs, the following complaints could be 
encountered: 

• “Malfunction Indicator Light” With Mixture Related Fault Codes 

• Poor Engine Performance 

• Engine Misfire 

• No Start/Hard Starting 

• Excessive Exhaust Emissions/Black Smoke 


The ignition is monitored by the ECM via the secondary ignition feedback circuit and 
Crankshaft Position/RPM Sensor. If a Misfire fault is present, the “Malfunction Indicator 
Light” will illuminate when the OBD II criteria is achieved and the ECM will deactivate the 
corresponding fuel injector for that cylinder. Engine operation will still be possible. 

The Ignition Output Components must be individually tested (see Workshop Hints). 


57 

ST055 MS42/M43 Ignition Management 









Knock Sensors: are required to prevent detonation (pinging) from damaging the engine. 
The Knock Sensor is a piezoelectric conductor-sound microphone. The ECM will retard the 
ignition timing (cylinder selective) based on the input of these sensors. Detonation can 
occur due to: 

• High Compression Ratio • Maximum Timing Advance Curve 

• Poor Quality Fuel (Octane Rating) • High Intake Air and Engine Temperature 

• High Level of Cylinder Filling • Carbon Build-Up (Combustion Chamber) 


The Knock Sensor consists of: 

1. Shielded Wire 

2. Cup Spring 

3. Seismic Mass 

4. Housing 

5. Inner Sleeve 

6. Piezo-Ceramic Element 



A piezo-ceramic ring is clamped between a seismic mass and the sensor body. When the 
seismic mass senses vibration (flexing), it exerts a force on the peizo-ceramic element. 
Opposed electrical charges build up on the upper and lower ceramic surfaces which gen¬ 
erates a voltage signal. The acoustic vibrations are converted into electrical signals. These 
low voltage signals are transmitted to the ECM for processing. 


There are two Knock Sensors bolted to the 
engine block on the intake manifold side, (1) 
between cylinders 1 - 3 and (2) between cylin¬ 
ders 4 - 6. If the signal value exceeds the 
threshold, the ECM identifies the “knock” and 
retards the ignition timing for that cylinder. 

If a fault is detected with the sensor(s), the ECM 
deactivates Knock Control. The “Malfunction 
Indicator Light” will be illuminated when the 
OBD II criteria is achieved, the ignition timing 
will be set to a conservative basic setting and a 
fault will be stored. 


-v 


i—w 



13550001 .bmp 


58 

ST055 MS42/M43 Ignition Management 




















Crankshaft Position/RPM Sensor: This sensor provides the crankshaft position and 
engine speed (RPM) signal to the ECM for ignition activation and correct tinning. This input 
is also monitored for Misfire Detection. For details about the sensor, refer to the Fuel 
Management section. 


A fault with this input will produce the following 
complaints: 


No Start 


Intermitant Misfire/Driveabilty 


Engine Stalling 


CRANKSHAFT 
POSITION 
SENSOR 
(HALL EFFECT) 



“ 

*)N- 


— 

1 



1 

- 

SL 

■ 

- 


niSEjQ 

BMW Test system Oscilloscope display 

a 



E3 


SQQ EHI D 


SMOOTH RUNNING ENGINE 
(NOTE SQUARE WAVE SIGNAL) 


13550010.eps 


Camshaft Position Sensors (Cylinder Identification): The cylinder ID sensor input 
allows the ECM to determine camshaft position in relation to crankshaft position. It is used 
by the ECM to establish the “working cycle” of the engine for precise ignition timing. For 
details about the sensor, refer to the Fuel Management section. 

If the ECM detects a fault with the Cylinder ID Sensor, the “Malfunction Indicator Light” will 
be illuminated when the OBD II criteria is achieved and the system will still operate precise 
single ignition based on the Crankshaft Position/RPM Sensor. 

If the signal is impaired during a restart, the ECM will activate “double ignition”. The igni¬ 
tion coils will be activated on both the compression and exhaust strokes to maintain engine 
operation. 


59 

ST055 MS42/M43 Ignition Management 



































































Engine Coolant Temperature: The ECM 

determines the correct ignition timing required 
for the engine temperature. For details about 
the sensor, refer to the Fuel Management sec¬ 
tion. This sensor is located in the coolant jacket 
of the cylinder head (left rear). 

If the Coolant Temperature Sensor input is 
faulty, the “Malfunction Indicator Light” will be 
illuminated when the OBD II criteria is achieved 
and the ECM will assume a substitute value (80° 
C) to maintain engine operation. The ignition 
timing will be set to a conservative basic setting. 




13550015. 


Hot-Film Air Mass Meter: This input is used by the 
ECM to determine the amount of ignition timing 
advance based on the amount of intake air volume. For 
details about the sensor, refer to the Air Management 
section. 

If this input is defective, a fault code will be set and the 
“Malfunction Indicator Light” will illuminate when the 
OBD II criteria is achieved. The ECM will maintain 
engine operation based on throttle position and the 
Engine Speed Sensor, and the ignition timing will be 
set to a conservative basic setting. 






13550004.eps 


Throttle Position: This provides the ECM with accelerator pedal position and rate of 
movement. As the accelerator pedal is depressed the ECM will advance the ignition timing. 
The “full throttle” position indicates maximum acceleration to the ECM, the ignition will be 
advanced for maximum torque. For details about the sensor, refer to the Air Management 
section. 


60 

ST055 MS42/M43 Ignition Management 


















































































































































































































Air Temperature: This signal allows the ECM to make a calculation of air density. For 
details about the sensor, refer to the Air Management section. 

The ECM will adjust the ignition timing based on air temperature. If the intake air is hot the 
ECM retards the igniton timing to reduce the risk of detonation. If the intake air is cooler, 
the ignition timing will be advanced. 

If this input is defective, a fault code will be set and the “Malfunction Indicator Light” will illu¬ 
minate when the OBD II criteria is achieved. The ignition timing will be set to a conservative 
basic setting. 


61 

ST055 MS42/M43 Ignition Management 



Principle of Operation 


Ignition Management provides ignition to the combustion chambers with the required volt¬ 
age at the correct time. Based on the combination of inputs, the ECM calculates and con¬ 
trols the ignition timing and secondary output voltage by regulating the activation and 
dwell of the primary ignition circuits. The ECM controls and monitors the secondary igni¬ 
tion output including Misfire Detection. 


12550025.eps 



The ECM has a very “broad” range of ignition timing. This is possible by using a Direct 
Ignition System, or sometimes refered to as “Static Ignition System” (RZV). Reliability is also 
increased by having separate individual ignition circuits. 


The Ignition Control is determined by the ECM (load dependant). The ECM will calculate 
the engine “load” based on a combination of the following inputs: 


• Battery Voltage 

• Accelerator Pedal Position 

• Air Flow Volume 

• Air Temperature 

• Engine Coolant 

• Crankshaft Position/RPM 

• Camshaft Positions (Cylinder ID) 

• Knock Sensors 



The dwell time will be regulated based on battery voltage. When cranking, the voltage is 
low and the ECM will increase the dwell to compensate for saturation “lag time”. When the 
engine is running and the battery voltage is higher, the ECM will decrease the dwell due to 
faster saturation time. 

The Crankshaft Position/RPM signals the ECM to start ignition in firing order (1 -5-3-6-2-4) 
as well as providing information about the engine operation. This input is used in combina¬ 
tion with other inputs to determine engine load which advances/retards the ignition timing. 
Without this input, the ECM will not activate the ignition. 


62 

ST055 MS42/M43 Ignition Management 














































Cold start is determined by the 
ECM based on the engine 
coolant temperature and rpm 
during start up. A cold engine will 
crank over slower than a warm 
engine, the ignition timing will 
range between top dead center 
to slightly retarded providing opti¬ 
mum starting. 

When starting a warm engine, the 
rpm is higher which results in 
slightly advanced timing. 

If the engine coolant and intake 
air temperature is hot, the ignition 
timing will not be advanced 
reducing starter motor “load”. 



Multiple Ignition Pulses ensure good spark 
quality during engine start up. The ECM will 
activate the ignition coils 9 times (voltage 
dependent) per 720° of crankshaft revolution. 

The ignition timing will be progressively 
advanced assisting the engine in coming up to 
speed. As the engine speed approaches idle 
rpm, the timing remains slightly advanced to 
boost torque. When the engine is at idle speed, 
minimum timing advance is required. This will 
allow faster engine and catalyst warm up. 


Print 


Change 


End 


Services 


BMW Test system Oscilloscope display 


V j< 

2M 



Memory 

y 



IE 












I 

aJ 

/\J 

aJ 

A* 

aJ 

aJ 

aJ 

L 


r 


f ■ 

If 

r 

f 

f 

If 










-2£ 

-15 -5 5 15 

-20 -10 0 10 20 

ms 


Help 


Hold Screen 


MULTIPLE 
IGNITION 
PULSES 
FROM 
EACH COIL 


<] 


Function 


Document 


Test 


Selection 




Module 


Z7 


l<] t> 



12550011.eps 


The multiple pulsing switches to single pulse when: 

• Engine Speed >1350 RPM (varied with engine temperature) 


The timing will be advanced when the ECM observes low engine rpm and increasing throt¬ 
tle/air volume inputs (acceleration torque). As the throttle is opened, the ECM advances the 
timing based on engine acceleration and at what rate. The ECM will fully advance timing for 
the “full throttle” position indicating maximum acceleration (torque). 


63 

ST055 MS42/M43 Ignition Management 


















































































































































































































































































MS43 Emission Optimized - Ignition Key Off 


“Emission Optimized Ignition Key Off” is a 
programmed feature of the MS43 ECM. 

After the ECM detects KL15 is switched 
“off”, the ignition stays active (ECM 
Relay/voltage supply) for two more indi¬ 
vidual coil firings. 


EMISSION OPTIMIZED IGNITION KEYOFF 

MS42 


RPM 



Already injected fuel 


before “key off” 

IGNITION 


a_ 



Start key off 



This means that just two cylinders are 
fired - not two revolutions. 

This feature allows residual fuel injected ._ 

into the cylinders, as the ignition key is j start 
switched off, to be combusted as the 13410009 .eps 
engine runs down. 


MS43 

RPM 

INJECTION 

IGNITION 


key off 


ignition off 



When KL15 is switched “off” the 
ECM operating voltage is removed. 





>- 


The ECM will maintain a ground to 
the Engine Control Module Relay for 
a few seconds to maintain ignition 
coil activation. 



64 

ST055 MS42/M43 Ignition Management 



















The HFM signal represents the amount of intake air volume. This input is used by the ECM 
to determine the amount of timing advance to properly combust the air/fuel mixture. 

The Air Temperature Signal assists the ECM in reducing the risk of detonation (ping). If the 
intake air is hot the ECM retards the igniton timing. If the intake air is cooler, the ignition tim¬ 
ing will be advanced. 

As the throttle is closed, the ECM decreases the ignition timing if the rpm is above idle 
speed (coasting). This feature lowers the engine torque for deceleration. When the engine 
rpm approaches idle speed, the timing is slightly advanced to prevent the engine from 
stalling. The amount of advance is dependent upon the engine temperature and the rate of 
deceleration. 

Knock Control allows the ECM to further advance the ignition timing under load for 
increased torque. This system uses two Knock Sensors located between cylinders 1,2,3 
and between cylinders 4,5,6. Knock Control is only in affect when the engine temperature 
is greater than 35 °C and there is a load on the engine. This will disregard false signals while 
idling or from a cold engine. 


Based on the firing order, the 
ECM monitors the Knock Sen¬ 
sors after each ignition for a nor¬ 
mal (low) signal. 


If the signal value exceeds the 
threshold, the ECM identifies the 
“knock” and retards the ignition 
timing (3°) for that cylinder the 
next time it is fired. This process 
is repeated in 3° increments until 
the knock ceases. 

The ignition timing will be adv¬ 
anced again in increments to just 
below the knock limit and main¬ 
tain the timing at that point. 


HUNITW OUVBUB i ii?* 
NOISE. 5IUILU1 TO 
I l Wn-.P-fiPhOk F 



13550010.jpg 


If a fault is detected with the Knock Sensor(s) or circuits, the ECM deactivates Knock 
Control. The ignition timing will be set to a conservative basic setting (to reduce the risk of 
detonation) and a fault will be stored. The “Malfunction Indicator Light” will be illuminated 
when the OBD II criteria is achieved. 


65 

ST055 MS42/M43 Ignition Management 




Workshop Hints 


Before any service work is performed on any ignition system related component, 
always adhere to the following: 

• Observe relevent safety legislation pertaining to your area 

• Always wear adequate protection clothing including eye protection. 

• Use caution when working around a HOT engine compartment. 

• Always consult the REPAIR INSTRUCTIONS on the specific model you are working on before 
attempting a repair. 

• Always SWITCH OFF THE IGNITION (KL15) before working on the ignition system. 

• Use only BMW approved test leads. 

• NEVER TOUCH COMPONENTS CONDUCTING CURRENT with the engine running. 

• Do not connect suppression devices or a “test light” to terminal 1 of the ignition coils. 

• Terminal 1 from the ignition coil to the ECM (High Voltage approximately 350 V) 


HIGH VOLTAGE - DANGER! 

Caution! Hazardous voltages occur at: 

• Ignition Leads 

• Spark Plug Connector 

• Spark Plug 

• Ignition Coil (High Voltage at terminal 4 is approximately 40 KV) 

• Terminal 1 from the ignition coil to the ECM (High Voltage approximately 350V) 


66 

ST055 MS42/M43 Ignition Management 




















Ignition System Diagnosis 


A fault survey should first be performed using the DISplus/MoDIC to determine if there is a 
fault in the primary ignition or secondary ignition. If there is a fault in the primary ignition, 
testing should include: 


Power Supply at the Coil (KL15) 


• Resistance of the harness and ignition coil 
primary winding (terminal 15 to 1 approx: 

0.8 ohms) - using the Universal Adapter with 
the ECM disconnected 


A. ECM Primary Circuit Final Stage Transistor 


B. ECM Ignition Coil (one of six) 


C. Secondary Coil Ground 



ECM Final Stage transistor activation. This test 
function is found under the Oscilloscope Preset 
list - “Ignition Signal Primary” (normal Terminal 1 
Signal shown on the right). 

Install the Universal Adapter, Diagnostic cable, 
MFK 2 negative lead to ECM ground and MFK 
2 positive lead to the ground activation circuit 
for Terminal 1 of the ignition coil. This test is per¬ 
formed with the engine cranking/running. 


The Terminal 4a Signal should be tested 
using the DIS “Preset Measurements”. Refer to 
the HELP button for additional (on screen) con¬ 
nections. 

There is one signal present for each secondary 
ignition. This signal represents successful coil 
induction. 

This Signal does not verify the adapter 
(boot) and spark plug is functioning cor¬ 
rectly! Therefore additional secondary igni¬ 
tion testing should be performed. 




12550009.eps 


67 

ST055 MS42/M43 Ignition Management 























































































If there is a fault in the secondary ignition, testing should include: 


• Primary Ignition • Evaluation of Secondary Oscilloscope Patterns 


The Following are Examples of Secondary 
Oscilloscope Patterns (consult Repair 
Instructions for ignition pattern variations per 
coil manufacturer): 


This is a normal pattern for one ignition circuit 
with the engine at idle speed. 


1. Normal Combustion Period 


2. Normal Ignition Voltage Peak 


Multiple Ignition Pulses ensure good spark 
quality during engine start up. The ECM will 
activate the ignition coils 9 times per 720° of 
crankshaft revolution. 

This is a normal pattern for one ignition circuit 
when: 


• Engine speed <1350 RPM 


Long Spark Period (1) with Low Ignition Volt¬ 
age Peak (2). If Spark Period is Fluctuating: 


• Indicates Low Compression 


• Contamination on Spark Plug or Defective 
Spark Plug 


Short Spark Period (1) with High Ignition 
Voltage Peak (2). 


• Defective Ignition Connector or Resistive 
Adapter Boot 



68 

ST055 MS42/M43 Ignition Management 























Evaluation of Ignition Voltage Peaks at Idle 
Speed (Multiple Cylinders Displayed). 

1. Normal Attenuation (Voltage Reduction) Process 

2. Shorten Attenuation Process (arrow)-Defective 
Ignition Coil 

3. Abscence of Attenuation (arrow)- Defective 
Igniton Coil 



No Sparking Volatge Line (Single Cylinder 
Displayed) 

• Defective Igniton Coil 



Evaluation of Ignition Voltage Peaks under 
Sudden Loads (Multiple Cylinders Displayed). 

1. Decaying Process is not much Higher than 
Igniton Voltage Peak - System is Ok. 


Decaying Process is considerably Higher than 
Ignition Voltage Peak (2): 

• Lean Mixture 

• Defective Fuel Injector 

• Low Compression 



h n * t » tH t * t H+ tfr t ft H H i t * 4+* ++ H Mt [ n * Eft w | 

1W » B! 7fl » W 4Q «■ M 10 & 


07550006.bmp 


69 

ST055 MS42/M43 Ignition Management 


















The Repair Instructions should be consulted for additional Oscilloscope Patterns under var¬ 
ious engine speeds. 

In Summary, 

If the Secondary Ignition Voltage is Too High (Excessive Resistance for Ignition): 

• Spark Plug Gap is to Large (Worn or Burned) 

• Incorrect Heat Range Spark Plug 

• Compression is too High (Carbon, etc.) 

• Lean Mixture (Vacuum Leak, etc.) 

• Interruption in the Secondary Ignition Connector or Resistive Adapter Boot 


If the Secondary Ignition Voltage is Too Low (Low Resistance for Ignition): 

• Spark Plug Gap is Too Small (Mishandled on Installation) 

• Incorrect Heat Range Spark Plug 

• Compression is Too Low 

• Voltage Leak in the Secondary Ignition Connector or Resistive Boot to Ground 


Spark Plugs 

The Spark Plugs should be inspected for the proper type, gap 
and replaced at the specified intervals. 

Refer to the Service Information Bulletin S.l. #12 01 99 for the 
proper type and a visual of the spark plug (showing effects of 
combustion, fouling, etc.) 



70 

ST055 MS42/M43 Ignition Management 















Ignition Adapter (Boot) 

The secondary ignition Resistive Adapter Boot 
should be visually inspected and checked for 
resistance. 

For example, the Resistive Adapter Boot has a 
different ohmic value depending on the manu¬ 
facturer: 

• Bosch - Ik ohm +/- 20% 

• Bremi - 1.8k ohm +/- 20% 



13550035-1 .eps 


Knock Sensors 

The Knock Sensors should be tested using the 
DIS/MoDIC for: 

• Fault Codes 

• Status Display - Knock Control 
(active / not active) 

• Oscilloscope Display (Low DC Voltage - mV 
setting) 


When installing Knock Sensors: 



DO NOT MIX THE LOCATIONS or Engine 
Damage will result! The Knock Sensors use a 
combined connection to the engine harness. 
The Knock Sensor with the shorter cable is for 
cylinders 4 - 6. 

Do Not Over Tighten attaching bolt! - Piezo 
ceramic will be cracked. Torque to 20 nm. 

Do Not Under Tighten attaching bolt, a lose 
sensor can vibrate producing a similar signal to 
a knock. 



13550036.eps 


71 

ST055 MS42/M43 Ignition Management 





























































































Tools and Equipment 


The DISplus/Modic as well as a reputable hand 
held multimeter can be used when testing 
inputs/components. 


It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 





07550003.eps 


The correct Universal Adapter for the 
MS42/MS43 application should be used (#90 
88 6 121 300). This will ensure the pin connec¬ 
tors and the harness will not be damaged. 


SKE BREAKOUT BOX SET 
P/N 90 88 6 121 300 


ENGINE CONTROL 
MODULE HARNESS 



pq 


©©©©© 

©©©©© 

©©©©© 

©©©©© 

©©©©© 

@ 


1 II II 1 

n 

n 

s 


e 

Z 

V 


26 
PIN 
BOX 
88 88 6 611 459 



1=1 


©©©©© 

©©©©© 

©©©a© 

©©©©© 

©©©©© 

® 


26 
PIN 
BOX 
88 88 6 611 459 


When installing the Universal Adapter to the 
ECM, make sure the ignition is switched off. 



When Testing the Secondary Ignition System, 
use Special Tool #88 88 6 127 040 (Secondary 
Ignition Adapter Set shown to the right) which 
connects to the DIS. The instruction book is 
included with the kit. Refer to the HELP button 
for additional (on screen) connections. 

Caution! 

Observe Safety Precautions, High Voltage 
is Present with the Engine Running 



72 

ST055 MS42/M43 Ignition Management 






































































































The Spark Plugs should be properly installed 
and torqued using the following Special Tools: 

• 12 1 200 Torque Adapter 
(prevents over tightening) 

• 12 1 171 Spark Plug Socket 


NOTE: NEVER USE AIR TOOLS FOR REM¬ 
OVAL OR INSTALLATION! 



13550020 


bmp 


73 

ST055 MS42/M43 Ignition Management 






Emissions Management - Low Emission Vehicle (LEV) Compliant 

- M54 3.0 Liter Ultra Low Emission Vehicle (ULEV) 


LDP Equipped 


DM TL Equipped 
Including ORVR 


FUEL FILLER 
NECK 


VAPORS TO PURGE VALVE 


| ENGINE VACUUM 

LDP 



VAPORS TO EVAPORATIVE 
EMISSION VALVE 


LARGE 
DIAMETER, 
TANK VENT 
LINE 

SMALL LINE ONLY 
USED FOR DETECTING 
LEAKS AT FUEL CAP 
DURING LDP TEST 
(NO HC VAPOR RETURN) 


l 


LIQUID VAPOR 
SEPARATOR 


REFUELING 
VAPORS 
STORED IN 
PURGE 
CANISTER 



FILTER 



Evaporative Emissions: The control of the evaporative fuel vapors (Hydrocarbons) from 
the fuel tank is important for the overall reduction in vehicle emissions. The evaporative sys¬ 
tem has been combined with the ventilation of the fuel tank, which allows the tank to breath 
(equalization). The overall operation provides: 

• An inlet vent, to an otherwise “sealed” fuel tank, for the entry of air to replace the fuel 
consumed during engine operation. 

• An outlet vent with a storage canister to “trap and hold” fuel vapors that are produced 
by the expansion/evaporation of fuel in the tank, when the vehicle is stationary. 


The canister is then "purged" using the engine vacuum to draw the fuel vapors into the 
combustion chamber. This "cleans" the canister allowing for additional storage. Like any 
other form of combustible fuel, the introduction of these vapors on a running engine must 
be controlled. 

The ECM controls the Evaporative Emission Valve which regulates purging of evaporative 
vapors. The evaporative system must be monitored for correct purge operation and Leak 
Detection. 


74 

ST055 MS42/MS43 Emissions Management 

















































































On-Board Refueling Vapor Recovery (ORVR - DM TL Equipped Vehicles): The ORVR 
system recovers and stores hydrocarbon fuel vapor that was previously released during 
refueling. Non ORVR vehicles vent fuel vapors from the tank venting line back to the filler 
neck and in many states reclaimed by a vacuum receiver on the filling station’s fuel pump 
nozzle. 

When refueling an ORVR equipped vehicle, the pressure of the fuel entering the tank forces 
the hydrocarbon vapors through the larger tank vent line to the liquid/ vapor separator, 
through the rollover valve and into the charcoal canister. The HC is stored in the charcoal 
canister, and the system can then “breath” through the DM TL and the air filter. The vent 
line to the filler neck is smaller, but still necessary for checking the filler cap/neck during 
Evaporative Leak Testing. 


Liquid/Vapor Separator: Fuel vapors are routed from the fuel tank filler neck through a 
hose to the Liquid/Vapor Separator. The vapors cool when exiting the fuel tank, the con¬ 
densates separate and drain back to the fuel tank through a return hose. The remaining 
vapors exit the Liquid/ Vapor Separator to the Active Carbon Canister. 


Active Carbon Cannister: As the hydrocarbon vapors enter the canister, they will be 
absorbed by the active carbon. The remaining air will be vented to the atmosphere through 
the end of the canister allowing the fuel tank to “breath”. When the engine is running, the 
canister is then "purged" using intake manifold vacuum to draw air through the canister 
which extracts the hydrocarbon vapors into the combustion chamber. 


Evaporative Emission Valve: This ECM controlled solenoid valve regulates the purge flow 
from the Active Carbon Canister into the intake manifold. The ECM Relay provides operat¬ 
ing voltage, and the ECM controls the valve by regulating the ground circuit. The valve is 
powered open and closed by an internal spring. 

If the Evaporative Emission Valve circuit is 
defective, a fault code will be set and the 
“Malfunction Indicator Light” will illuminate 
when the OBD II criteria is achieved. 


If the valve is “mechanically” defective, a drive- 
ability complaint could be encountered and a 
mixture related fault code will be set. 


OPERATING POWER 
FROM ECM MAIN RELAY 


VAPORS FROM 
CHARCOAL 
CANISTER 





T 


VAPORS TO VACUUM PORT 
ON THROTTLE HOUSING 









75 

ST055 MS42/MS43 Emissions Management 










































































MS42 - Evaporative System Leak Diagnosis with Leakage Diagnosis Pump (LDP): 

The LDP provides a means of testing the fuel/evaporative system for leaks. The pump is 
activated by the ECM and pressurizes the fuel tank and evaporative system. 

The LDP and charcoal canister (combination) 
assembly is located under the right rear trunk 
floor on the E46 (for example). This system is 
capable of detecting a leak as small as 0.5 mm. 

The LDP is a unitized component that contains 
the following: 

• Vacuum chamber 

• Pneumatic pump chamber 

• DME activated vacuum solenoid 

• Reed switch providing a switched voltage 
feedback signal to the ECM 

The LDP assembly is only replaceable as a complete unitized component, however, it is 
separate from the charcoal canister. 



The upper chamber contains an integrated reed 
switch that produces a switched high/low volt¬ 
age signal that is monitored by the ECM. 

The switch is opened by the magnetic interrup¬ 
tion of the metal rod connected to the 
diaphragm when in the top dead center position. 

The repetitive up/down stroke is confirmation to 
the ECM that the valve is functioning and the 
basis for determining if a leak is present in the 
system. 


A ENGINE VACUUM 


LDP 



FILTER 


The ECM monitors the length of time it takes for the reed switch to open, which is opposed 
by pressure under the diaphragm in the lower chamber. If this component/circuits are 
defective, a fault code will be set and the “Malfunction Indicator Light” will illuminate when 
the OBD II criteria is achieved. 


76 

ST055 MS42/MS43 Emissions Management 















































MS43 - Evaporative Leakage Detection (DM TL): 

This component ensures accurate fuel system leak 
detection for leaks as small as 0.5 mm by slightly 
pressurizing the fuel tank and evaporative components. 
The DM TL pump contains an integral DC motor which 
is activated directly by the ECM. The ECM monitors the 
pump motor operating current as the measurement for 
detecting leaks. 

The pump also contains an ECM controlled change 
over valve that is energized closed during a Leak 
Diagnosis test. The change over valve is open during all 
other periods of operation allowing the fuel system to 
“breath” through the inlet filter. The DM TL is located 
under the luggage compartment floor with the Active 
Carbon Cannister (E46 for example). 


1. In its inactive state, filtered fresh air enters the evap¬ 
orative system through the sprung open valve of the 
DM TL. 

2. When the DME activates the DM TL for leak testing, 
it first activates only the pump motor. This pumps air 
through a restricter orifice (0.5 mm) which causes 
the electric motor to draw a specific amperage 
value. This value is equivalent to the size of the 
restricter. 

3. The solenoid valve is then energized which seals the 
evaporative system and directs the pump output to 
pressurize the evaporative system. 


• A large leak is detected in the evaporative system if 
the amperage value is not achieved. 

• A small leak is detected if the same reference amper¬ 
age is achieved. 

• The system is sealed if the amperage value is higher 
than the reference amperage. 



FRESH 
AIR INLET 



DM-TL 


(Diagnostic Module - 
Tank Leak detection) 


V V V 


ECM 

MAIN 

RELAY 




1 


13410088.eps 




ji 


IQEID 


n 


i_ 

■(Q "(Q 


REFERENCE 




CUR 

MON 

RENT 

ITOR 



©v 





77 

ST055 MS42/MS43 Emissions Management 
























































































































































































































































Exhaust Emissions: The combustion process of a gasoline powered engine produces 
Carbon Monoxide (CO), Hydrocarbons (HC) and Oxides of Nitrogen (NOx). 


• Carbon Monoxide is a product of incomplete combustion under conditions of air deficiency. 
CO emissions are strongly dependent on the air/fuel ratio. 

• Hydrocarbon are also a product of incomplete combustion which results in unburned fuel. HC 
emissions are dependent on air/fuel ratio and the ignition of the mixture. 

• Oxides of Nitrogen are a product of peak combustion temperature (and temperature duration). 
NOx emissions are dependent on internal cylinder temperature affected by the air/fuel ratio 
and ignition of the mixture. 


Control of exhaust emissions is accomplished by the engine and engine management 
design as well as after-treatment. 

• The ECM manages exhaust emissions by controlling the air/fuel ratio and ignition. 

• The ECM controlled Secondary Air Injection further dilutes exhaust emissions leaving the 
engine and reduces the catalyst warm up time. 

• The Catalytic Converter further reduces exhaust emissions leaving the engine. 


78 

ST055 MS42/MS43 Emissions Management 















































































Bosch LSH 25 Oxygen Sensors: The pre-cat 
oxygen sensors measure the residual oxygen 
content of the exhaust gas. The sensors pro¬ 
duces a low voltage (0-1000 mV) proportional to 
the oxygen content that allows the ECM to mon¬ 
itor the air/fuel ratio. 

The sensors are mounted in the hot exhaust str¬ 
eam directly in front of the catalytic converters. 


PRE-CATALYST SENSORS 



Ambient Air 

10 



Exhaust 

Stream 


12550017.eps 


1. Electrode (+) 

7. External Body (Ventilated) 

2. Electrode (-) 

8. Contact Spring 

3. Porous Ceramic Coating (encasing electrolyte) 

9. Vent Opening 

4. Protective Metal Cage (Ventilated) 

10. Output Lead 

5. Casing 

11. Insulator 

6. Contact Sleeve 

12. Exhaust Pipe Wall 


The “tip” of the sensor contains a microporous platinum coating (electrodes) which conduct 
current. The platinum electrodes are separated by solid electrolyte which conducts oxygen 
ions. The platinum conductors are covered with a highly porous ceramic coating and the 
entire tip is encased in a ventilated metal “cage”. 

This assembly is submersed in the exhaust stream. The sensor body (external) has a small 
vent opening in the housing that allows ambient air to enter the inside of the tip. 

The ambient air contains a constant level of oxygen content (21 %) and the exhaust stream 
has a much lower oxygen content. The oxygen ions (which contain small electrical charges) 
are “purged” through the solid electrolyte by the hot exhaust gas flow. The electrical 
charges (low voltage) are conducted by the platinum electrodes to the sensor signal wire 
that is monitored by the ECM. 


79 

ST055 MS42/MS43 Emissions Management 













- 




If the exhaust has a lower oxygen content (rich mixture), there will be a large ion “migration” 
through the sensor generating a higher voltage (950 mV). 


If the exhaust has a higher oxygen content (lean mixture), there will be a small ion “migra¬ 
tion” through the sensor generating a lower voltage (080 mV). 


This voltage signal is constantly changing due to 
combustion variations and normal exhaust pul¬ 
sations. 

The ECM monitors the length of time the sen¬ 
sors are operating in the lean, rich (including the 
time of rise and fall) and rest conditions. The 
evaluation period of the sensors is over a pre¬ 
defined number of oscillation cycles. 


Rest Time 



This conductivity is efficient when the oxygen 
sensor is hot (250° - 300° C). For this reason, 
the sensor contains a heating element. This 
“heated” sensor reduces warm up time, and 
retains the heat during low engine speed when 
the exhaust temperature is cooler. 



80 

ST055 MS42/MS43 Emissions Management 























































































































Direct Oxygen Sensor Heating: The oxygen sensor conductivity is efficient when it is hot 
(600° - 700° C). For this reason, the sensors contain heating elements. These “heated” sen¬ 
sors reduce warm up time, and retain the heat during low engine speed when the exhaust 
temperature is cooler. OBD II requires monitoring of the oxygen sensor heating function and 
heating elements for operation. 

The four oxygen sensor heating circuits (E46/E39 shown) receive operating voltage from 
the ECM Relay when KL15 is switched “ON”. Each of the sensors heaters are controlled 
through separate final stage transistors. 

The sensor heaters are controlled with a pulse width modulated voltage during a cold start. 
This allows the sensors to be brought up to operating temperature without the possibility 
of thermal shock. The duty cycle is then varied to maintain the heating of the sensors. 


When the engine is decelerating (closed throttle), the ECM increases the duty cycle of the- 
heating elements to compensate for the decreased exhaust temperature. 



81 

ST055 MS42/MS43 Emissions Management 





























































































Catalytic Converter Monitoring: The efficiency of catalyst operation is determined by 
evaluating the oxygen consumption of the catalytic converters using the pre and post oxy¬ 
gen sensor signals. A properly operating catalyst consumes most of the 02 (oxygen) that 
is present in the exhaust gas (input to catalyst). The gases that flow into the catalyst are 
converted from CO, HC and NOx to CO 2 , H 2 O and N2 respectively. 

In order to determine if the catalysts are working correctly, post catalyst oxygen sensors are 
installed to monitor exhaust gas content exiting the catalysts. The signal of the post cat. 02 
sensor is evaluated over the course of several pre cat. 02 sensor oscillations. 

During the evaluation period, the signal of the 
post cat. sensor must remain within a relatively 
constant voltage range (700 - 800 mV). The 
post cat. 02 voltage remains high with a very 
slight fluctuation. This indicates a further lack of 
oxygen when compared to the pre cat. sensor. 


If this signal decreased in voltage and/or 
increased in fluctuation, a fault code will be set 
for Catalyst Efficiency and the “Malfunction 
Indicator Light” will illuminate when the OBD II 
criteria is achieved. 


Good 

Signal 


Defective 
Signal 




Secondary Air Injection: Injecting ambient air into 
the exhaust stream after a cold engine start reduces 
the warm up time of the catalyst and reduces HC and 
CO emissions. The ECM controls and monitors the 
Secondary Air Injection. 


An Electric Air Pump and Air Injection Valve direct 
fresh air through an internal channel in the cylinder 
head into the exhaust ports. The Air Injection Valve is 
opened by air pressure (from the pump) and is closed 
by an internal spring. 

The Air Injection Inlet Valve mounts directly to the cylinder head, with a passageway 
machined through the head. This eliminates the external Air Injection manifold distribution 
pipes to the exhaust manifolds. 



82 

ST055 MS42/MS43 Emissions Management 



















Misfire Detection: As part of the OBD II regulations the ECM must determine misfire and 
also identify the specific cylinder(s), the severity of the misfire and whether it is emissions 
relevant or catalyst damaging based on monitoring crankshaft acceleration. 

In order to accomplish these tasks the ECM monitors the crankshaft for acceleration by the 
impulse wheel segments of cylinder specific firing order. The misfire/engine roughness cal¬ 
culation is derived from the differences in the period duration of individual increment gear 
segments. 

Each segment period consist of 
an angular range of 90° crank 
angle that starts 54° before Top 
Dead Center. 

If the expected period duration is 
greater than the permissible value 
a misfire fault for the particular 
cylinder is stored in the fault 
memory of the ECM. 


Depending on the level of misfire 
rate measured the ECM will illu¬ 
minate the "Malfunction Indicator 
Light”, deactivate the specific fuel 
injector to the particular cylinder 
and switch oxygen sensor control 
to open-loop. 

In order to eliminate misfire faults that can occur as a result of varying flywheel tolerances 
(manufacturing process) an internal adaptation of the flywheel is made. The adaptation is 
made during periods of decel fuel cut-off in order to avoid any rotational irregularities which 
the engine can cause during combustion. This adaptation is used to correct segment dura¬ 
tion periods prior to evaluation for a misfire event. 

If the sensor wheel adaptation has not been completed the misfire thresholds are limited to 
engine speed dependent values only and misfire detection is less sensitive. The crankshaft 
sensor adaptation is stored internally and is not displayed via DIS or MoDIC. If the adapta¬ 
tion limit is exceeded a fault will be set. 


CRANKSHAFT 
POSITION 
SENSOR 
(HALL EFFECT) 



IF [ 


Change | |End 

BMW Test system Oscilloscope display 



Help 


RF>TI ISFT 


m 


Print 


[ | End j" j Services 


Change 

BMW Test system Oscilloscope display 
v 


Help 


1 


I Function | I Document T I Test T / FTP [''\ > [ 

j Selection | I _| | Module | / 1*^0 D-m 


[> 


SMOOTH RUNNING ENGINE 
(NOTE SQUARE WAVE SIGNAL) 

134100101 .eps 


ENGINE MISFIRE DETECTED 


83 

ST055 MS42/MS43 Emissions Management 





































































































































































































































































































































Principle of Operation 

Emissions Management controls evaporative and exhaust emissions. The ECM monitors 
the fuel storage system for evaporative leakage and controls the purging of evaporative 
vapors. The ECM monitors and controls the exhaust emissions by regulating the com- 
bustable mixture and after treating by injecting fresh air into the exhaust system. The 
catalytic converter further breaks down remaining combustable exhaust gases and is mon¬ 
itored by the ECM for catalyst efficiency. 



The MS42 Evaporative Leakage Detection uses a Leak Diagnosis Pump (LDP) to pres¬ 
surize the fuel tank and the evaporative emission system (approx. 25mb.). The LDP 
equipped system is capable of detecting a leak as small as 0.5 mm. The LDP is replaceable 
as a complete component. The vacuum supply line (required for pump operation) is in the 
wiring harness from the engine compartment to the rear of the vehicle. 

The LDP is a unitized component that contains the following: 

• Vacuum Chamber 

• Pneumatic Pressure Chamber 

• DME Activated Vacuum Solenoid 

• Reed Switch - providing a switched voltage feedback signal to the ECM 


In the inactive state, the LDP diaphragm is at the 
bottom end (of down stroke). The diaphragm 
pushes a rod downward against spring pressure 
to open the canister vent valve. 

This open valve serves as the filtered air inlet 
path for normal evaporative “breathing”. 

During Leak Testing of the evaporative system, 
the vent valve is sprung closed to block atmos¬ 
pheric venting. The Evaporative Emission Valve 
is also sprung closed to seal the system. 



84 

ST055 MS42/MS43 Emissions Management 






































































































































































































































During every engine cold start the LDP solenoid 
is energized by the ECM. Engine manifold vac¬ 
uum enters the upper chamber of the LDP to lift 
up the spring loaded diaphragm. 

As the diaphragm is lifted it draws in ambient air 
through the filter and into the lower chamber of 
the LDP through the one way valve. 

The solenoid is then de-energized, spring pres¬ 
sure closes the vacuum port blocking the 
engine vacuum and simultaneously opens the 
vent port to the balance tube which releases the 
captive vacuum in the upper chamber. 

This allows the compressed spring to push the 
diaphragm down, starting the “limited down 
stroke”. The air that was drawn into the lower 
chamber of the LDP during the upstroke is 
forced out of the lower chamber and into the 
fueltank/evaporative system. 



This electrically controlled repetitive up/down stroke is cycled repeatedly building up a total 
pressure of approximately +25mb in the evaporative system. After sufficient pressure has 
built up (LDP and its cycling is calibrated to the vehicle), the leak diagnosis begins and lasts 
about 100 seconds. 


The upper chamber contains an integrated reed switch that produces a switched high/ 
low voltage signal that is monitored by the ECM. The switch is opened by the magnetic 
interruption of the metal rod connected to the diaphragm when in the diaphragm is in the 
top dead center position. 

The repetitive up/down stroke is confirmation to the ECM that the valve is functioning. The 
ECM also monitors the length of time it takes for the reed switch to open, which is 
opposed by pressure under the diaphragm in the lower chamber. The LDP is still cycled, 
but at a frequency that depends upon the rate of pressure loss in the lower chamber. If 
the pumping frequency is below parameters, there is no leak present. If the pumping fre¬ 
quency is above parameters, this indicates sufficient pressure can not build up in the lower 
chamber and evaporative system, indicating a leak. 


85 

ST055 MS42/MS43 Emissions Management 























































































































































































































































































The chart represents the diagnostic leak testing time frame in seconds. When the ignition 
is switched on, the ECM performs a “static check” of circuit integrity to the LDP pump 
including the reed switch. 



• On cold engine start up, the pump is rapidly activated for the first 27 seconds. This rapid 
pumping phase is required to pressurize the evaporative components. 

• Once pressurized, the build up phase then continues from 27-38 seconds. The ECM 
monitors the system through the reed switch to verify that pressure has stabilized. 

• The measuring phase for leak diagnosis lasts from 38-63 seconds. The pump is activat¬ 
ed but due to the pressure build up under the diaphragm, the pump moves slower. If the 
pump moves quickly, this indicates a lack of pressure or a leak. This registers as a fault 
in the ECM’s. 

• From 63-100 seconds the pump is deactivated, allowing full down stroke of the 
diaphragm and rod. At the extreme bottom of rod travel, the canister vent valve is pushed 
open relieving pressure and allowing normal purge operation when needed. 


86 

ST055 MS42/MS43 Emissions Management 











































































































The MS43 Evaporative Leakage Detection is performed on the fuel storage system by 
the DM TL pump which contains an integral DC motor that is activated by the ECM. The 
ECM monitors the pump motor operating current as the measurement for detecting leaks. 
The pump also contains an ECM controlled change over valve that is energized closed dur¬ 
ing a Leak Diagnosis test. The ECM only initiates a leak diagnosis test every second time 
the criteria are met. The criteria is as follows: 

• Engine OFF with ignition switched OFF. 

• ECM still in active state or what is known as “follow up mode” (ECM Relay energized, 
ECM and components online for extended period after key off). 

• Prior to Engine/Ignition switch OFF condition, vehicle must have been driven for a min¬ 
imum of 20 minutes. 

• Prior to minimum 20 minute drive, the vehicle must have been OFF for a minimum of 5 
hours. 

• Fuel Tank Capacity must be between 15 and 85% (safe approximation between 1/4 - 
3/4 of a tank). 

• Ambient Air Temperature between -7°C & 35°C (20°F & 95°F) 

• Altitude < 2500m (8,202 feet). 

• Battery Voltage - 11 Volts (minimum) 

When these criteria are satisfied every second time, the ECM will start the Fuel System Leak 
Diagnosis Test. The test will typically be carried out once a day ie:, once after driving to work 
in the morning, when driving home in the evening, the criteria are once again met but the 
test is not initiated. The following morning, the test will run again. 


PHASE 1 - Reference Measurement 

The ECM activates the pump motor. The pump pulls air from the filtered air inlet and pass¬ 
es it through a precise 1.0 mm reference orifice in the pump assembly. 

The ECM simultaneously monitors the pump motor current flow. The motor current raises 
quickly and levels off (stabilizes) due to the orifice restriction. The ECM stores the stabilized 
amperage value in memory. The stored amperage value is the electrical equivalent of a 1.0 
mm (0.040”) leak. 

PHASE 2 - Leak Detection 

The ECM energizes the Change Over Valve allowing the pressurized air to enter the fuel sys¬ 
tem through the Charcoal Canister. The ECM monitors the current flow and compares it 
with the stored reference measurement over a duration of time. 

Once the test is concluded, the ECM stops the pump motor and immediately de-energizes 
the change over valve. This allows the stored pressure to vent thorough the charcoal can¬ 
ister trapping hydrocarbon vapor and venting air to atmosphere through the filter. 


87 

ST055 MS42/MS43 Emissions Management 



Test Results 

The time duration varies between 45 & 270 seconds depending on the resulting leak diag¬ 
nosis test results (developed tank pressure “amperage” / within a specific time period). 
However the chart below depicts the logic used to determine fuel system leaks. 

Current 



If the ECM detects a leak, a fault will be stored and the “Malfunction Indicator Light” will be 
illuminated. Depending on the amperage measurement detected by the ECM, the fault 
code displayed will be “small leak” or “large leak”. 


88 

ST055 MS42/MS43 Emissions Management 














Evaporative Emission Purging is regultated by the ECM controlling the Evaporative 
Emission Valve. The Evaporative Emission Valve is a solenoid that regulates purge flow from 
the Active Carbon Cannister into the intake manifold. The ECM Relay provides operating 
voltage, and the ECM controls the valve by regulating the ground circuit. The valve is pow¬ 
ered open and closed by an internal spring. 


The “purging” process takes place when: 


• Oxygen Sensor Control is active 


• Engine Coolant Temperature is >67° C 


• Engine Load is present 


The Evaporative Emission Valve is opened in stages to moderate the purging. 

• Stage 1 opens the valve for 10 ms (milli-seconds) and then closes for 150 ms. 

• The stages continue with increasing opening times (up to 16 stages) until the valve is 
completely open. 

• The valve now starts to close in 16 stages in reverse order 

• This staged process takes 6 minutes to complete. The function is inactive for 1 minute 
then starts the process all over again. 

• During the purging process the valve is completely opened during full throttle operation 
and is completely closed during deceleration fuel cutoff. 


OPERATING POWER 
FROM ECM MAIN RELAY 


VAPORS FROM 
CHARCOAL 
CANISTER 


n 



¥ 


VAPORS TO VACUUM PORT 
ON THROTTLE HOUSING 





TL 


jfi 


Evaporative Purge System Flow Check is performed by the ECM when the oxygen 
sensor control and purging is active. When the Evaporative Emission Valve is open the ECM 
detects a rich/lean shift as monitored by the oxygen sensors indicating the valve is func¬ 
tioning properly. 

If the ECM does not detect a rich/lean shift, a second step is performed when the vehicle 
is stationary and the engine is at idle speed. The ECM opens and close the valve (abrupt¬ 
ly) several times and monitors the engine rpm for changes. If there are no changes, a fault 
code will be set. 


89 

ST055 MS42/MS43 Emissions Management 













































































Fuel System Monitoring is per¬ 
formed by the ECM which verifies 
the calculated injection time (ti) in 
relation to engine speed, load 
and the oxygen sensor signal as 
a result of the residual oxygen in 
the exhaust stream. 

The ECM uses the oxygen sensor 
signal as a correction factor for 
adjusting and optimizing the mix¬ 
ture pilot control under all engine 
operating conditions. 



■vr 


MASS „ 


WHERE MULTIPLICATIVE ADAPTATION OCCURS 


WHERE 

ADDITIVE 

ADAPTATION 

OCCURS 



ENGINE 

SPEED 





OXYGEN 

SENSOR 

SIGNAL(S) 



ADAPTATION 
OXYGEN INFLUENCE 
SENSOR 
INFLUENCE 

^—► = INJECTION TIME 



/ 


A 




ADAPTATION OF 
INJECTION 
TIME DURATION 


Adaptation Values are stored by the ECM iln order to maintain an "ideal" air/fuel ratio. 
The ECM is capable of adapting to various environmental conditions encountered while the 
vehicle is in operation (changes in altitude, humidity, ambient temperature, fuel quality, etc.). 

The adaptation can only make slight corrections and can not compensate for large 
changes which may be encountered as a result of incorrect airflow or incorrect fuel supply 
to the engine. 

Within the areas of adjustable adaption, the ECM modifies the injection rate under two 
areas of engine operation: 

• During idle and low load mid range engine speeds (Additive Adaptation). 

• During operation under a normal to higher load when at highter engine speeds 
(Multiplicative Adaptation). 


These values indicate how the ECM is compensating for a less than ideal initial air/fuel ratio. 


NOTE: If the adaptation value is greater than "0.0" Additive (% Multiplicative), the ECM is 
trying to richen the mixture. If the adaptation value is less then "0.0” Additive (% 
Multiplicative), the ECM is trying to lean-out the mixture. 


90 

ST055 MS42/MS43 Emissions Management 





























































Catalyst Monitoring is performed by the ECM under oxygen sensor closed loop opera¬ 
tion. The changing air/fuel ratio in the exhaust gas results in lambda oscillations at the pre¬ 
catalyst sensors. These oscillations are dampened by the oxygen storage activity of the 
catalysts and are reflected at the post catalyst sensors as a fairly stable signal (indicating 
oxygen has been consumed). Conditions for Catalyst Monitoring: 


Requirements 


Status/Condition 


• Closed loop operation 

• Engine coolant temperature 

• Vehicle road speed 

• Catalyst temperature (calculated)* 

• Throttle angle deviation 

• Engine speed deviation 

• Average lambda value deviation 


YES 

Operating Temp. 

3 - 50 M PH (5 to 80 km/h) 
350°C to 650°C 
Steady throttle 
Steady/stable engine speed 
Steady/stable load 


* Catalyst temperature is an internally calculated value that is a function of load/air mass 
and time. 


As part of the monitoring process, the pre and 
post 02 sensor signals are evaluated by the 
ECM to determine the length of time each sen¬ 
sor is operating in the rich and lean range. 


If the catalyst is defective the post 02 sensor 
signal will reflect the pre 02 sensor signal 
(minus a phase shift/time delay), since the cat¬ 
alyst is no longer able to store oxygen. 


The catalyst monitoring process is stopped 
once the predetermined number of cycles are 
completed, until the engine is shut-off and start¬ 
ed again. After completing the next "customer 
driving cycle" whereby the specific conditions 
are met and a fault is again set, the "Malfunction 
Indicator Light” will be illuminated. 

Note: The catalyst efficiency is monitored once 
per trip while the vehicle is in closed loop oper¬ 
ation. 



Good 

Signal 




91 

ST055 MS42/MS43 Emissions Management 










































Secondary Air Injection is required to reduce HC and CO emissions while the engine is 
warming up. Immediately following a cold engine start (-10 to 40°C) fresh air/oxygen is 
injected directly into the exhaust stream. 

The temperature signal is provid¬ 
ed to the ECM by the Air 
Temperature Sensor in the HFM*. 

The ECM provides a ground cir¬ 
cuit to activate the Secondary Air 
Injection Pump Relay. The relay 
supplies voltage to the Secon¬ 
dary Air Injection Pump. 


The single speed pump runs for 
approximately 90 seconds after 
engine start up. 


* Below -10° C the pump is acti¬ 
vated briefly to “blow out” any 
accumulated moisture. 



Secondary Air Injection Monitoring is performed by the ECM via the use of the pre-cat¬ 
alyst oxygen sensors. Once the air pump is active and is air injected into the exhaust sys¬ 
tem the oxygen sensor signals will indicate a lean condition (up to 16 seconds). 


If the oxygen sensor signals do not change 
within a predefined time a fault will be set and 
identify the faulty bank. 

If the additional oxygen is not detected for two 
consecutive cold starts, the ECM determines a 
general fault with the function of the secondary 
air injection system. After completing the next 
cold start and a fault is again present the 
"Malfunction Indicator Light” will be illuminated 
when the OBD II criteria is achieved. 



92 

ST055 MS42/MS43 Emissions Management 



































































Misfire Detection is part of the OBD II regulations the ECM must determine misfire and 
also identify the specific cylinder(s). The ECM must also determine the severity of the mis¬ 
fire and whether it is emissions relevant or catalyst damaging based on monitoring crank¬ 
shaft acceleration. 

Emission Increase: 

• Within an interval of 1000 crankshaft revolutions, the ECM adds the the detected misfire 
events for each cylinder. If the sum of all cylinder misfire incidents exceeds the predeter 
mined value, a fault code will be stored and the “Malfunction Indicator Light” will be illu¬ 
minated. 

• If more than one cylinder is misfiring, all misfiring cylinders will be specified and the indi¬ 
vidual fault codes for each misfiring cylinder, or multiple cylinders will be stored. The 
“Malfunction Indicator Light” will be illuminated. 

Catalyst Damage: 

• Within an interval of 200 crankshaft revolutions the detected number of misfiring events 
is caluated for each cylinder. The ECM monitors this based on load/rpm. If the sum of 
cylinder misfire incidents exceeds a predetermined value, a “Catalyst Damaging” fault 
code is stored and the “Malfunction Indicator Light” will be illuminated. 

If the cylinder misfire count 
exceeds the predetermined 
threshold the ECM will take the 
following measures: 


• The oxygen sensor control will 
be switched to open loop. 


• The cylinder selective fault code 
is stored. 


• If more than one cylinder is mis 
firing the fault code for all indi 
vidual cylinders and for multiple 
cylinders will be stored. 


• The fuel injector to the respec 
tive cylinder(s) is deactivated. 



93 

ST055 MS42/MS43 Emissions Management 
































































Electrically Heated Thermostat 


Model specific variants of the electrically heated thermostat are now equipped on all LEV/ 
ULEV compliant engines. This thermostat allows the engine to run hotter than convention¬ 
al thermostats improving fuel economy. 


The ECM also electrically activates the thermostat to lower the engine coolant temperatures 
based on monitored conditions. It is both a conventionally functioning and ECM controlled 
thermostat (two stage operation). ECM control adds heat to the wax core causing the ther¬ 
mostat to open earlier than it’s mechanical temperature rating providing increased coolant 
flow. 


Conventional Function: The ther¬ 
mostat begins to open at 103°C. This 
is at the inlet side of the water pump 
and represents the temperature of the 
coolant entering the engine. Before 
the 103°C temperature is realized, the 
coolant is circulated through the 
engine block by the water pump. 

After the temperature reaches 103°C it 
is maintained as the inlet temperature 
by the thermostat. The coolant tem¬ 
perature at the water pump engine 
outlet is approximately 110°C. The 
additional 7°C is achieved after the 
coolant has circulated through the 
block. 


The operating temperature of the 
engine will remain within this range as 
long as the engine is running at part 
load conditions and the engine 
coolant temperature does not exceed 
113°C. 


°c 

115 

110 

105 

100 

95 

90 

85 

80 


A V 

110°C THERMOSTAT 

_ 4 _ 

- part\ 

FULL LOAD / PART 

- LOAD \ 

/ LOAD 


^ 85°C THERMOSTAT 


-► TIME 


COLD COOLANT 



COLD COOLANT 


SUPPLY 

COOLANT 


THERMOSTAT SAMPLING 
RETURN COOLANT = 110°C 


RETURN 

COOLANT 



94 

ST055 MS42/MS43 Emissions Management 





























































































































































ECM Control 


Electric thermostat activation is based on the following parameters: 

• Engine temperature > 113°C 

• Radiator Coolant Outlet Temperature 

• Load signal “ti” > 5.8 ms 

• Intake air temp > 52°C 

• Vehicle speed >110 MPH 

When one or more of these monitored conditions is determined, the ECM activates 
(switched ground) the thermostat circuit. The activated heating element causes the wax 
core in the thermostat to heat up and open the thermostat increasing coolant circulation 
through the radiator which brings the engine temperature down. 

The temperature of the coolant at the inlet side of the water pump will drop to approximately 
85°C and the temperature at the outlet side will drop to approximately 103°C when acti¬ 
vated . 


COLD COOLANT 





COOLANT = 103°C 

' , 


SUPPLY COOLANT 
= 85°C 

THERMOSTAT 
SAMPLING 
RETURN COOLANT 

RETURN 

COOLANT 


HOT COOLANT 
RETURNED TO RADIATOR 


95 

ST055 MS42/MS43 Emissions Management 




















































































































The “Malfunction Indicator Light” (MIL) will be illuminated under the following conditions: 


• Upon the completion of the next consecutive 
driving cycle where the previously faulted sys¬ 
tem is monitored again and the emissions rele¬ 
vant fault is again present. 


• Immediately if a “Catalyst Damaging” fault 
occurs (see Misfire Detection). 

The illumination of the light is performed in 
accordance with the Federal Test Procedure 
(FTP) which requires the lamp to be illuminated 
when: 


• A malfunction of a component that can affect the emission performance of the vehicle 
occurs and causes emissions to exceed 1.5 times the standards required by the (FTP). 

• Manufacturer-defined specifications are exceeded. 

• An implausible input signal is generated. 

• Catalyst deterioration causes HC-emissions to exceed a limit equivalent to 1.5 times the 
standard (FTP). 

• Misfire faults occur. 

• A leak is detected in the evaporative system, or “purging” is defective. 

• ECM fails to enter closed-loop oxygen sensor control operation within a specified time inter¬ 
val. 

• Engine control or automatic transmission control enters a "limp home" operating mode. 

• Ignition is on (KL15) position before cranking = Bulb Check Function. 

Within the BMW system the illumination of the Malfunction Indicator Light is performed in 
accordance with the regulations set forth in CARB mail-out 1968.1 and as demonstrated 
via the Federal Test Procedure (FTP). The following page provides several examples of 
when and how the Malfunction Indicator Light is illuminated based on the "customer drive 
cycle". 


or 


SERVICE 

ENGINE 

SOON 



135500146.eps 


96 

ST055 MS42/MS43 Emissions Management 








































— 







DRIVE 
CYCLE # 1 

DRIVE 
CYCLE # 2 

DRIVE 
CYCLE # 3 

DRIVE 
CYCLE # 4 

DRIVE 
CYCLE # 5 

, 

* DRIVE 
CYCLE # 43 



TEXT 

NO. 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT 

CODE SET 

MIL 

STATUS 

FUNCTION 

CHECKED 

FAULT CODE 

ERASED 

MIL 

STATUS 

check] 

ENGINE 

CHECK 

ENGINE 

CHECK 

ENGINE 

check] 

engine] 

check] 

ENGINE 

check] 

ENGINE 







1. 

YES 

YES 

OFF 

















2. 

YES 

YES 

OFF 

YES 

YES 

ON 














3. 

YES 

YES 

OFF 

NO 

NO 

OFF 

YES 

YES 

ON 











4. 

YES 

YES 

OFF 

YES 

NO 

OFF 

YES 

NO 

OFF 

YES 

YES 

OFF 

YES 

YES 

ON 





5. 

YES 

YES 

OFF 

YES 

YES 

ON 

YES 

NO 

ON 

YES 

NO 

ON 

YES 

NO 

OFF 

\ 

_ 

k 

r 

/ 

6. 

YES 

YES 

OFF 

YES 

YES 

ON 

YES 

NO 

ON 

YES 

NO 

ON 

YES 

NO 

OFF 

YES 

\ault/ 

c&iSe 

ERASED 

* 

OFF 



/ 


V 



1. A fault code is stored within the ECM upon the first occurrence of a fault in the system 


being checked. 

2. The "Malfunction Indicator Light” will not be illuminated until the completion of the sec¬ 
ond consecutive "customer driving cycle" where the previously faulted system is again 
monitored and a fault is still present or a catalyst damaging fault has occurred. 

3. If the second drive cycle was not complete and the specific function was not checked 
as shown in the example, the ECM counts the third drive cycle as the “next consecu¬ 
tive 11 drive cycle. The "Malfunction Indicator Light” is illuminated if the function is checked 
and the fault is still present. 

4. If there is an intermittent fault present and does not cause a fault to be set through mul¬ 
tiple drive cycles, two complete consecutive drive cycles with the fault present are 
required for the "Malfunction Indicator Light” to be illuminated. 

5. Once the "Malfunction Indicator Light” is illuminated it will remain illuminated unless the 
specific function has been checked without fault through three complete consecutive 
drive cycles. 

6. The fault code will also be cleared from memory automatically if the specific function is 
checked through 40 consecutive drive cycles without the fault being detected or with the 
use of either the DIS, MODIC or Scan tool. 

NOTE: In order to clear a catalyst damaging fault (see Misfire Detection) from memory, the 
condition must be evaluated for 80 consecutive cycles without the fault reoccurring. 

With the use of a universal scan tool, connected to the "OBD" DLC an SAE standardized 
DTC can be obtained, along with the condition associated with the illumination of the 
"Malfunction Indicator Light”. Using the DIS or MODIC, a fault code and the conditions 
associated with its setting can be obtained prior to the illumination of the "Malfunction 
Indicator Light”. 


97 

ST055 MS42/MS43 Emissions Management 








































































OBD II Drive Cycle’s & Trips 

• A "Drive cycle" consists of engine startup and engine shutoff. 

• "Trip" is defined as vehicle operation (following an engine-off period) of duration and dri¬ 
ving style so that all components and systems are monitored at least once by the diag¬ 
nostic system except catalyst efficiency or evaporative system monitoring. 

This definition is subject to the limitations that the manufacturer-defined trip monitoring 
conditions are all monitored at least once during the first engine start portion of the 
Federal Test Procedure (FTP). 

• Within this text the term "customer driving cycle" will be used and is defined as engine 
start-up, operation of vehicle (dependent upon customer drive style) and engine shut-off. 


Federal Test Procedure (FTP) 

The Federal Test Procedure (FTP) is a specific driving cycle that is utilized by the EPA to 
test light duty vehicle emissions. As part of the procedure for a vehicle manufacturer to 
obtain emission certification for a particular model/engine family the manufacturer must 
demonstrate that the vehicle(s) can pass the FTP defined driving cycle two consecutive 
times while monitoring various components/systems. 

Some of the components/systems must be monitored either once per driving cycle or 
continuously. Systems and their components required to be monitored once within one 
driving cycle: 

• Oxygen Sensors 

• Secondary Air Injection System 

• Catalyst Efficiency 

• Evaporative Vapor Recovery System 


Due to the complexity involved in meeting the test criteria within the FTP defined driving 
cycle, all tests may not be completed within one "customer driving cycle". The test can be 
successfully completed within the FTP defined criteria, however customer driving styles 
may differ and therefore may not always monitor all involved components/systems in one 
"trip". 


98 

ST055 MS42/MS43 Emissions Management 



Components/systems required to be monitored continuously: 

• Cylinder Misfire Detection 

• Fuel system 

• Oxygen Sensors 

• All emissions related components/systems - ECM, EGS or EML (comprehensive com¬ 
ponent monitoring). 


The graph shown below is an example of the driving cycle that is used by BMW to com¬ 
plete the FTP. 


o 

LU 

LU 

0 . 

(0 

LU 

O 




- Start engine 

- Idle cold for 
approx. 

2 min, 

10 sec's. 


Evaluated: 

- Secondary 
air system 

- Evap Leak 
detection 
(LDP vehicles) 


Accelerate to 
20-30 MPH 
Maintain steady 
speed for approx 
3 min, 15 seconds 


- « - 

Accelerate to 
40-60 MPH 
Maintain steady 
speed for approx 
15 minutes 



Decelerate and 
come to a stop. 

Idle in gear 
for approximately 
5 minutes 


Evaluated: 

- Establish closed 
loop operation 

- Oxygen Sensor 
responce time and 
switching time 
monitored 


Evaluated: 

- Catalytic Converter 
Efficiency 


Evaluated: 

- Evap Leak 

detection 
DM TL - after 

KL 15 switched 

“off” 


TIME 


The diagnostic routine shown above will be discontinued whenever: 

• Engine speed exceeds 3000 RPM 

• Large fluctuations in throttle angle 

• Road speed exceeds 60 MPH 

NOTE: The driving criteria shown can be completed within the FTP required ~11 miles in 
a controlled environment such as a dyno test or test track. 

A "customer driving cycle" may vary according to traffic patterns, route selection and dis¬ 
tance traveled, which may not allow the "diagnostic trip" to be fully completed each time 
the vehicle is operated. 


99 

ST055 MS42/MS43 Emissions Management 






















Readiness Code 


The readiness code provides status (Yes/No) of the system having completed all the 
required monitoring functions or not. The readiness code is displayed with an aftermarket 
scan tool. The code is a binary (1/0) indicating; 

• 0 = Test Completed or Not Applicable 

• 1 = Test Not Completed 

A "readiness code" must be stored after any clearing of fault memory or disconnection of 
the ECM. A readiness code of "0" will be stored (see below) after a complete diagnostic 
check of all components/systems, that can turn on the "Malfunction Indicator Light” is per¬ 
formed. 

The readiness code was established to prevent anyone with an emissions related fault and 
a "Malfunction Indicator Light” on from disconnecting the battery or clearing the fault mem¬ 
ory to manipulate the results of the emissions test procedure (IM 240). 

Interpretation of the Readiness Code by the ECM(s) (SAE J1979) 

The complete readiness code is equal to "one" byte (eight bits). Every bit represents one 
complete test and is displayed by the scan tool, as required by CARB/EPA. 

1 = EGR Monitoring (=0, N/A with BMW) 

0 = Oxygen Sensor Heater Monitoring 

1 = Oxygen Sensor Monitoring 
1 = Air Condition (=0, N/A with BMW) 

0 = Secondary Air Delivery Monitoring 

1 = Evaporative System Monitoring 

1= Catalyst Heating (=0, N/A with BMW at this time) 

0 = Catalyst Efficiency Monitoring 

Drive the car in such a manner that all tests listed above can be completed (refer to the FTP 
cycle). When the complete "readiness code" equals "0" then all tests have been complet¬ 
ed and the system has established its "readiness". Accessibility of the readiness code is 
also possible using the DIS/MoDIC. 


100 

ST055 MS42/MS43 Emissions Management 



OBD II Diagnostic Trouble Codes (DTC) 


The Society of Automotive Engineers (SAE) established the Diagnostic Trouble Codes used 
for OBD II systems (SAE J2012). The DTC’s are designed to be identified by their 
alpha/numeric structure. The SAE has designated the emission related DTC’s to start with 
the letter “P” for Powertrain related systems, hence their nickname “P-code”. 


For example: 



P-Powertrain, B-Body, C-Chassis 



DTC Source; 0-SAE, 1 -BMW 


System; 0-Total System - 

1 -Air/Fuel Induction 

2- Fuel Injection 

3- Ignition System or Misfire 

4- Auxiliary Emission Control 

5- Vehicle Speed & Idle Control 

6- Control Module Inputs/Outputs 

7- Transmission 


Sequentially numbered 
fault identifying individual 
components or circuits 
(00-99) 


• DTC’s are stored whenever the "Malfunction Indicator Light” is illuminated. 

• A requirement of CARB/EPA is providing universal diagnostic access to DTC’s via a stan¬ 
dardized Diagnostic Link Connector (DLC) using a standardized tester (scan tool). 

• DTC’s only provide one set of environmental operating conditions when a fault is stored. 
This single "Freeze Frame" or snapshot refers to a block of the vehicles environmental 
conditions for a specific time when the fault first occurred. The information which is stored 
is defined by SAE and is limited in scope. This information may not even be specific to 
the type of fault. 


101 

ST055 MS42/MS43 Emissions Management 



Scan Tool Connection 

The MS42/MS43 has a separate OBD II Diagnostic Link Connector (DLC). The OBD II con¬ 
nector is located in the drivers footwell to the left of the steering column (right side of cen¬ 
ter console on the Z3). The DLC provides access for an aftermarket scan tool to all emis¬ 
sion related control systems: 

• ECM - Engine Management Monitored Emissions Functions/Components 

• TCM (AGS/EGS) - Transmission Control 

• EML - Electronic Throttle Control 

This diagnostic communication link uses the existing TXD II circuit in the vehicle through a 
separate circuit on the DLC when the 20 pin cap is installed. 


DIS/MoDiC 
COMMUNICATE VIA: 

PIN 15 - RXD (Limited use) 
PIN 20 - TXD 
PIN 17 - TXD 



SCANTOOLS COMMUNICATE VIA: 

PIN 17 - TXD II ONLY 
(20 PIN CAP INSTALLED) 


102 

ST055 MS42/MS43 Emissions Management 





















































































































































BMW Fault Code (DIS/MoDiC) 


• BMW Codes are stored as soon they occur even before the "Malfunction Indicator Light” 
comes on. 

• BMW Codes are defined by BMW and Siemens Engineers to provide greater detail to 
fault specific information. 

• Siemens systems - one set of four fault specific environmental conditions are stored with 
the first fault occurrence. This information can change and is specific to each fault code 
to aid in diagnosing. A maximum often different faults containing four environmental con¬ 
ditions can be stored. 

• BMW Codes also store and displays a "time stamp" when the fault last occurred. 

• A fault qualifier gives more specific detailed information about the type of fault (upper limit, 
lower limit, disconnection, plausibility, etc.). 

• BMW Fault Codes will alert the Technician of the current fault status. He/she will be 
advised if the fault is actually still present, not currently present or intermittent. The fault 
specific information is stored and accessible through DISplus/MoDIC. 

• BMW Fault Codes determine the diagnostic output for BMW DISplus/MoDIC. 


Print 


Change 


End 


7 ? 

Services 




BMW Diagnosis DIAGNOSIS REQUESTS 


115 Hot-film air-mass flow 

A 

Current type of 
Voltage Value 



The fault is not currently 


Detected 5 



First fault detection 

Oh 24min ago 


Engine speed 

600 rpm 


Coolant temperature 

71 C 


Throttle-valve angle 

4 degree 

V 














o 

L _ 


Function 

Selection 


Document 


Test 

Schedule 


◄ 

► 


System 


103 

ST055 MS42/MS43 Emissions Management 




Workshop Hints 


Before any service work is performed on any fuel sys¬ 
tem related component, always adhere to the following: 

• Observe relevent safety legislation pertaining to your area. 

• Ensure adequate ventilation. 

• Use exhaust extraction system where applicable (allivate 
fumes). 

• DO NOT SMOKE while performing fuel system repairs. 

• Always wear adequate protection clothing including eye 
protection. 

• Use caution when working around a HOT engine compartment. 



BMW does not recommend any UNAUTHORIZED MODIFICATIONS to the fuel system. The 
fuel systems are designed to comply with strict Federal Safety and Emissions Regulations. 
In the concern of product liability, it is unauthorized to sell or perform modifications to 
customer vehicles, particularly in safety related areas. 


• Always consult the REPAIR INSTRUCTIONS on the specific model you are working on before 
attempting a repair. 


The "Malfunction Indicator Light” can be diagnosed with an aftermarket Scan Tool that 
allows Technicians without BMW Special Tools or Equipment to Diagnose an emission sys¬ 
tem failure. 

Further fault explanations can be found in the Service Information Bulletin SI # 16 05 97 

Evaporative Emission Control On-Board Diagnostic System. 


Refer to Service Information Bulletin S.l. #11 03 00 on Coolant Thermostat and 
Associated Fault Codes. 


Misfire Detection 

Refer to Service Information Bulletin S.l. #12 02 97 for details about Misfire Fault Codes. 


104 

ST055 MS42/MS43 Emissions Management 










Checking Fuel Tank and Ventilation System for Leak-Tightness 


Refer to the Repair Information Section 16 00 100 for procedures on testing the fuel 
tank/ventilation system. Refer to Service Information Bulletins SI # 04 26 00 and # 04 01 

98 for the special tools and adapters to perform the Evaporative Leakage Diagnosis Test. 

MS42 

Refer to Service Information Bulletin S.l. #16 02 

99 for LDP Pump Operation related fault 
codes. 

IF the vacuum “T” (1) refered to in the SI is 
restricted, it must be replaced with a modified T- 
fitting P/N 11 72 1 439 973. 



MS43 

Refer to Service Information Bulletin S.l. #12 13 

00 for E46 DMTL FC 142 Stored in the ECM 
(DME). 

Refer to p/n #16 13 1 184 849 for a “green 
dot”(1) below electrical connector(2). 


Malfunction Indicator Light Illuminated, 

“TANK LEAK” Fault Stored in the ECM 
(DME). 

Refer to Service Information Bulletin SI #16 01 
00 for details on the Fuel Filler Cap. 

2. Insufficiently Sealed Cap 

3. Cap Not Fully “Seated” When Installed 

105 

ST055 MS42/MS43 Emissions Management 


1. Pinched Retainer Strap 








Testing the Oxygen Sensor should be performed using the DISplus Oscilloscope from 
the “Preset Measurement” List. The scope pattern should appear as below for a normal 
operating sensor. 

If the signal remains high (rich condition) the following should be checked: 

• Fuel Injectors 

• Fuel Pressure 

• Ignition System 

• Input Sensors that influence 
air/fuel mixture 

• Engine Mechanical 


If the signal remains low (lean condition) the following should be checked: 

• Air/Vacuum Leaks 

• Fuel Pressure 

• Input Sensor that influence 
air/fuel mixture 

• Engine Mechanical 


NOTE: A MIXTURE RELATED FAULT CODE SHOULD BE INVESTIGATED FIRST AND DOES NOT 
ALWAYS INDICATE A DEFECTIVE OXYGEN SENSOR! 


For “Fault Access/02 Readiness Codes” refer to Service Information Bulletin S.l. 
#12 15 99 on Voluntary Emissions Recall 00E-A01. 


Refer to Service Information Bulletin S.l. #12 04 

98 on Vacuum Hose to Secondary Air Non- 
Return Valve and Associated Fault Codes. 

1. Check for damage to the plastic tube. 

2. Check for damage to the rubber hose. 



106 

ST055 MS42/MS43 Emissions Management 




Tools and Equipment 


The DISplus/Modic as well as a reputable hand 
held multimeter can be used when testing 
inputs/components. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 


The correct Universal Adapter for the MS42/ 
MS43 application should be used (#90 88 6 121 
300). This will ensure the pin connectors and the 
harness will not be damaged. 

When installing the Universal Adapter to the 
ECM (located below the windshield on the pas¬ 
senger side of the engine compartment), make 
sure the ignition is switched off. 

NOTE for MS43: Allow at least 3 minutes to 
elapse after the key was set to the “OFF” 
position before disconnecting the ECM/ 
TCM. This will allow sufficient time to com¬ 
plete the DM TL test. Voltage may be pre¬ 
sent (up to 3 minutes) causing damage to 
the ECM/TCM if they are disconnected dur¬ 
ing this time period (arcing). 





07550003.eps 




When checking the fuel tank and ventilation sys¬ 
tem for leak-tightness use Special Tool Set #90 
88 6 161 170 which includes all of the pieces 
shown to the right. 

1. Pressure Control Valve 

2. & 3. Quick Coupling Adapters 

This set is used in conjunction with shop sup¬ 
plied compressed air and the DISplus/ 
Multimeter function for reading the pressure 
bleed off. 



107 

ST055 MS42/MS43 Emissions Management 











































































































This Special Tool Set #90 88 6 161 160 will also 
be required to “cap off” the air filter and 
Evaporative Emission Valve hose when perform¬ 
ing the Leakage Diagnosis Test. 



If the test indicates excessive bleed off an ultra¬ 
sonic leak detector should be used (refer to 
Repair Instructions) to check for leaks at: 

• Fuel Filler Cap and Filler Neck 

• Fual Tank Ventilation Lines 

• Evaporative Emission Valve 

• Fuel Tank and Fuel Sending Unit 

• Liquid/Vapor Separator 



108 

ST055 MS42/MS43 Emissions Management 




Performance Controls 



Cruise Control 

Cruise control functions are activated directly by the multifunction steering wheel to the 
ECM. The individual buttons are digitally encoded in the MFL switch and is input to the ECM 
over a serial data wire. Cruise Control is integrated into the ECM because of the MDK/EDK 
operation. 

• The ECM controls vehicle speed by activation of the Electronic Throttle Valve (MDK/EDK). 

• The clutch switch disengages cruise control to prevent over-rev during gear changes. 

• The brake light switch and the brake light test switch are input to the ECM to disengage 
cruise control as well as fault recognition during engine operation of the MDK/EDK. 

Road speed is input to the ECM for cruise control as well as DSC regulation. The vehicle 
speed signal for normal engine operation is supplied from the DSC module (right rear wheel 
speed sensor). The road speed signal for cruise control is supplied from the DSC module. 
This is an average taken from both front wheel speed sensors, supplied via the CAN bus. 



INSTRUMENT CLUSTER 


109 

ST055 MS42/MS43 Performance Controls 






























































































































A/C Compressor Control 


The ECM controls the A/C Compressor Relay based on signals from the IHKA/IHKR 
Control Module. The IHKR system in an E46 is shown here as an example. 

The IHKR control module sends the following signals to the ECM over the K-bus-Kombi- 
CAN -bus connection: 

• IHKR on stand-by (signal AC) 

• Request for A/C activation (signal KO) 

• Calculated compressor load 

• Request for auxiliary fan 

The IHKR determines the load torque for compressor activation and required auxiliary fan 
speed from the refrigerant pressure sensor mounted on the high side line next to the receiv¬ 
er/dryer. 

The refrigerant pressure sensor provides a voltage input signal (0-5 volts) to the IHKR. The 
voltage value increases as pressure in the high side refrigerant circuit increases. The IHKR 
processes this signal to determine the calculated load that will be placed on the engine 
when the compressor is switched on. Pressure values that are too high or too low will 
cause the compressor to be switched off. 


The ECM prepares for the addi¬ 
tional load of the compressor by 
modifying the ignition timing and 
stabilizing idle speed. 

Once all of the criteria for com¬ 
pressor operation have been met, 
the ECM will activate a gound cir¬ 
cuit to the compressor relay to 
energize the compressor mag¬ 
netic clutch. 


The A/C Compressor Relay is 
deactivated during wide open 
throttle acceleration at low 
speeds to allow the engine to 
quickly achieve maximum power. 


IHKR 


K-Bus: Signal AC/KO 


m 




KOMBI 


CAN-Bus 



DME 





Evaporator Temp. 


Refrigerant 

Pressure 


OUTPUT 

STAGE 


Auxiliary 

Fan 




KL30 


K19 relay 





Compressor 


110 

ST055 MS42/MS43 Performance Controls 




Electric Fan 


The electric cooling fan is controlled by the ECM. The ECM uses a remote power output 
final stage (mounted on the fan housing). The power output stage receives power from a 
50 amp fuse (E46 - located in glove box above the fuse bracket). The electric fan is con¬ 
trolled by a pulse width modulated signal from the ECM. 

The fan is activated based on the ECM calculation (sensing ratio) of: 

• Coolant outlet temperature 

• Calculated (by the ECM) catalyst temperature 

• Vehicle speed 

• Battery voltage 

• Air Conditioning pressure (calculated by IHKA 
and sent via the K-Bus to the ECM) 

After the initial test has been performed, the fan is brought up to the specified operating 
speed. At 10% (sensing ratio) the fan runs at 1/3 speed. At a sensing ratio of between 90- 
95% the fan is running at maximum speed. Below 10% or above 95% the fan is stationary. 

The sensing ratio is suppressed by a hysteresis function, this prevents speed fluctuation. 
When the A/C is switched on, the electric fan is not immediately activated. 


V 


/ 


POWER 



Torque Interfaces 

If torque reduction or increase is required for ASC/DSC/MSR/AGS, the ECM will regulate 
engine power in the following manner: 


• If less torque is required, the ignition timing is 
reduced (fast intervention), the idle speed act¬ 
uator and MDK/EDK reduce intake air. 



• If increased torque is required (MSR), the idle 
speed actuator and MDK increase intake air. 



The data required for engine torque manipulation 
is relayed via the CAN bus. 


Ill 


ST055 MS42/MS43 Performance Controls 















Dual VANOS Control 


Performance, torque, idle characteristics and exhaust emissions reduction are improved by 
Variable Camshaft Timing (VANOS). The VANOS unit is mounted directly on the front of the 
cylinder head and adjusts the Intake and Exhaust camshaft timing from retarded to 
advanced. The ECM controls the operation of the VANOS solenoid which regulates the oil 
pressure required to move the control piston. Engine RPM, load and temperature are used 
to determine VANOS activation. 

VANOS mechanical operation is dependent on engine oil pressure applied to position the 
control pistons. When oil pressure is applied to the control pistons (regulated by the sole¬ 
noids), the pistons move causing the splined adjustment shafts to move. The straight 
splines slide within the camshaft sleeves. The helical splines rotate the camshaft drive 
sprockets changing the position in relation to the camshaft position which 
advances/retards the intake/exhaust camshaft timing. 



The operation of the VANOS solenoid is monitored in accordance with the OBD II require¬ 
ments for emission control. The ECM monitors the final stage output control and the signal 
from the Camshaft Position Sensors for VANOS operation. 


112 

ST055 MS42/MS43 Performance Controls 





























Dual VANOS consists of the following parts: 


• Intake and exhaust camshafts with helical gear insert 


• Sprockets with adjustable gears 


• VANOS actuators for each camshaft 


• 2 three-way solenoid switching valves 

• 2 impulse wheels for detecting camshaft position 


• 2 camshaft position sensors (Hall effect) 


TWO POSITION PISTON 
HOUSING WITH 
INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


KL 15 



MS42.0 


SOLENOID 


TWO POSITION PISTON HOUSING 
WITH INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


ENGINE 
OIL SUPPLY 



OIL TEMP 
SENSOR 


i 


l - 1 

lvi\/~ruiv ii— U 


When the engine is started, the camshafts are in the “failsafe” position (deactivated). The 
intake camshaft is in the RETARDED position - held by oil pressure from the sprung open 
solenoid. The exhaust camshaft is in the ADVANCED position - held by a preload spring in 
the actuator and oil pressure from the sprung open solenoid. 

After 50 RPM (2-5 seconds) from engine start, the ECM is monitoring the exact camshaft 
position. The ECM positions the camshafts based on engine RPM and the throttle position 
signal. From that point the camshaft timing will be varied based on intake air and coolant 
temperatures. 


113 

ST055 MS42/MS43 Performance Controls 


The dual VANOS system is “fully variable”. When the ECM detects the camshafts are in the 
optimum positions, the solenoids are modulated (approximately 100-220 Hz) maintaining 
oil pressure on both sides of the actuators to hold the camshaft timing. 

CAUTION: The VANOS MUST be removed and installed exactly as described in the Repair 
Instructions! 

NOTE: If the VANOS camshaft system goes to the failsafe mode (deactivated) there will be 
a noticeable loss of power. 

DEACTIVATED 


EXHAUST: Advanced - 
piston moved in 

INTAKE: Retard - piston 
moved out 


EXHAUST 


TWO POSITION PISTON 
HOUSING WITH 
INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


KL 15 



SOLENOID 


ECM 


TWO POSITION PISTON HOUSING 
WITH INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


ENGINE 
OIL SUPPLY 


INTAKE 



EXHAUST: Advanced - 


ACTIVATED 


piston moved out 

INTAKE: Retard - piston 
moved in 


EXHAUST 


TWO POSITION PISTON 
HOUSING WITH 
INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


KL 15 


MS42 

ECM 


MS42.0 

ECM 



TWO POSITION PISTON HOUSING 
WITH INTERNAL/EXTERNAL 
HELICAL GEAR CUP 


INTAKE 


114 


ST055 MS42/MS43 Performance Controls 














































The dual VANOS in conjunction with the variable intake manifold provides an additional 
emission control feature. 

Because of the improved combustion, the camshaft timing is adjusted for more overlap. 
The increased overlap supports internal exhaust gas recirculation (EGR) which reduces 
tailpipe emissions and lowers fuel consumption. 

During the part load engine range, the intake camshaft overlap opens the intake valve. This 
allows limited exhaust gas reflow the intake manifold. 

The “internal” EGR reduces the cylinder temperature thus lowering NOx. This feature pro¬ 
vides EGR without the external hardware as seen on previous systems. 


OUTLET-VANOS 


IN LET-VAN OS 


SECONDARY 

AIR 

INJECTION 
(AIR FILTER) 



IDLE AIR 

CONTROL VALVE 


115 

ST055 MS42/MS43 Performance Controls 





























































































Exhaust Flap Damper Control (M54 - if equipped) 

To meet European noise level compliance, the rear silencer incorporates a flap that is 
designed to reduce exhaust noise at idle, low rpm acceleration and while coasting. 
Components of the system include: 

• Exhaust Flap with Vacuum Actuator 

• Switching Solenoid 

• Vacuum Reservoir 


The ECM will power the switching solenoid and apply vacuum to the exhaust flap actuator 
to close the flap allowing additional damping of the exhaust. 

The ECM will deactivate the solenoid when accelerating above 2500 RPM (approx.) under 
load. The vacuum is vented from the flap actuator and the flap opens. This decreases the 
exhaust backpressure for improved torque and acceleration. 



VACUUM PORT 



VACUUM 
RESERVOIR 
(NEXT TO 
STARTER) 

+ 

VACUUM 
VENT 
VALVE 
(ON LEFT 
SIDE 
TRUNK 


116 

ST055 MS42/MS43 Performance Controls 





















































ECM Programming - FLASH Control Modules 


The MS42/MS43 ECM is a programmable “FLASH” Control Module. The ECM contains a 
soldered in FLASH EPROM which can be programmed/updated up to 13 times. The 
EPROM has basic information always present in it refered to as “resident data”. This resi¬ 
dent data gives the EPROM its identification and contains instructions for the programming 
of the operational maps. When you program, you are inputting operational maps to the 
ECM such as injection timing and ignition timing, etc. 

Always refer to the latest programming IDC Bulletin for a complete list of FLASH program¬ 
mable control modules and the latest program highlights. An unprogrammed control 
module will not allow the engine to start. DME (ECM) FLASH programming is per¬ 
formed with the DISplus/MoDIC using the latest software. 

Using the “automatic” determination process (preferred method), the MoDIC compares the 
part numbers stored in the FLASH EPROM of the currently installed ECM with a list of pos¬ 
sible replacement part numbers stored in the MoDIC’s memory. The comparison is done 
to: 


The determination identification screen is an 
example of the data displayed once the deter¬ 
mination is made. 


NOTE: Refer to Service Infor¬ 
mation Bulletin SI # 12 05 96 for 
detailed information on Progr¬ 
amming FLASH Control Modules. 

Refer to Service Information 
Bulletin #12 16 99 if 

Reprogramming of Engine 
Control Module May Not Be 
Possible. 

117 


LSIPM imw 



hflu7p »:0-ih :-l ifllL 
Pui U3 , t jit 

HMU 

Fl*1 **. F'Qfl nnl^J 


unrti 

Pin Ml, kasc ExnfioJ 
-- 


PjtI .SLj , bn lit ttf.UZi 

in LI |-nv:n m K*nK-r,i 

I fr - 

I UHffi- 


VWi 

CdC- 

Wlto uLH 


Pari "i_ — bar tar ■ 

cvftrt: 

P#ri>-» r t.-.-r b Bep-preyimrad sartnt 
rfHduta «TTY*i "V WI E 4d 


-rp#rr r...-vriD- !&> a pm^HfiTi^v 
rorLrel Sn b* RnarmS J chMOH 


F >- rynfifn mahlU Tin lIi 

13550075.jpg 


• Display the part number for the replacement 
programmable control module for that vehicle. 

• Determine if the MoDIC can “recommend” a 
replacement part number(s) from the list part 
numbers stored in its memory. 

• Identify a proper replacement program or 

control module. 


Modic III 



0101101001 


Resident 

Data 


Programming 
Data 

^ f (MAPS) 





I 


(Basic Programmable 
Motronic DME) 

12550003.eps 


ST055 MS42/MS43 Performance Controls 













































Tools and Equipment 


The DISplus/Modic as well as a reputable hand 
held multimeter can be used when testing 
inputs/components. 

It is best to make the checks at the ECM con¬ 
nection, this method includes testing the wiring 
harness. 

The correct Universal Adapter for the MS42/ 
MS43 application should be used (#90 88 6 121 
300). This will ensure the pin connectors and the 
harness will not be damaged. 

When installing the Universal Adapter to the 
ECM (located below the windshield on the pas¬ 
senger side of the engine compartment), make 
sure the ignition is switched off. 

NOTE for MS43: Allow at least 3 minutes to 
elapse after the key was set to the “OFF” 
position before disconnecting the ECM/ 
TCM. This will allow sufficient time to com¬ 
plete the DM TL test. Voltage may be pre¬ 
sent (up to 3 minutes) causing damage to 
the ECM/TCM if they are disconnected dur¬ 
ing this time period (arcing). 







VANOS 

The electrical/hydraulic function can be checked 
“statically” by using the adapter tools and shop 
supplied regulated compressed air. 

Special Tool # 90 88 6 113 450 adapts regulat¬ 
ed compressed air to substitute for engine oil 
pressure required to move the VANOS piston. 

Special Tool # 90 88 6 126 410 allows battery 
voltage and ground to activate the solenoid. 



118 


ST055 MS42/MS43 Performance Controls 


























































































































Review Questions 


1. Describe the Power Supply for the MS43 Fuel Injectors and Ignition Coils: 


2. Name the Components of the MS42 Fuel Supply System: 


3. List the inputs required fpr Fuel Injector operation: 


4. Describe the Emission Optimized Function: 


5. Name two types of Emissions the ECM controls:_ 

6. What two sensors are used to monitor MS43 accelerator movement? 

7. Why are there two inputs from the Accelerator Module?_ 


8. Where is the LDP located on an E46?_ 

9. Why does the M42/M43 have multiple ignition pulses?_ 

10. What is the Repair Instruction (number) for the procedure to perform a Leakage 

Diagnosis Test?_ 

11. How is the ignition system monitored?_ 


119 

ST055 MS42/MS43 Performance Controls 











